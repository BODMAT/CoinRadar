var Q4=Object.defineProperty;var Y4=(e,t,n)=>t in e?Q4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kt=(e,t,n)=>Y4(e,typeof t!="symbol"?t+"":t,n);function X4(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function AR(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D_={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function J4(){if(dE)return $u;dE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:o}}return $u.Fragment=t,$u.jsx=n,$u.jsxs=n,$u}var pE;function tN(){return pE||(pE=1,D_.exports=J4()),D_.exports}var Q=tN(),M_={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function eN(){if(mE)return Vt;mE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function E(F,et,ct){this.props=F,this.context=et,this.refs=C,this.updater=ct||b}E.prototype.isReactComponent={},E.prototype.setState=function(F,et){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,et,"setState")},E.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function I(){}I.prototype=E.prototype;function j(F,et,ct){this.props=F,this.context=et,this.refs=C,this.updater=ct||b}var k=j.prototype=new I;k.constructor=j,S(k,E.prototype),k.isPureReactComponent=!0;var N=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function D(F,et,ct,at,gt,mt){return ct=mt.ref,{$$typeof:e,type:F,key:et,ref:ct!==void 0?ct:null,props:mt}}function A(F,et){return D(F.type,et,void 0,void 0,void 0,F.props)}function R(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function M(F){var et={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ct){return et[ct]})}var O=/\/+/g;function L(F,et){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):et.toString(36)}function P(){}function Z(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(P,P):(F.status="pending",F.then(function(et){F.status==="pending"&&(F.status="fulfilled",F.value=et)},function(et){F.status==="pending"&&(F.status="rejected",F.reason=et)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function rt(F,et,ct,at,gt){var mt=typeof F;(mt==="undefined"||mt==="boolean")&&(F=null);var _t=!1;if(F===null)_t=!0;else switch(mt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(F.$$typeof){case e:case t:_t=!0;break;case p:return _t=F._init,rt(_t(F._payload),et,ct,at,gt)}}if(_t)return gt=gt(F),_t=at===""?"."+L(F,0):at,N(gt)?(ct="",_t!=null&&(ct=_t.replace(O,"$&/")+"/"),rt(gt,et,ct,"",function(ze){return ze})):gt!=null&&(R(gt)&&(gt=A(gt,ct+(gt.key==null||F&&F.key===gt.key?"":(""+gt.key).replace(O,"$&/")+"/")+_t)),et.push(gt)),1;_t=0;var xt=at===""?".":at+":";if(N(F))for(var Nt=0;Nt<F.length;Nt++)at=F[Nt],mt=xt+L(at,Nt),_t+=rt(at,et,ct,mt,gt);else if(Nt=_(F),typeof Nt=="function")for(F=Nt.call(F),Nt=0;!(at=F.next()).done;)at=at.value,mt=xt+L(at,Nt++),_t+=rt(at,et,ct,mt,gt);else if(mt==="object"){if(typeof F.then=="function")return rt(Z(F),et,ct,at,gt);throw et=String(F),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return _t}function q(F,et,ct){if(F==null)return F;var at=[],gt=0;return rt(F,at,"","",function(mt){return et.call(ct,mt,gt++)}),at}function W(F){if(F._status===-1){var et=F._result;et=et(),et.then(function(ct){(F._status===0||F._status===-1)&&(F._status=1,F._result=ct)},function(ct){(F._status===0||F._status===-1)&&(F._status=2,F._result=ct)}),F._status===-1&&(F._status=0,F._result=et)}if(F._status===1)return F._result.default;throw F._result}var st=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function dt(){}return Vt.Children={map:q,forEach:function(F,et,ct){q(F,function(){et.apply(this,arguments)},ct)},count:function(F){var et=0;return q(F,function(){et++}),et},toArray:function(F){return q(F,function(et){return et})||[]},only:function(F){if(!R(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Vt.Component=E,Vt.Fragment=n,Vt.Profiler=s,Vt.PureComponent=j,Vt.StrictMode=i,Vt.Suspense=h,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return V.H.useMemoCache(F)}},Vt.cache=function(F){return function(){return F.apply(null,arguments)}},Vt.cloneElement=function(F,et,ct){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var at=S({},F.props),gt=F.key,mt=void 0;if(et!=null)for(_t in et.ref!==void 0&&(mt=void 0),et.key!==void 0&&(gt=""+et.key),et)!B.call(et,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&et.ref===void 0||(at[_t]=et[_t]);var _t=arguments.length-2;if(_t===1)at.children=ct;else if(1<_t){for(var xt=Array(_t),Nt=0;Nt<_t;Nt++)xt[Nt]=arguments[Nt+2];at.children=xt}return D(F.type,gt,void 0,void 0,mt,at)},Vt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Vt.createElement=function(F,et,ct){var at,gt={},mt=null;if(et!=null)for(at in et.key!==void 0&&(mt=""+et.key),et)B.call(et,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(gt[at]=et[at]);var _t=arguments.length-2;if(_t===1)gt.children=ct;else if(1<_t){for(var xt=Array(_t),Nt=0;Nt<_t;Nt++)xt[Nt]=arguments[Nt+2];gt.children=xt}if(F&&F.defaultProps)for(at in _t=F.defaultProps,_t)gt[at]===void 0&&(gt[at]=_t[at]);return D(F,mt,void 0,void 0,null,gt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(F){return{$$typeof:u,render:F}},Vt.isValidElement=R,Vt.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:W}},Vt.memo=function(F,et){return{$$typeof:f,type:F,compare:et===void 0?null:et}},Vt.startTransition=function(F){var et=V.T,ct={};V.T=ct;try{var at=F(),gt=V.S;gt!==null&&gt(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(dt,st)}catch(mt){st(mt)}finally{V.T=et}},Vt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Vt.use=function(F){return V.H.use(F)},Vt.useActionState=function(F,et,ct){return V.H.useActionState(F,et,ct)},Vt.useCallback=function(F,et){return V.H.useCallback(F,et)},Vt.useContext=function(F){return V.H.useContext(F)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(F,et){return V.H.useDeferredValue(F,et)},Vt.useEffect=function(F,et,ct){var at=V.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(F,et)},Vt.useId=function(){return V.H.useId()},Vt.useImperativeHandle=function(F,et,ct){return V.H.useImperativeHandle(F,et,ct)},Vt.useInsertionEffect=function(F,et){return V.H.useInsertionEffect(F,et)},Vt.useLayoutEffect=function(F,et){return V.H.useLayoutEffect(F,et)},Vt.useMemo=function(F,et){return V.H.useMemo(F,et)},Vt.useOptimistic=function(F,et){return V.H.useOptimistic(F,et)},Vt.useReducer=function(F,et,ct){return V.H.useReducer(F,et,ct)},Vt.useRef=function(F){return V.H.useRef(F)},Vt.useState=function(F){return V.H.useState(F)},Vt.useSyncExternalStore=function(F,et,ct){return V.H.useSyncExternalStore(F,et,ct)},Vt.useTransition=function(){return V.H.useTransition()},Vt.version="19.1.0",Vt}var gE;function Gm(){return gE||(gE=1,M_.exports=eN()),M_.exports}var J=Gm();const Wm=AR(J),SX=X4({__proto__:null,default:Wm},[J]);var O_={exports:{}},Gu={},P_={exports:{}},k_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function nN(){return yE||(yE=1,function(e){function t(q,W){var st=q.length;q.push(W);t:for(;0<st;){var dt=st-1>>>1,F=q[dt];if(0<s(F,W))q[dt]=W,q[st]=F,st=dt;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var W=q[0],st=q.pop();if(st!==W){q[0]=st;t:for(var dt=0,F=q.length,et=F>>>1;dt<et;){var ct=2*(dt+1)-1,at=q[ct],gt=ct+1,mt=q[gt];if(0>s(at,st))gt<F&&0>s(mt,at)?(q[dt]=mt,q[gt]=st,dt=gt):(q[dt]=at,q[ct]=st,dt=ct);else if(gt<F&&0>s(mt,st))q[dt]=mt,q[gt]=st,dt=gt;else break t}}return W}function s(q,W){var st=q.sortIndex-W.sortIndex;return st!==0?st:q.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,y=null,_=3,b=!1,S=!1,C=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function N(q){for(var W=n(f);W!==null;){if(W.callback===null)i(f);else if(W.startTime<=q)i(f),W.sortIndex=W.expirationTime,t(h,W);else break;W=n(f)}}function V(q){if(C=!1,N(q),!S)if(n(h)!==null)S=!0,B||(B=!0,L());else{var W=n(f);W!==null&&rt(V,W.startTime-q)}}var B=!1,D=-1,A=5,R=-1;function M(){return E?!0:!(e.unstable_now()-R<A)}function O(){if(E=!1,B){var q=e.unstable_now();R=q;var W=!0;try{t:{S=!1,C&&(C=!1,j(D),D=-1),b=!0;var st=_;try{e:{for(N(q),y=n(h);y!==null&&!(y.expirationTime>q&&M());){var dt=y.callback;if(typeof dt=="function"){y.callback=null,_=y.priorityLevel;var F=dt(y.expirationTime<=q);if(q=e.unstable_now(),typeof F=="function"){y.callback=F,N(q),W=!0;break e}y===n(h)&&i(h),N(q)}else i(h);y=n(h)}if(y!==null)W=!0;else{var et=n(f);et!==null&&rt(V,et.startTime-q),W=!1}}break t}finally{y=null,_=st,b=!1}W=void 0}}finally{W?L():B=!1}}}var L;if(typeof k=="function")L=function(){k(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Z=P.port2;P.port1.onmessage=O,L=function(){Z.postMessage(null)}}else L=function(){I(O,0)};function rt(q,W){D=I(function(){q(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(q){switch(_){case 1:case 2:case 3:var W=3;break;default:W=_}var st=_;_=W;try{return q()}finally{_=st}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var st=_;_=q;try{return W()}finally{_=st}},e.unstable_scheduleCallback=function(q,W,st){var dt=e.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?dt+st:dt):st=dt,q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=st+F,q={id:p++,callback:W,priorityLevel:q,startTime:st,expirationTime:F,sortIndex:-1},st>dt?(q.sortIndex=st,t(f,q),n(h)===null&&q===n(f)&&(C?(j(D),D=-1):C=!0,rt(V,st-dt))):(q.sortIndex=F,t(h,q),S||b||(S=!0,B||(B=!0,L()))),q},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(q){var W=_;return function(){var st=_;_=W;try{return q.apply(this,arguments)}finally{_=st}}}}(k_)),k_}var _E;function iN(){return _E||(_E=1,P_.exports=nN()),P_.exports}var N_={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function sN(){if(vE)return wn;vE=1;var e=Gm();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,p)},wn.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},wn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},wn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},wn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},wn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},wn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},wn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},wn.requestFormReset=function(h){i.d.r(h)},wn.unstable_batchedUpdates=function(h,f){return h(f)},wn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},wn.useFormStatus=function(){return l.H.useHostTransitionStatus()},wn.version="19.1.0",wn}var bE;function xR(){if(bE)return N_.exports;bE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),N_.exports=sN(),N_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function rN(){if(TE)return Gu;TE=1;var e=iN(),t=Gm(),n=xR();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,d=a;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return u(g),r;if(v===d)return u(g),a;v=v.sibling}throw Error(i(188))}if(c.return!==d.return)c=g,d=v;else{for(var x=!1,z=g.child;z;){if(z===c){x=!0,c=g,d=v;break}if(z===d){x=!0,d=g,c=v;break}z=z.sibling}if(!x){for(z=v.child;z;){if(z===c){x=!0,c=v,d=g;break}if(z===d){x=!0,d=v,c=g;break}z=z.sibling}if(!x)throw Error(i(189))}}if(c.alternate!==d)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function f(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=f(r),a!==null)return a;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function Z(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case k:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case N:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return a=r.displayName||null,a!==null?a:Z(r.type)||"Memo";case A:a=r._payload,r=r._init;try{return Z(r(a))}catch{}}return null}var rt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},dt=[],F=-1;function et(r){return{current:r}}function ct(r){0>F||(r.current=dt[F],dt[F]=null,F--)}function at(r,a){F++,dt[F]=r.current,r.current=a}var gt=et(null),mt=et(null),_t=et(null),xt=et(null);function Nt(r,a){switch(at(_t,a),at(mt,r),at(gt,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Bw(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Bw(a),r=Fw(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ct(gt),at(gt,r)}function ze(){ct(gt),ct(mt),ct(_t)}function Yt(r){r.memoizedState!==null&&at(xt,r);var a=gt.current,c=Fw(a,r.type);a!==c&&(at(mt,r),at(gt,c))}function Ft(r){mt.current===r&&(ct(gt),ct(mt)),xt.current===r&&(ct(xt),ju._currentValue=st)}var be=Object.prototype.hasOwnProperty,jn=e.unstable_scheduleCallback,en=e.unstable_cancelCallback,ai=e.unstable_shouldYield,Pn=e.unstable_requestPaint,De=e.unstable_now,Os=e.unstable_getCurrentPriorityLevel,Ps=e.unstable_ImmediatePriority,Sr=e.unstable_UserBlockingPriority,Zi=e.unstable_NormalPriority,zc=e.unstable_LowPriority,Xa=e.unstable_IdlePriority,Uc=e.log,Mf=e.unstable_setDisableYieldValue,xe=null,ne=null;function Yn(r){if(typeof Uc=="function"&&Mf(r),ne&&typeof ne.setStrictMode=="function")try{ne.setStrictMode(xe,r)}catch{}}var Tn=Math.clz32?Math.clz32:Mo,Of=Math.log,Og=Math.LN2;function Mo(r){return r>>>=0,r===0?32:31-(Of(r)/Og|0)|0}var Oo=256,Po=4194304;function Mi(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ja(r,a,c){var d=r.pendingLanes;if(d===0)return 0;var g=0,v=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var z=d&134217727;return z!==0?(d=z&~v,d!==0?g=Mi(d):(x&=z,x!==0?g=Mi(x):c||(c=z&~r,c!==0&&(g=Mi(c))))):(z=d&~v,z!==0?g=Mi(z):x!==0?g=Mi(x):c||(c=d&~r,c!==0&&(g=Mi(c)))),g===0?0:a!==0&&a!==g&&(a&v)===0&&(v=g&-g,c=a&-a,v>=c||v===32&&(c&4194048)!==0)?a:g}function ko(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function jc(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(){var r=Oo;return Oo<<=1,(Oo&4194048)===0&&(Oo=256),r}function Fc(){var r=Po;return Po<<=1,(Po&62914560)===0&&(Po=4194304),r}function ks(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Ns(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Hc(r,a,c,d,g,v){var x=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var z=r.entanglements,H=r.expirationTimes,X=r.hiddenUpdates;for(c=x&~c;0<c;){var ot=31-Tn(c),ht=1<<ot;z[ot]=0,H[ot]=-1;var tt=X[ot];if(tt!==null)for(X[ot]=null,ot=0;ot<tt.length;ot++){var nt=tt[ot];nt!==null&&(nt.lane&=-536870913)}c&=~ht}d!==0&&Qi(r,d,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(x&~a))}function Qi(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var d=31-Tn(a);r.entangledLanes|=a,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function qc(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var d=31-Tn(c),g=1<<d;g&a|r[d]&a&&(r[d]|=a),c&=~g}}function wr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function tl(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Er(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:aE(r.type))}function Pf(r,a){var c=W.p;try{return W.p=r,a()}finally{W.p=c}}var ye=Math.random().toString(36).slice(2),Ge="__reactFiber$"+ye,Ue="__reactProps$"+ye,li="__reactContainer$"+ye,$c="__reactEvents$"+ye,Pg="__reactListeners$"+ye,Ar="__reactHandles$"+ye,kf="__reactResources$"+ye,No="__reactMarker$"+ye;function xr(r){delete r[Ge],delete r[Ue],delete r[$c],delete r[Pg],delete r[Ar]}function Vs(r){var a=r[Ge];if(a)return a;for(var c=r.parentNode;c;){if(a=c[li]||c[Ge]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=Gw(r);r!==null;){if(c=r[Ge])return c;r=Gw(r)}return a}r=c,c=r.parentNode}return null}function Yi(r){if(r=r[Ge]||r[li]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Xi(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function kn(r){var a=r[kf];return a||(a=r[kf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Me(r){r[No]=!0}var Gc=new Set,el={};function Oi(r,a){Ls(r,a),Ls(r+"Capture",a)}function Ls(r,a){for(el[r]=a,r=0;r<a.length;r++)Gc.add(a[r])}var Nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vf={},Vo={};function Lf(r){return be.call(Vo,r)?!0:be.call(Vf,r)?!1:Nf.test(r)?Vo[r]=!0:(Vf[r]=!0,!1)}function Cr(r,a,c){if(Lf(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function Ji(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function un(r,a,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+d)}}var Lo,zf;function zs(r){if(Lo===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Lo=a&&a[1]||"",zf=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lo+r+zf}var nl=!1;function il(r,a){if(!r||nl)return"";nl=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(nt){var tt=nt}Reflect.construct(r,[],ht)}else{try{ht.call()}catch(nt){tt=nt}r.call(ht.prototype)}}else{try{throw Error()}catch(nt){tt=nt}(ht=r())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(nt){if(nt&&tt&&typeof nt.stack=="string")return[nt.stack,tt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),x=v[0],z=v[1];if(x&&z){var H=x.split(`
`),X=z.split(`
`);for(g=d=0;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;for(;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;if(d===H.length||g===X.length)for(d=H.length-1,g=X.length-1;1<=d&&0<=g&&H[d]!==X[g];)g--;for(;1<=d&&0<=g;d--,g--)if(H[d]!==X[g]){if(d!==1||g!==1)do if(d--,g--,0>g||H[d]!==X[g]){var ot=`
`+H[d].replace(" at new "," at ");return r.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",r.displayName)),ot}while(1<=d&&0<=g);break}}}finally{nl=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?zs(c):""}function Wc(r){switch(r.tag){case 26:case 27:case 5:return zs(r.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 15:return il(r.type,!1);case 11:return il(r.type.render,!1);case 1:return il(r.type,!0);case 31:return zs("Activity");default:return""}}function sl(r){try{var a="";do a+=Wc(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Nn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Kc(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function kg(r){var a=Kc(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){d=""+x,v.call(this,x)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function rl(r){r._valueTracker||(r._valueTracker=kg(r))}function Zc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),d="";return r&&(d=Kc(r)?r.checked?"true":"false":r.value),r=d,r!==c?(a.setValue(r),!0):!1}function zo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ng=/[\n"\\]/g;function je(r){return r.replace(Ng,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Xn(r,a,c,d,g,v,x,z){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),a!=null?x==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Nn(a)):r.value!==""+Nn(a)&&(r.value=""+Nn(a)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),a!=null?Rr(r,x,Nn(a)):c!=null?Rr(r,x,Nn(c)):d!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?r.name=""+Nn(z):r.removeAttribute("name")}function Uo(r,a,c,d,g,v,x,z){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),a!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;c=c!=null?""+Nn(c):"",a=a!=null?""+Nn(a):c,z||a===r.value||(r.value=a),r.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=z?r.checked:!!d,r.defaultChecked=!!d,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x)}function Rr(r,a,c){a==="number"&&zo(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Us(r,a,c,d){if(r=r.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=a.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&d&&(r[c].defaultSelected=!0)}else{for(c=""+Nn(c),a=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function oe(r,a,c){if(a!=null&&(a=""+Nn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+Nn(c):""}function jo(r,a,c,d){if(a==null){if(d!=null){if(c!=null)throw Error(i(92));if(rt(d)){if(1<d.length)throw Error(i(93));d=d[0]}c=d}c==null&&(c=""),a=c}c=Nn(a),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function ci(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uf(r,a,c){var d=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":d?r.setProperty(a,c):typeof c!="number"||c===0||Bo.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function Qc(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in a)d=a[g],a.hasOwnProperty(g)&&c[g]!==d&&Uf(r,g,d)}else for(var v in a)a.hasOwnProperty(v)&&Uf(r,v,a[v])}function Yc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ol(r){return Lg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var js=null;function ui(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Bs=null,Fs=null;function Xc(r){var a=Yi(r);if(a&&(r=a.stateNode)){var c=r[Ue]||null;t:switch(r=a.stateNode,a.type){case"input":if(Xn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+je(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var d=c[a];if(d!==r&&d.form===r.form){var g=d[Ue]||null;if(!g)throw Error(i(90));Xn(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)d=c[a],d.form===r.form&&Zc(d)}break t;case"textarea":oe(r,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Us(r,!!c.multiple,a,!1)}}}var ts=!1;function jf(r,a,c){if(ts)return r(a,c);ts=!0;try{var d=r(a);return d}finally{if(ts=!1,(Bs!==null||Fs!==null)&&(Pd(),Bs&&(a=Bs,r=Fs,Fs=Bs=null,Xc(a),r)))for(a=0;a<r.length;a++)Xc(r[a])}}function Fo(r,a){var c=r.stateNode;if(c===null)return null;var d=c[Ue]||null;if(d===null)return null;c=d[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hi=!1;if(Pi)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){hi=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{hi=!1}var es=null,Ir=null,Hs=null;function Jc(){if(Hs)return Hs;var r,a=Ir,c=a.length,d,g="value"in es?es.value:es.textContent,v=g.length;for(r=0;r<c&&a[r]===g[r];r++);var x=c-r;for(d=1;d<=x&&a[c-d]===g[v-d];d++);return Hs=g.slice(r,1<d?1-d:void 0)}function ns(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function is(){return!0}function tu(){return!1}function nn(r){function a(c,d,g,v,x){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var z in r)r.hasOwnProperty(z)&&(c=r[z],this[z]=c?c(v):v[z]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?is:tu,this.isPropagationStopped=tu,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),a}var te={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=nn(te),qo=p({},te,{view:0,detail:0}),Bf=nn(qo),ll,cl,ss,$o=p({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ko,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ss&&(ss&&r.type==="mousemove"?(ll=r.screenX-ss.screenX,cl=r.screenY-ss.screenY):cl=ll=0,ss=r),ll)},movementY:function(r){return"movementY"in r?r.movementY:cl}}),fi=nn($o),Ff=p({},$o,{dataTransfer:0}),zg=nn(Ff),Go=p({},qo,{relatedTarget:0}),ul=nn(Go),eu=p({},te,{animationName:0,elapsedTime:0,pseudoElement:0}),hl=nn(eu),Hf=p({},te,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fl=nn(Hf),Ug=p({},te,{data:0}),nu=nn(Ug),Wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=$f[r])?!!a[r]:!1}function Ko(){return iu}var Gf=p({},qo,{key:function(r){if(r.key){var a=Wo[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ko,charCode:function(r){return r.type==="keypress"?ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dl=nn(Gf),Wf=p({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=nn(Wf),qs=p({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ko}),Kf=nn(qs),Zf=p({},te,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qf=nn(Zf),Yf=p({},$o,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),pl=nn(Yf),Vn=p({},te,{newState:0,oldState:0}),Xf=nn(Vn),Jf=[9,13,27,32],rs=Pi&&"CompositionEvent"in window,m=null;Pi&&"documentMode"in document&&(m=document.documentMode);var T=Pi&&"TextEvent"in window&&!m,w=Pi&&(!rs||m&&8<m&&11>=m),U=" ",K=!1;function it(r,a){switch(r){case"keyup":return Jf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Gt=!1;function We(r,a){switch(r){case"compositionend":return yt(a);case"keypress":return a.which!==32?null:(K=!0,U);case"textInput":return r=a.data,r===U&&K?null:r;default:return null}}function Wt(r,a){if(Gt)return r==="compositionend"||!rs&&it(r,a)?(r=Jc(),Hs=Ir=es=null,Gt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ke(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!sn[r.type]:a==="textarea"}function $s(r,a,c,d){Bs?Fs?Fs.push(d):Fs=[d]:Bs=d,a=Ud(a,"onChange"),0<a.length&&(c=new al("onChange","change",null,c,d),r.push({event:c,listeners:a}))}var hn=null,os=null;function ru(r){Vw(r,0)}function td(r){var a=Xi(r);if(Zc(a))return r}function i1(r,a){if(r==="change")return a}var s1=!1;if(Pi){var jg;if(Pi){var Bg="oninput"in document;if(!Bg){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),Bg=typeof r1.oninput=="function"}jg=Bg}else jg=!1;s1=jg&&(!document.documentMode||9<document.documentMode)}function o1(){hn&&(hn.detachEvent("onpropertychange",a1),os=hn=null)}function a1(r){if(r.propertyName==="value"&&td(os)){var a=[];$s(a,os,r,ui(r)),jf(ru,a)}}function xk(r,a,c){r==="focusin"?(o1(),hn=a,os=c,hn.attachEvent("onpropertychange",a1)):r==="focusout"&&o1()}function Ck(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return td(os)}function Rk(r,a){if(r==="click")return td(a)}function Ik(r,a){if(r==="input"||r==="change")return td(a)}function Dk(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Jn=typeof Object.is=="function"?Object.is:Dk;function ou(r,a){if(Jn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),d=Object.keys(a);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!be.call(a,g)||!Jn(r[g],a[g]))return!1}return!0}function l1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function c1(r,a){var c=l1(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=a&&d>=a)return{node:c,offset:a-r};r=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=l1(c)}}function u1(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?u1(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function h1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=zo(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=zo(r.document)}return a}function Fg(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var Mk=Pi&&"documentMode"in document&&11>=document.documentMode,ml=null,Hg=null,au=null,qg=!1;function f1(r,a,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qg||ml==null||ml!==zo(d)||(d=ml,"selectionStart"in d&&Fg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),au&&ou(au,d)||(au=d,d=Ud(Hg,"onSelect"),0<d.length&&(a=new al("onSelect","select",null,a,c),r.push({event:a,listeners:d}),a.target=ml)))}function Zo(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var gl={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionrun:Zo("Transition","TransitionRun"),transitionstart:Zo("Transition","TransitionStart"),transitioncancel:Zo("Transition","TransitionCancel"),transitionend:Zo("Transition","TransitionEnd")},$g={},d1={};Pi&&(d1=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function Qo(r){if($g[r])return $g[r];if(!gl[r])return r;var a=gl[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in d1)return $g[r]=a[c];return r}var p1=Qo("animationend"),m1=Qo("animationiteration"),g1=Qo("animationstart"),Ok=Qo("transitionrun"),Pk=Qo("transitionstart"),kk=Qo("transitioncancel"),y1=Qo("transitionend"),_1=new Map,Gg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gg.push("scrollEnd");function ki(r,a){_1.set(r,a),Oi(a,[r])}var v1=new WeakMap;function di(r,a){if(typeof r=="object"&&r!==null){var c=v1.get(r);return c!==void 0?c:(a={value:r,source:a,stack:sl(a)},v1.set(r,a),a)}return{value:r,source:a,stack:sl(a)}}var pi=[],yl=0,Wg=0;function ed(){for(var r=yl,a=Wg=yl=0;a<r;){var c=pi[a];pi[a++]=null;var d=pi[a];pi[a++]=null;var g=pi[a];pi[a++]=null;var v=pi[a];if(pi[a++]=null,d!==null&&g!==null){var x=d.pending;x===null?g.next=g:(g.next=x.next,x.next=g),d.pending=g}v!==0&&b1(c,g,v)}}function nd(r,a,c,d){pi[yl++]=r,pi[yl++]=a,pi[yl++]=c,pi[yl++]=d,Wg|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Kg(r,a,c,d){return nd(r,a,c,d),id(r)}function _l(r,a){return nd(r,null,null,a),id(r)}function b1(r,a,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var g=!1,v=r.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&a!==null&&(g=31-Tn(c),r=v.hiddenUpdates,d=r[g],d===null?r[g]=[a]:d.push(a),a.lane=c|536870912),v):null}function id(r){if(50<Ou)throw Ou=0,t_=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var vl={};function Nk(r,a,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(r,a,c,d){return new Nk(r,a,c,d)}function Zg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Gs(r,a){var c=r.alternate;return c===null?(c=ti(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function T1(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function sd(r,a,c,d,g,v){var x=0;if(d=r,typeof r=="function")Zg(r)&&(x=1);else if(typeof r=="string")x=L4(r,c,gt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case R:return r=ti(31,c,a,g),r.elementType=R,r.lanes=v,r;case S:return Yo(c.children,g,v,a);case C:x=8,g|=24;break;case E:return r=ti(12,c,a,g|2),r.elementType=E,r.lanes=v,r;case V:return r=ti(13,c,a,g),r.elementType=V,r.lanes=v,r;case B:return r=ti(19,c,a,g),r.elementType=B,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case I:case k:x=10;break t;case j:x=9;break t;case N:x=11;break t;case D:x=14;break t;case A:x=16,d=null;break t}x=29,c=Error(i(130,r===null?"null":typeof r,"")),d=null}return a=ti(x,c,a,g),a.elementType=r,a.type=d,a.lanes=v,a}function Yo(r,a,c,d){return r=ti(7,r,d,a),r.lanes=c,r}function Qg(r,a,c){return r=ti(6,r,null,a),r.lanes=c,r}function Yg(r,a,c){return a=ti(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var bl=[],Tl=0,rd=null,od=0,mi=[],gi=0,Xo=null,Ws=1,Ks="";function Jo(r,a){bl[Tl++]=od,bl[Tl++]=rd,rd=r,od=a}function S1(r,a,c){mi[gi++]=Ws,mi[gi++]=Ks,mi[gi++]=Xo,Xo=r;var d=Ws;r=Ks;var g=32-Tn(d)-1;d&=~(1<<g),c+=1;var v=32-Tn(a)+g;if(30<v){var x=g-g%5;v=(d&(1<<x)-1).toString(32),d>>=x,g-=x,Ws=1<<32-Tn(a)+g|c<<g|d,Ks=v+r}else Ws=1<<v|c<<g|d,Ks=r}function Xg(r){r.return!==null&&(Jo(r,1),S1(r,1,0))}function Jg(r){for(;r===rd;)rd=bl[--Tl],bl[Tl]=null,od=bl[--Tl],bl[Tl]=null;for(;r===Xo;)Xo=mi[--gi],mi[gi]=null,Ks=mi[--gi],mi[gi]=null,Ws=mi[--gi],mi[gi]=null}var Ln=null,Ce=null,Jt=!1,ta=null,as=!1,ty=Error(i(519));function ea(r){var a=Error(i(418,""));throw uu(di(a,r)),ty}function w1(r){var a=r.stateNode,c=r.type,d=r.memoizedProps;switch(a[Ge]=r,a[Ue]=d,c){case"dialog":Bt("cancel",a),Bt("close",a);break;case"iframe":case"object":case"embed":Bt("load",a);break;case"video":case"audio":for(c=0;c<ku.length;c++)Bt(ku[c],a);break;case"source":Bt("error",a);break;case"img":case"image":case"link":Bt("error",a),Bt("load",a);break;case"details":Bt("toggle",a);break;case"input":Bt("invalid",a),Uo(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),rl(a);break;case"select":Bt("invalid",a);break;case"textarea":Bt("invalid",a),jo(a,d.value,d.defaultValue,d.children),rl(a)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||d.suppressHydrationWarning===!0||jw(a.textContent,c)?(d.popover!=null&&(Bt("beforetoggle",a),Bt("toggle",a)),d.onScroll!=null&&Bt("scroll",a),d.onScrollEnd!=null&&Bt("scrollend",a),d.onClick!=null&&(a.onclick=jd),a=!0):a=!1,a||ea(r)}function E1(r){for(Ln=r.return;Ln;)switch(Ln.tag){case 5:case 13:as=!1;return;case 27:case 3:as=!0;return;default:Ln=Ln.return}}function lu(r){if(r!==Ln)return!1;if(!Jt)return E1(r),Jt=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||g_(r.type,r.memoizedProps)),c=!c),c&&Ce&&ea(r),E1(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){Ce=Vi(r.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}Ce=null}}else a===27?(a=Ce,$r(r.type)?(r=b_,b_=null,Ce=r):Ce=a):Ce=Ln?Vi(r.stateNode.nextSibling):null;return!0}function cu(){Ce=Ln=null,Jt=!1}function A1(){var r=ta;return r!==null&&(Hn===null?Hn=r:Hn.push.apply(Hn,r),ta=null),r}function uu(r){ta===null?ta=[r]:ta.push(r)}var ey=et(null),na=null,Zs=null;function Dr(r,a,c){at(ey,a._currentValue),a._currentValue=c}function Qs(r){r._currentValue=ey.current,ct(ey)}function ny(r,a,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===c)break;r=r.return}}function iy(r,a,c,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var x=g.child;v=v.firstContext;t:for(;v!==null;){var z=v;v=g;for(var H=0;H<a.length;H++)if(z.context===a[H]){v.lanes|=c,z=v.alternate,z!==null&&(z.lanes|=c),ny(v.return,c,r),d||(x=null);break t}v=z.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(i(341));x.lanes|=c,v=x.alternate,v!==null&&(v.lanes|=c),ny(x,c,r),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===r){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function hu(r,a,c,d){r=null;for(var g=a,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var z=g.type;Jn(g.pendingProps.value,x.value)||(r!==null?r.push(z):r=[z])}}else if(g===xt.current){if(x=g.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(ju):r=[ju])}g=g.return}r!==null&&iy(a,r,c,d),a.flags|=262144}function ad(r){for(r=r.firstContext;r!==null;){if(!Jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ia(r){na=r,Zs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Sn(r){return x1(na,r)}function ld(r,a){return na===null&&ia(r),x1(r,a)}function x1(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Zs===null){if(r===null)throw Error(i(308));Zs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Zs=Zs.next=a;return c}var Vk=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},Lk=e.unstable_scheduleCallback,zk=e.unstable_NormalPriority,Ze={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sy(){return{controller:new Vk,data:new Map,refCount:0}}function fu(r){r.refCount--,r.refCount===0&&Lk(zk,function(){r.controller.abort()})}var du=null,ry=0,Sl=0,wl=null;function Uk(r,a){if(du===null){var c=du=[];ry=0,Sl=a_(),wl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return ry++,a.then(C1,C1),a}function C1(){if(--ry===0&&du!==null){wl!==null&&(wl.status="fulfilled");var r=du;du=null,Sl=0,wl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function jk(r,a){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return r.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var R1=q.S;q.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Uk(r,a),R1!==null&&R1(r,a)};var sa=et(null);function oy(){var r=sa.current;return r!==null?r:he.pooledCache}function cd(r,a){a===null?at(sa,sa.current):at(sa,a.pool)}function I1(){var r=oy();return r===null?null:{parent:Ze._currentValue,pool:r}}var pu=Error(i(460)),D1=Error(i(474)),ud=Error(i(542)),ay={then:function(){}};function M1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function hd(){}function O1(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(hd,hd),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,k1(r),r;default:if(typeof a.status=="string")a.then(hd,hd);else{if(r=he,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(d){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=d}},function(d){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,k1(r),r}throw mu=a,pu}}var mu=null;function P1(){if(mu===null)throw Error(i(459));var r=mu;return mu=null,r}function k1(r){if(r===pu||r===ud)throw Error(i(483))}var Mr=!1;function ly(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cy(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Or(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Pr(r,a,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(ie&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=id(r),b1(r,null,c),a}return nd(r,d,a,c),id(r)}function gu(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var d=a.lanes;d&=r.pendingLanes,c|=d,a.lanes=c,qc(r,c)}}function uy(r,a){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?g=v=x:v=v.next=x,c=c.next}while(c!==null);v===null?g=v=a:v=v.next=a}else g=v=a;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var hy=!1;function yu(){if(hy){var r=wl;if(r!==null)throw r}}function _u(r,a,c,d){hy=!1;var g=r.updateQueue;Mr=!1;var v=g.firstBaseUpdate,x=g.lastBaseUpdate,z=g.shared.pending;if(z!==null){g.shared.pending=null;var H=z,X=H.next;H.next=null,x===null?v=X:x.next=X,x=H;var ot=r.alternate;ot!==null&&(ot=ot.updateQueue,z=ot.lastBaseUpdate,z!==x&&(z===null?ot.firstBaseUpdate=X:z.next=X,ot.lastBaseUpdate=H))}if(v!==null){var ht=g.baseState;x=0,ot=X=H=null,z=v;do{var tt=z.lane&-536870913,nt=tt!==z.lane;if(nt?(Kt&tt)===tt:(d&tt)===tt){tt!==0&&tt===Sl&&(hy=!0),ot!==null&&(ot=ot.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});t:{var It=r,At=z;tt=a;var ce=c;switch(At.tag){case 1:if(It=At.payload,typeof It=="function"){ht=It.call(ce,ht,tt);break t}ht=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=At.payload,tt=typeof It=="function"?It.call(ce,ht,tt):It,tt==null)break t;ht=p({},ht,tt);break t;case 2:Mr=!0}}tt=z.callback,tt!==null&&(r.flags|=64,nt&&(r.flags|=8192),nt=g.callbacks,nt===null?g.callbacks=[tt]:nt.push(tt))}else nt={lane:tt,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ot===null?(X=ot=nt,H=ht):ot=ot.next=nt,x|=tt;if(z=z.next,z===null){if(z=g.shared.pending,z===null)break;nt=z,z=nt.next,nt.next=null,g.lastBaseUpdate=nt,g.shared.pending=null}}while(!0);ot===null&&(H=ht),g.baseState=H,g.firstBaseUpdate=X,g.lastBaseUpdate=ot,v===null&&(g.shared.lanes=0),Br|=x,r.lanes=x,r.memoizedState=ht}}function N1(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function V1(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)N1(c[r],a)}var El=et(null),fd=et(0);function L1(r,a){r=ir,at(fd,r),at(El,a),ir=r|a.baseLanes}function fy(){at(fd,ir),at(El,El.current)}function dy(){ir=fd.current,ct(El),ct(fd)}var kr=0,Lt=null,ae=null,Be=null,dd=!1,Al=!1,ra=!1,pd=0,vu=0,xl=null,Bk=0;function Oe(){throw Error(i(321))}function py(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!Jn(r[c],a[c]))return!1;return!0}function my(r,a,c,d,g,v){return kr=v,Lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=r===null||r.memoizedState===null?bS:TS,ra=!1,v=c(d,g),ra=!1,Al&&(v=U1(a,c,d,g)),z1(r),v}function z1(r){q.H=bd;var a=ae!==null&&ae.next!==null;if(kr=0,Be=ae=Lt=null,dd=!1,vu=0,xl=null,a)throw Error(i(300));r===null||rn||(r=r.dependencies,r!==null&&ad(r)&&(rn=!0))}function U1(r,a,c,d){Lt=r;var g=0;do{if(Al&&(xl=null),vu=0,Al=!1,25<=g)throw Error(i(301));if(g+=1,Be=ae=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}q.H=Kk,v=a(c,d)}while(Al);return v}function Fk(){var r=q.H,a=r.useState()[0];return a=typeof a.then=="function"?bu(a):a,r=r.useState()[0],(ae!==null?ae.memoizedState:null)!==r&&(Lt.flags|=1024),a}function gy(){var r=pd!==0;return pd=0,r}function yy(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function _y(r){if(dd){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}dd=!1}kr=0,Be=ae=Lt=null,Al=!1,vu=pd=0,xl=null}function Bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Lt.memoizedState=Be=r:Be=Be.next=r,Be}function Fe(){if(ae===null){var r=Lt.alternate;r=r!==null?r.memoizedState:null}else r=ae.next;var a=Be===null?Lt.memoizedState:Be.next;if(a!==null)Be=a,ae=r;else{if(r===null)throw Lt.alternate===null?Error(i(467)):Error(i(310));ae=r,r={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Be===null?Lt.memoizedState=Be=r:Be=Be.next=r}return Be}function vy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(r){var a=vu;return vu+=1,xl===null&&(xl=[]),r=O1(xl,r,a),a=Lt,(Be===null?a.memoizedState:Be.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?bS:TS),r}function md(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return bu(r);if(r.$$typeof===k)return Sn(r)}throw Error(i(438,String(r)))}function by(r){var a=null,c=Lt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var d=Lt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=vy(),Lt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),d=0;d<r;d++)c[d]=M;return a.index++,c}function Ys(r,a){return typeof a=="function"?a(r):a}function gd(r){var a=Fe();return Ty(a,ae,r)}function Ty(r,a,c){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=c;var g=r.baseQueue,v=d.pending;if(v!==null){if(g!==null){var x=g.next;g.next=v.next,v.next=x}a.baseQueue=g=v,d.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{a=g.next;var z=x=null,H=null,X=a,ot=!1;do{var ht=X.lane&-536870913;if(ht!==X.lane?(Kt&ht)===ht:(kr&ht)===ht){var tt=X.revertLane;if(tt===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ht===Sl&&(ot=!0);else if((kr&tt)===tt){X=X.next,tt===Sl&&(ot=!0);continue}else ht={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(z=H=ht,x=v):H=H.next=ht,Lt.lanes|=tt,Br|=tt;ht=X.action,ra&&c(v,ht),v=X.hasEagerState?X.eagerState:c(v,ht)}else tt={lane:ht,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(z=H=tt,x=v):H=H.next=tt,Lt.lanes|=ht,Br|=ht;X=X.next}while(X!==null&&X!==a);if(H===null?x=v:H.next=z,!Jn(v,r.memoizedState)&&(rn=!0,ot&&(c=wl,c!==null)))throw c;r.memoizedState=v,r.baseState=x,r.baseQueue=H,d.lastRenderedState=v}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Sy(r){var a=Fe(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var d=c.dispatch,g=c.pending,v=a.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do v=r(v,x.action),x=x.next;while(x!==g);Jn(v,a.memoizedState)||(rn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,d]}function j1(r,a,c){var d=Lt,g=Fe(),v=Jt;if(v){if(c===void 0)throw Error(i(407));c=c()}else c=a();var x=!Jn((ae||g).memoizedState,c);x&&(g.memoizedState=c,rn=!0),g=g.queue;var z=H1.bind(null,d,g,r);if(Tu(2048,8,z,[r]),g.getSnapshot!==a||x||Be!==null&&Be.memoizedState.tag&1){if(d.flags|=2048,Cl(9,yd(),F1.bind(null,d,g,c,a),null),he===null)throw Error(i(349));v||(kr&124)!==0||B1(d,a,c)}return c}function B1(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Lt.updateQueue,a===null?(a=vy(),Lt.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function F1(r,a,c,d){a.value=c,a.getSnapshot=d,q1(a)&&$1(r)}function H1(r,a,c){return c(function(){q1(a)&&$1(r)})}function q1(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!Jn(r,c)}catch{return!0}}function $1(r){var a=_l(r,2);a!==null&&ri(a,r,2)}function wy(r){var a=Bn();if(typeof r=="function"){var c=r;if(r=c(),ra){Yn(!0);try{c()}finally{Yn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:r},a}function G1(r,a,c,d){return r.baseState=c,Ty(r,ae,typeof d=="function"?d:Ys)}function Hk(r,a,c,d,g){if(vd(r))throw Error(i(485));if(r=a.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){v.listeners.push(x)}};q.T!==null?c(!0):v.isTransition=!1,d(v),c=a.pending,c===null?(v.next=a.pending=v,W1(a,v)):(v.next=c.next,a.pending=c.next=v)}}function W1(r,a){var c=a.action,d=a.payload,g=r.state;if(a.isTransition){var v=q.T,x={};q.T=x;try{var z=c(g,d),H=q.S;H!==null&&H(x,z),K1(r,a,z)}catch(X){Ey(r,a,X)}finally{q.T=v}}else try{v=c(g,d),K1(r,a,v)}catch(X){Ey(r,a,X)}}function K1(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Z1(r,a,d)},function(d){return Ey(r,a,d)}):Z1(r,a,c)}function Z1(r,a,c){a.status="fulfilled",a.value=c,Q1(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,W1(r,c)))}function Ey(r,a,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=c,Q1(a),a=a.next;while(a!==d)}r.action=null}function Q1(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Y1(r,a){return a}function X1(r,a){if(Jt){var c=he.formState;if(c!==null){t:{var d=Lt;if(Jt){if(Ce){e:{for(var g=Ce,v=as;g.nodeType!==8;){if(!v){g=null;break e}if(g=Vi(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Ce=Vi(g.nextSibling),d=g.data==="F!";break t}}ea(d)}d=!1}d&&(a=c[0])}}return c=Bn(),c.memoizedState=c.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y1,lastRenderedState:a},c.queue=d,c=yS.bind(null,Lt,d),d.dispatch=c,d=wy(!1),v=Iy.bind(null,Lt,!1,d.queue),d=Bn(),g={state:a,dispatch:null,action:r,pending:null},d.queue=g,c=Hk.bind(null,Lt,g,v,c),g.dispatch=c,d.memoizedState=r,[a,c,!1]}function J1(r){var a=Fe();return tS(a,ae,r)}function tS(r,a,c){if(a=Ty(r,a,Y1)[0],r=gd(Ys)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=bu(a)}catch(x){throw x===pu?ud:x}else d=a;a=Fe();var g=a.queue,v=g.dispatch;return c!==a.memoizedState&&(Lt.flags|=2048,Cl(9,yd(),qk.bind(null,g,c),null)),[d,v,r]}function qk(r,a){r.action=a}function eS(r){var a=Fe(),c=ae;if(c!==null)return tS(a,c,r);Fe(),a=a.memoizedState,c=Fe();var d=c.queue.dispatch;return c.memoizedState=r,[a,d,!1]}function Cl(r,a,c,d){return r={tag:r,create:c,deps:d,inst:a,next:null},a=Lt.updateQueue,a===null&&(a=vy(),Lt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,a.lastEffect=r),r}function yd(){return{destroy:void 0,resource:void 0}}function nS(){return Fe().memoizedState}function _d(r,a,c,d){var g=Bn();d=d===void 0?null:d,Lt.flags|=r,g.memoizedState=Cl(1|a,yd(),c,d)}function Tu(r,a,c,d){var g=Fe();d=d===void 0?null:d;var v=g.memoizedState.inst;ae!==null&&d!==null&&py(d,ae.memoizedState.deps)?g.memoizedState=Cl(a,v,c,d):(Lt.flags|=r,g.memoizedState=Cl(1|a,v,c,d))}function iS(r,a){_d(8390656,8,r,a)}function sS(r,a){Tu(2048,8,r,a)}function rS(r,a){return Tu(4,2,r,a)}function oS(r,a){return Tu(4,4,r,a)}function aS(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function lS(r,a,c){c=c!=null?c.concat([r]):null,Tu(4,4,aS.bind(null,a,r),c)}function Ay(){}function cS(r,a){var c=Fe();a=a===void 0?null:a;var d=c.memoizedState;return a!==null&&py(a,d[1])?d[0]:(c.memoizedState=[r,a],r)}function uS(r,a){var c=Fe();a=a===void 0?null:a;var d=c.memoizedState;if(a!==null&&py(a,d[1]))return d[0];if(d=r(),ra){Yn(!0);try{r()}finally{Yn(!1)}}return c.memoizedState=[d,a],d}function xy(r,a,c){return c===void 0||(kr&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=dw(),Lt.lanes|=r,Br|=r,c)}function hS(r,a,c,d){return Jn(c,a)?c:El.current!==null?(r=xy(r,c,d),Jn(r,a)||(rn=!0),r):(kr&42)===0?(rn=!0,r.memoizedState=c):(r=dw(),Lt.lanes|=r,Br|=r,a)}function fS(r,a,c,d,g){var v=W.p;W.p=v!==0&&8>v?v:8;var x=q.T,z={};q.T=z,Iy(r,!1,a,c);try{var H=g(),X=q.S;if(X!==null&&X(z,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ot=jk(H,d);Su(r,a,ot,si(r))}else Su(r,a,d,si(r))}catch(ht){Su(r,a,{then:function(){},status:"rejected",reason:ht},si())}finally{W.p=v,q.T=x}}function $k(){}function Cy(r,a,c,d){if(r.tag!==5)throw Error(i(476));var g=dS(r).queue;fS(r,g,a,st,c===null?$k:function(){return pS(r),c(d)})}function dS(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:st},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function pS(r){var a=dS(r).next.queue;Su(r,a,{},si())}function Ry(){return Sn(ju)}function mS(){return Fe().memoizedState}function gS(){return Fe().memoizedState}function Gk(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=si();r=Or(c);var d=Pr(a,r,c);d!==null&&(ri(d,a,c),gu(d,a,c)),a={cache:sy()},r.payload=a;return}a=a.return}}function Wk(r,a,c){var d=si();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},vd(r)?_S(a,c):(c=Kg(r,a,c,d),c!==null&&(ri(c,r,d),vS(c,a,d)))}function yS(r,a,c){var d=si();Su(r,a,c,d)}function Su(r,a,c,d){var g={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(vd(r))_S(a,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var x=a.lastRenderedState,z=v(x,c);if(g.hasEagerState=!0,g.eagerState=z,Jn(z,x))return nd(r,a,g,0),he===null&&ed(),!1}catch{}finally{}if(c=Kg(r,a,g,d),c!==null)return ri(c,r,d),vS(c,a,d),!0}return!1}function Iy(r,a,c,d){if(d={lane:2,revertLane:a_(),action:d,hasEagerState:!1,eagerState:null,next:null},vd(r)){if(a)throw Error(i(479))}else a=Kg(r,c,d,2),a!==null&&ri(a,r,2)}function vd(r){var a=r.alternate;return r===Lt||a!==null&&a===Lt}function _S(r,a){Al=dd=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function vS(r,a,c){if((c&4194048)!==0){var d=a.lanes;d&=r.pendingLanes,c|=d,a.lanes=c,qc(r,c)}}var bd={readContext:Sn,use:md,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe},bS={readContext:Sn,use:md,useCallback:function(r,a){return Bn().memoizedState=[r,a===void 0?null:a],r},useContext:Sn,useEffect:iS,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,_d(4194308,4,aS.bind(null,a,r),c)},useLayoutEffect:function(r,a){return _d(4194308,4,r,a)},useInsertionEffect:function(r,a){_d(4,2,r,a)},useMemo:function(r,a){var c=Bn();a=a===void 0?null:a;var d=r();if(ra){Yn(!0);try{r()}finally{Yn(!1)}}return c.memoizedState=[d,a],d},useReducer:function(r,a,c){var d=Bn();if(c!==void 0){var g=c(a);if(ra){Yn(!0);try{c(a)}finally{Yn(!1)}}}else g=a;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=Wk.bind(null,Lt,r),[d.memoizedState,r]},useRef:function(r){var a=Bn();return r={current:r},a.memoizedState=r},useState:function(r){r=wy(r);var a=r.queue,c=yS.bind(null,Lt,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:Ay,useDeferredValue:function(r,a){var c=Bn();return xy(c,r,a)},useTransition:function(){var r=wy(!1);return r=fS.bind(null,Lt,r.queue,!0,!1),Bn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var d=Lt,g=Bn();if(Jt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),he===null)throw Error(i(349));(Kt&124)!==0||B1(d,a,c)}g.memoizedState=c;var v={value:c,getSnapshot:a};return g.queue=v,iS(H1.bind(null,d,v,r),[r]),d.flags|=2048,Cl(9,yd(),F1.bind(null,d,v,c,a),null),c},useId:function(){var r=Bn(),a=he.identifierPrefix;if(Jt){var c=Ks,d=Ws;c=(d&~(1<<32-Tn(d)-1)).toString(32)+c,a=""+a+"R"+c,c=pd++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=Bk++,a=""+a+"r"+c.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:Ry,useFormState:X1,useActionState:X1,useOptimistic:function(r){var a=Bn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Iy.bind(null,Lt,!0,c),c.dispatch=a,[r,a]},useMemoCache:by,useCacheRefresh:function(){return Bn().memoizedState=Gk.bind(null,Lt)}},TS={readContext:Sn,use:md,useCallback:cS,useContext:Sn,useEffect:sS,useImperativeHandle:lS,useInsertionEffect:rS,useLayoutEffect:oS,useMemo:uS,useReducer:gd,useRef:nS,useState:function(){return gd(Ys)},useDebugValue:Ay,useDeferredValue:function(r,a){var c=Fe();return hS(c,ae.memoizedState,r,a)},useTransition:function(){var r=gd(Ys)[0],a=Fe().memoizedState;return[typeof r=="boolean"?r:bu(r),a]},useSyncExternalStore:j1,useId:mS,useHostTransitionStatus:Ry,useFormState:J1,useActionState:J1,useOptimistic:function(r,a){var c=Fe();return G1(c,ae,r,a)},useMemoCache:by,useCacheRefresh:gS},Kk={readContext:Sn,use:md,useCallback:cS,useContext:Sn,useEffect:sS,useImperativeHandle:lS,useInsertionEffect:rS,useLayoutEffect:oS,useMemo:uS,useReducer:Sy,useRef:nS,useState:function(){return Sy(Ys)},useDebugValue:Ay,useDeferredValue:function(r,a){var c=Fe();return ae===null?xy(c,r,a):hS(c,ae.memoizedState,r,a)},useTransition:function(){var r=Sy(Ys)[0],a=Fe().memoizedState;return[typeof r=="boolean"?r:bu(r),a]},useSyncExternalStore:j1,useId:mS,useHostTransitionStatus:Ry,useFormState:eS,useActionState:eS,useOptimistic:function(r,a){var c=Fe();return ae!==null?G1(c,ae,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:by,useCacheRefresh:gS},Rl=null,wu=0;function Td(r){var a=wu;return wu+=1,Rl===null&&(Rl=[]),O1(Rl,r,a)}function Eu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Sd(r,a){throw a.$$typeof===y?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function SS(r){var a=r._init;return a(r._payload)}function wS(r){function a(G,$){if(r){var Y=G.deletions;Y===null?(G.deletions=[$],G.flags|=16):Y.push($)}}function c(G,$){if(!r)return null;for(;$!==null;)a(G,$),$=$.sibling;return null}function d(G){for(var $=new Map;G!==null;)G.key!==null?$.set(G.key,G):$.set(G.index,G),G=G.sibling;return $}function g(G,$){return G=Gs(G,$),G.index=0,G.sibling=null,G}function v(G,$,Y){return G.index=Y,r?(Y=G.alternate,Y!==null?(Y=Y.index,Y<$?(G.flags|=67108866,$):Y):(G.flags|=67108866,$)):(G.flags|=1048576,$)}function x(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function z(G,$,Y,lt){return $===null||$.tag!==6?($=Qg(Y,G.mode,lt),$.return=G,$):($=g($,Y),$.return=G,$)}function H(G,$,Y,lt){var bt=Y.type;return bt===S?ot(G,$,Y.props.children,lt,Y.key):$!==null&&($.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===A&&SS(bt)===$.type)?($=g($,Y.props),Eu($,Y),$.return=G,$):($=sd(Y.type,Y.key,Y.props,null,G.mode,lt),Eu($,Y),$.return=G,$)}function X(G,$,Y,lt){return $===null||$.tag!==4||$.stateNode.containerInfo!==Y.containerInfo||$.stateNode.implementation!==Y.implementation?($=Yg(Y,G.mode,lt),$.return=G,$):($=g($,Y.children||[]),$.return=G,$)}function ot(G,$,Y,lt,bt){return $===null||$.tag!==7?($=Yo(Y,G.mode,lt,bt),$.return=G,$):($=g($,Y),$.return=G,$)}function ht(G,$,Y){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Qg(""+$,G.mode,Y),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return Y=sd($.type,$.key,$.props,null,G.mode,Y),Eu(Y,$),Y.return=G,Y;case b:return $=Yg($,G.mode,Y),$.return=G,$;case A:var lt=$._init;return $=lt($._payload),ht(G,$,Y)}if(rt($)||L($))return $=Yo($,G.mode,Y,null),$.return=G,$;if(typeof $.then=="function")return ht(G,Td($),Y);if($.$$typeof===k)return ht(G,ld(G,$),Y);Sd(G,$)}return null}function tt(G,$,Y,lt){var bt=$!==null?$.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return bt!==null?null:z(G,$,""+Y,lt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return Y.key===bt?H(G,$,Y,lt):null;case b:return Y.key===bt?X(G,$,Y,lt):null;case A:return bt=Y._init,Y=bt(Y._payload),tt(G,$,Y,lt)}if(rt(Y)||L(Y))return bt!==null?null:ot(G,$,Y,lt,null);if(typeof Y.then=="function")return tt(G,$,Td(Y),lt);if(Y.$$typeof===k)return tt(G,$,ld(G,Y),lt);Sd(G,Y)}return null}function nt(G,$,Y,lt,bt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return G=G.get(Y)||null,z($,G,""+lt,bt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case _:return G=G.get(lt.key===null?Y:lt.key)||null,H($,G,lt,bt);case b:return G=G.get(lt.key===null?Y:lt.key)||null,X($,G,lt,bt);case A:var Ut=lt._init;return lt=Ut(lt._payload),nt(G,$,Y,lt,bt)}if(rt(lt)||L(lt))return G=G.get(Y)||null,ot($,G,lt,bt,null);if(typeof lt.then=="function")return nt(G,$,Y,Td(lt),bt);if(lt.$$typeof===k)return nt(G,$,Y,ld($,lt),bt);Sd($,lt)}return null}function It(G,$,Y,lt){for(var bt=null,Ut=null,St=$,Ct=$=0,an=null;St!==null&&Ct<Y.length;Ct++){St.index>Ct?(an=St,St=null):an=St.sibling;var Xt=tt(G,St,Y[Ct],lt);if(Xt===null){St===null&&(St=an);break}r&&St&&Xt.alternate===null&&a(G,St),$=v(Xt,$,Ct),Ut===null?bt=Xt:Ut.sibling=Xt,Ut=Xt,St=an}if(Ct===Y.length)return c(G,St),Jt&&Jo(G,Ct),bt;if(St===null){for(;Ct<Y.length;Ct++)St=ht(G,Y[Ct],lt),St!==null&&($=v(St,$,Ct),Ut===null?bt=St:Ut.sibling=St,Ut=St);return Jt&&Jo(G,Ct),bt}for(St=d(St);Ct<Y.length;Ct++)an=nt(St,G,Ct,Y[Ct],lt),an!==null&&(r&&an.alternate!==null&&St.delete(an.key===null?Ct:an.key),$=v(an,$,Ct),Ut===null?bt=an:Ut.sibling=an,Ut=an);return r&&St.forEach(function(Qr){return a(G,Qr)}),Jt&&Jo(G,Ct),bt}function At(G,$,Y,lt){if(Y==null)throw Error(i(151));for(var bt=null,Ut=null,St=$,Ct=$=0,an=null,Xt=Y.next();St!==null&&!Xt.done;Ct++,Xt=Y.next()){St.index>Ct?(an=St,St=null):an=St.sibling;var Qr=tt(G,St,Xt.value,lt);if(Qr===null){St===null&&(St=an);break}r&&St&&Qr.alternate===null&&a(G,St),$=v(Qr,$,Ct),Ut===null?bt=Qr:Ut.sibling=Qr,Ut=Qr,St=an}if(Xt.done)return c(G,St),Jt&&Jo(G,Ct),bt;if(St===null){for(;!Xt.done;Ct++,Xt=Y.next())Xt=ht(G,Xt.value,lt),Xt!==null&&($=v(Xt,$,Ct),Ut===null?bt=Xt:Ut.sibling=Xt,Ut=Xt);return Jt&&Jo(G,Ct),bt}for(St=d(St);!Xt.done;Ct++,Xt=Y.next())Xt=nt(St,G,Ct,Xt.value,lt),Xt!==null&&(r&&Xt.alternate!==null&&St.delete(Xt.key===null?Ct:Xt.key),$=v(Xt,$,Ct),Ut===null?bt=Xt:Ut.sibling=Xt,Ut=Xt);return r&&St.forEach(function(Z4){return a(G,Z4)}),Jt&&Jo(G,Ct),bt}function ce(G,$,Y,lt){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:t:{for(var bt=Y.key;$!==null;){if($.key===bt){if(bt=Y.type,bt===S){if($.tag===7){c(G,$.sibling),lt=g($,Y.props.children),lt.return=G,G=lt;break t}}else if($.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===A&&SS(bt)===$.type){c(G,$.sibling),lt=g($,Y.props),Eu(lt,Y),lt.return=G,G=lt;break t}c(G,$);break}else a(G,$);$=$.sibling}Y.type===S?(lt=Yo(Y.props.children,G.mode,lt,Y.key),lt.return=G,G=lt):(lt=sd(Y.type,Y.key,Y.props,null,G.mode,lt),Eu(lt,Y),lt.return=G,G=lt)}return x(G);case b:t:{for(bt=Y.key;$!==null;){if($.key===bt)if($.tag===4&&$.stateNode.containerInfo===Y.containerInfo&&$.stateNode.implementation===Y.implementation){c(G,$.sibling),lt=g($,Y.children||[]),lt.return=G,G=lt;break t}else{c(G,$);break}else a(G,$);$=$.sibling}lt=Yg(Y,G.mode,lt),lt.return=G,G=lt}return x(G);case A:return bt=Y._init,Y=bt(Y._payload),ce(G,$,Y,lt)}if(rt(Y))return It(G,$,Y,lt);if(L(Y)){if(bt=L(Y),typeof bt!="function")throw Error(i(150));return Y=bt.call(Y),At(G,$,Y,lt)}if(typeof Y.then=="function")return ce(G,$,Td(Y),lt);if(Y.$$typeof===k)return ce(G,$,ld(G,Y),lt);Sd(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,$!==null&&$.tag===6?(c(G,$.sibling),lt=g($,Y),lt.return=G,G=lt):(c(G,$),lt=Qg(Y,G.mode,lt),lt.return=G,G=lt),x(G)):c(G,$)}return function(G,$,Y,lt){try{wu=0;var bt=ce(G,$,Y,lt);return Rl=null,bt}catch(St){if(St===pu||St===ud)throw St;var Ut=ti(29,St,null,G.mode);return Ut.lanes=lt,Ut.return=G,Ut}finally{}}}var Il=wS(!0),ES=wS(!1),yi=et(null),ls=null;function Nr(r){var a=r.alternate;at(Qe,Qe.current&1),at(yi,r),ls===null&&(a===null||El.current!==null||a.memoizedState!==null)&&(ls=r)}function AS(r){if(r.tag===22){if(at(Qe,Qe.current),at(yi,r),ls===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(ls=r)}}else Vr()}function Vr(){at(Qe,Qe.current),at(yi,yi.current)}function Xs(r){ct(yi),ls===r&&(ls=null),ct(Qe)}var Qe=et(0);function wd(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||v_(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Dy(r,a,c,d){a=r.memoizedState,c=c(d,a),c=c==null?a:p({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var My={enqueueSetState:function(r,a,c){r=r._reactInternals;var d=si(),g=Or(d);g.payload=a,c!=null&&(g.callback=c),a=Pr(r,g,d),a!==null&&(ri(a,r,d),gu(a,r,d))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var d=si(),g=Or(d);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=Pr(r,g,d),a!==null&&(ri(a,r,d),gu(a,r,d))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=si(),d=Or(c);d.tag=2,a!=null&&(d.callback=a),a=Pr(r,d,c),a!==null&&(ri(a,r,c),gu(a,r,c))}};function xS(r,a,c,d,g,v,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,x):a.prototype&&a.prototype.isPureReactComponent?!ou(c,d)||!ou(g,v):!0}function CS(r,a,c,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,d),a.state!==r&&My.enqueueReplaceState(a,a.state,null)}function oa(r,a){var c=a;if("ref"in a){c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}if(r=r.defaultProps){c===a&&(c=p({},c));for(var g in r)c[g]===void 0&&(c[g]=r[g])}return c}var Ed=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function RS(r){Ed(r)}function IS(r){console.error(r)}function DS(r){Ed(r)}function Ad(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function MS(r,a,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Oy(r,a,c){return c=Or(c),c.tag=3,c.payload={element:null},c.callback=function(){Ad(r,a)},c}function OS(r){return r=Or(r),r.tag=3,r}function PS(r,a,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;r.payload=function(){return g(v)},r.callback=function(){MS(a,c,d)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){MS(a,c,d),typeof g!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var z=d.stack;this.componentDidCatch(d.value,{componentStack:z!==null?z:""})})}function Zk(r,a,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=c.alternate,a!==null&&hu(a,c,g,!0),c=yi.current,c!==null){switch(c.tag){case 13:return ls===null?n_():c.alternate===null&&Re===0&&(Re=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===ay?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([d]):a.add(d),s_(r,d,g)),!1;case 22:return c.flags|=65536,d===ay?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([d]):c.add(d)),s_(r,d,g)),!1}throw Error(i(435,c.tag))}return s_(r,d,g),n_(),!1}if(Jt)return a=yi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==ty&&(r=Error(i(422),{cause:d}),uu(di(r,c)))):(d!==ty&&(a=Error(i(423),{cause:d}),uu(di(a,c))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=di(d,c),g=Oy(r.stateNode,d,g),uy(r,g),Re!==4&&(Re=2)),!1;var v=Error(i(520),{cause:d});if(v=di(v,c),Mu===null?Mu=[v]:Mu.push(v),Re!==4&&(Re=2),a===null)return!0;d=di(d,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=g&-g,c.lanes|=r,r=Oy(c.stateNode,d,r),uy(c,r),!1;case 1:if(a=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fr===null||!Fr.has(v))))return c.flags|=65536,g&=-g,c.lanes|=g,g=OS(g),PS(g,r,c,d),uy(c,g),!1}c=c.return}while(c!==null);return!1}var kS=Error(i(461)),rn=!1;function fn(r,a,c,d){a.child=r===null?ES(a,null,c,d):Il(a,r.child,c,d)}function NS(r,a,c,d,g){c=c.render;var v=a.ref;if("ref"in d){var x={};for(var z in d)z!=="ref"&&(x[z]=d[z])}else x=d;return ia(a),d=my(r,a,c,x,v,g),z=gy(),r!==null&&!rn?(yy(r,a,g),Js(r,a,g)):(Jt&&z&&Xg(a),a.flags|=1,fn(r,a,d,g),a.child)}function VS(r,a,c,d,g){if(r===null){var v=c.type;return typeof v=="function"&&!Zg(v)&&v.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=v,LS(r,a,v,d,g)):(r=sd(c.type,null,d,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(v=r.child,!jy(r,g)){var x=v.memoizedProps;if(c=c.compare,c=c!==null?c:ou,c(x,d)&&r.ref===a.ref)return Js(r,a,g)}return a.flags|=1,r=Gs(v,d),r.ref=a.ref,r.return=a,a.child=r}function LS(r,a,c,d,g){if(r!==null){var v=r.memoizedProps;if(ou(v,d)&&r.ref===a.ref)if(rn=!1,a.pendingProps=d=v,jy(r,g))(r.flags&131072)!==0&&(rn=!0);else return a.lanes=r.lanes,Js(r,a,g)}return Py(r,a,c,d,g)}function zS(r,a,c){var d=a.pendingProps,g=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=v!==null?v.baseLanes|c:c,r!==null){for(g=a.child=r.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;a.childLanes=v&~d}else a.childLanes=0,a.child=null;return US(r,a,d,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&cd(a,v!==null?v.cachePool:null),v!==null?L1(a,v):fy(),AS(a);else return a.lanes=a.childLanes=536870912,US(r,a,v!==null?v.baseLanes|c:c,c)}else v!==null?(cd(a,v.cachePool),L1(a,v),Vr(),a.memoizedState=null):(r!==null&&cd(a,null),fy(),Vr());return fn(r,a,g,c),a.child}function US(r,a,c,d){var g=oy();return g=g===null?null:{parent:Ze._currentValue,pool:g},a.memoizedState={baseLanes:c,cachePool:g},r!==null&&cd(a,null),fy(),AS(a),r!==null&&hu(r,a,d,!0),null}function xd(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function Py(r,a,c,d,g){return ia(a),c=my(r,a,c,d,void 0,g),d=gy(),r!==null&&!rn?(yy(r,a,g),Js(r,a,g)):(Jt&&d&&Xg(a),a.flags|=1,fn(r,a,c,g),a.child)}function jS(r,a,c,d,g,v){return ia(a),a.updateQueue=null,c=U1(a,d,c,g),z1(r),d=gy(),r!==null&&!rn?(yy(r,a,v),Js(r,a,v)):(Jt&&d&&Xg(a),a.flags|=1,fn(r,a,c,v),a.child)}function BS(r,a,c,d,g){if(ia(a),a.stateNode===null){var v=vl,x=c.contextType;typeof x=="object"&&x!==null&&(v=Sn(x)),v=new c(d,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=My,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=d,v.state=a.memoizedState,v.refs={},ly(a),x=c.contextType,v.context=typeof x=="object"&&x!==null?Sn(x):vl,v.state=a.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(Dy(a,c,x,d),v.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(x=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),x!==v.state&&My.enqueueReplaceState(v,v.state,null),_u(a,d,v,g),yu(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(r===null){v=a.stateNode;var z=a.memoizedProps,H=oa(c,z);v.props=H;var X=v.context,ot=c.contextType;x=vl,typeof ot=="object"&&ot!==null&&(x=Sn(ot));var ht=c.getDerivedStateFromProps;ot=typeof ht=="function"||typeof v.getSnapshotBeforeUpdate=="function",z=a.pendingProps!==z,ot||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(z||X!==x)&&CS(a,v,d,x),Mr=!1;var tt=a.memoizedState;v.state=tt,_u(a,d,v,g),yu(),X=a.memoizedState,z||tt!==X||Mr?(typeof ht=="function"&&(Dy(a,c,ht,d),X=a.memoizedState),(H=Mr||xS(a,c,H,d,tt,X,x))?(ot||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=X),v.props=d,v.state=X,v.context=x,d=H):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{v=a.stateNode,cy(r,a),x=a.memoizedProps,ot=oa(c,x),v.props=ot,ht=a.pendingProps,tt=v.context,X=c.contextType,H=vl,typeof X=="object"&&X!==null&&(H=Sn(X)),z=c.getDerivedStateFromProps,(X=typeof z=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==ht||tt!==H)&&CS(a,v,d,H),Mr=!1,tt=a.memoizedState,v.state=tt,_u(a,d,v,g),yu();var nt=a.memoizedState;x!==ht||tt!==nt||Mr||r!==null&&r.dependencies!==null&&ad(r.dependencies)?(typeof z=="function"&&(Dy(a,c,z,d),nt=a.memoizedState),(ot=Mr||xS(a,c,ot,d,tt,nt,H)||r!==null&&r.dependencies!==null&&ad(r.dependencies))?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,nt,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,nt,H)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===r.memoizedProps&&tt===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&tt===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=nt),v.props=d,v.state=nt,v.context=H,d=ot):(typeof v.componentDidUpdate!="function"||x===r.memoizedProps&&tt===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&tt===r.memoizedState||(a.flags|=1024),d=!1)}return v=d,xd(r,a),d=(a.flags&128)!==0,v||d?(v=a.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,r!==null&&d?(a.child=Il(a,r.child,null,g),a.child=Il(a,null,c,g)):fn(r,a,c,g),a.memoizedState=v.state,r=a.child):r=Js(r,a,g),r}function FS(r,a,c,d){return cu(),a.flags|=256,fn(r,a,c,d),a.child}var ky={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ny(r){return{baseLanes:r,cachePool:I1()}}function Vy(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=_i),r}function HS(r,a,c){var d=a.pendingProps,g=!1,v=(a.flags&128)!==0,x;if((x=v)||(x=r!==null&&r.memoizedState===null?!1:(Qe.current&2)!==0),x&&(g=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,r===null){if(Jt){if(g?Nr(a):Vr(),Jt){var z=Ce,H;if(H=z){t:{for(H=z,z=as;H.nodeType!==8;){if(!z){z=null;break t}if(H=Vi(H.nextSibling),H===null){z=null;break t}}z=H}z!==null?(a.memoizedState={dehydrated:z,treeContext:Xo!==null?{id:Ws,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},H=ti(18,null,null,0),H.stateNode=z,H.return=a,a.child=H,Ln=a,Ce=null,H=!0):H=!1}H||ea(a)}if(z=a.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return v_(z)?a.lanes=32:a.lanes=536870912,null;Xs(a)}return z=d.children,d=d.fallback,g?(Vr(),g=a.mode,z=Cd({mode:"hidden",children:z},g),d=Yo(d,g,c,null),z.return=a,d.return=a,z.sibling=d,a.child=z,g=a.child,g.memoizedState=Ny(c),g.childLanes=Vy(r,x,c),a.memoizedState=ky,d):(Nr(a),Ly(a,z))}if(H=r.memoizedState,H!==null&&(z=H.dehydrated,z!==null)){if(v)a.flags&256?(Nr(a),a.flags&=-257,a=zy(r,a,c)):a.memoizedState!==null?(Vr(),a.child=r.child,a.flags|=128,a=null):(Vr(),g=d.fallback,z=a.mode,d=Cd({mode:"visible",children:d.children},z),g=Yo(g,z,c,null),g.flags|=2,d.return=a,g.return=a,d.sibling=g,a.child=d,Il(a,r.child,null,c),d=a.child,d.memoizedState=Ny(c),d.childLanes=Vy(r,x,c),a.memoizedState=ky,a=g);else if(Nr(a),v_(z)){if(x=z.nextSibling&&z.nextSibling.dataset,x)var X=x.dgst;x=X,d=Error(i(419)),d.stack="",d.digest=x,uu({value:d,source:null,stack:null}),a=zy(r,a,c)}else if(rn||hu(r,a,c,!1),x=(c&r.childLanes)!==0,rn||x){if(x=he,x!==null&&(d=c&-c,d=(d&42)!==0?1:wr(d),d=(d&(x.suspendedLanes|c))!==0?0:d,d!==0&&d!==H.retryLane))throw H.retryLane=d,_l(r,d),ri(x,r,d),kS;z.data==="$?"||n_(),a=zy(r,a,c)}else z.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=H.treeContext,Ce=Vi(z.nextSibling),Ln=a,Jt=!0,ta=null,as=!1,r!==null&&(mi[gi++]=Ws,mi[gi++]=Ks,mi[gi++]=Xo,Ws=r.id,Ks=r.overflow,Xo=a),a=Ly(a,d.children),a.flags|=4096);return a}return g?(Vr(),g=d.fallback,z=a.mode,H=r.child,X=H.sibling,d=Gs(H,{mode:"hidden",children:d.children}),d.subtreeFlags=H.subtreeFlags&65011712,X!==null?g=Gs(X,g):(g=Yo(g,z,c,null),g.flags|=2),g.return=a,d.return=a,d.sibling=g,a.child=d,d=g,g=a.child,z=r.child.memoizedState,z===null?z=Ny(c):(H=z.cachePool,H!==null?(X=Ze._currentValue,H=H.parent!==X?{parent:X,pool:X}:H):H=I1(),z={baseLanes:z.baseLanes|c,cachePool:H}),g.memoizedState=z,g.childLanes=Vy(r,x,c),a.memoizedState=ky,d):(Nr(a),c=r.child,r=c.sibling,c=Gs(c,{mode:"visible",children:d.children}),c.return=a,c.sibling=null,r!==null&&(x=a.deletions,x===null?(a.deletions=[r],a.flags|=16):x.push(r)),a.child=c,a.memoizedState=null,c)}function Ly(r,a){return a=Cd({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Cd(r,a){return r=ti(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function zy(r,a,c){return Il(a,r.child,null,c),r=Ly(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function qS(r,a,c){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),ny(r.return,a,c)}function Uy(r,a,c,d,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=g)}function $S(r,a,c){var d=a.pendingProps,g=d.revealOrder,v=d.tail;if(fn(r,a,d.children,c),d=Qe.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qS(r,c,a);else if(r.tag===19)qS(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(at(Qe,d),g){case"forwards":for(c=a.child,g=null;c!==null;)r=c.alternate,r!==null&&wd(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Uy(a,!1,g,c,v);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&wd(r)===null){a.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}Uy(a,!0,c,null,v);break;case"together":Uy(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Js(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),Br|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(hu(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=Gs(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=Gs(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function jy(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&ad(r)))}function Qk(r,a,c){switch(a.tag){case 3:Nt(a,a.stateNode.containerInfo),Dr(a,Ze,r.memoizedState.cache),cu();break;case 27:case 5:Yt(a);break;case 4:Nt(a,a.stateNode.containerInfo);break;case 10:Dr(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Nr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?HS(r,a,c):(Nr(a),r=Js(r,a,c),r!==null?r.sibling:null);Nr(a);break;case 19:var g=(r.flags&128)!==0;if(d=(c&a.childLanes)!==0,d||(hu(r,a,c,!1),d=(c&a.childLanes)!==0),g){if(d)return $S(r,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(Qe,Qe.current),d)break;return null;case 22:case 23:return a.lanes=0,zS(r,a,c);case 24:Dr(a,Ze,r.memoizedState.cache)}return Js(r,a,c)}function GS(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)rn=!0;else{if(!jy(r,c)&&(a.flags&128)===0)return rn=!1,Qk(r,a,c);rn=(r.flags&131072)!==0}else rn=!1,Jt&&(a.flags&1048576)!==0&&S1(a,od,a.index);switch(a.lanes=0,a.tag){case 16:t:{r=a.pendingProps;var d=a.elementType,g=d._init;if(d=g(d._payload),a.type=d,typeof d=="function")Zg(d)?(r=oa(d,r),a.tag=1,a=BS(null,a,d,r,c)):(a.tag=0,a=Py(null,a,d,r,c));else{if(d!=null){if(g=d.$$typeof,g===N){a.tag=11,a=NS(null,a,d,r,c);break t}else if(g===D){a.tag=14,a=VS(null,a,d,r,c);break t}}throw a=Z(d)||d,Error(i(306,a,""))}}return a;case 0:return Py(r,a,a.type,a.pendingProps,c);case 1:return d=a.type,g=oa(d,a.pendingProps),BS(r,a,d,g,c);case 3:t:{if(Nt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));d=a.pendingProps;var v=a.memoizedState;g=v.element,cy(r,a),_u(a,d,null,c);var x=a.memoizedState;if(d=x.cache,Dr(a,Ze,d),d!==v.cache&&iy(a,[Ze],c,!0),yu(),d=x.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=FS(r,a,d,c);break t}else if(d!==g){g=di(Error(i(424)),a),uu(g),a=FS(r,a,d,c);break t}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ce=Vi(r.firstChild),Ln=a,Jt=!0,ta=null,as=!0,c=ES(a,null,d,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(cu(),d===g){a=Js(r,a,c);break t}fn(r,a,d,c)}a=a.child}return a;case 26:return xd(r,a),r===null?(c=Qw(a.type,null,a.pendingProps,null))?a.memoizedState=c:Jt||(c=a.type,r=a.pendingProps,d=Bd(_t.current).createElement(c),d[Ge]=a,d[Ue]=r,pn(d,c,r),Me(d),a.stateNode=d):a.memoizedState=Qw(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Yt(a),r===null&&Jt&&(d=a.stateNode=Ww(a.type,a.pendingProps,_t.current),Ln=a,as=!0,g=Ce,$r(a.type)?(b_=g,Ce=Vi(d.firstChild)):Ce=g),fn(r,a,a.pendingProps.children,c),xd(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Jt&&((g=d=Ce)&&(d=E4(d,a.type,a.pendingProps,as),d!==null?(a.stateNode=d,Ln=a,Ce=Vi(d.firstChild),as=!1,g=!0):g=!1),g||ea(a)),Yt(a),g=a.type,v=a.pendingProps,x=r!==null?r.memoizedProps:null,d=v.children,g_(g,v)?d=null:x!==null&&g_(g,x)&&(a.flags|=32),a.memoizedState!==null&&(g=my(r,a,Fk,null,null,c),ju._currentValue=g),xd(r,a),fn(r,a,d,c),a.child;case 6:return r===null&&Jt&&((r=c=Ce)&&(c=A4(c,a.pendingProps,as),c!==null?(a.stateNode=c,Ln=a,Ce=null,r=!0):r=!1),r||ea(a)),null;case 13:return HS(r,a,c);case 4:return Nt(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Il(a,null,d,c):fn(r,a,d,c),a.child;case 11:return NS(r,a,a.type,a.pendingProps,c);case 7:return fn(r,a,a.pendingProps,c),a.child;case 8:return fn(r,a,a.pendingProps.children,c),a.child;case 12:return fn(r,a,a.pendingProps.children,c),a.child;case 10:return d=a.pendingProps,Dr(a,a.type,d.value),fn(r,a,d.children,c),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,ia(a),g=Sn(g),d=d(g),a.flags|=1,fn(r,a,d,c),a.child;case 14:return VS(r,a,a.type,a.pendingProps,c);case 15:return LS(r,a,a.type,a.pendingProps,c);case 19:return $S(r,a,c);case 31:return d=a.pendingProps,c=a.mode,d={mode:d.mode,children:d.children},r===null?(c=Cd(d,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=Gs(r.child,d),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return zS(r,a,c);case 24:return ia(a),d=Sn(Ze),r===null?(g=oy(),g===null&&(g=he,v=sy(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=c),g=v),a.memoizedState={parent:d,cache:g},ly(a),Dr(a,Ze,g)):((r.lanes&c)!==0&&(cy(r,a),_u(a,null,null,c),yu()),g=r.memoizedState,v=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Dr(a,Ze,d)):(d=v.cache,Dr(a,Ze,d),d!==g.cache&&iy(a,[Ze],c,!0))),fn(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function tr(r){r.flags|=4}function WS(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!eE(a)){if(a=yi.current,a!==null&&((Kt&4194048)===Kt?ls!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||a!==ls))throw mu=ay,D1;r.flags|=8192}}function Rd(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Fc():536870912,r.lanes|=a,Pl|=a)}function Au(r,a){if(!Jt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Te(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(a)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=c,a}function Yk(r,a,c){var d=a.pendingProps;switch(Jg(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(a),null;case 1:return Te(a),null;case 3:return c=a.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Qs(Ze),ze(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(lu(a)?tr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,A1())),Te(a),null;case 26:return c=a.memoizedState,r===null?(tr(a),c!==null?(Te(a),WS(a,c)):(Te(a),a.flags&=-16777217)):c?c!==r.memoizedState?(tr(a),Te(a),WS(a,c)):(Te(a),a.flags&=-16777217):(r.memoizedProps!==d&&tr(a),Te(a),a.flags&=-16777217),null;case 27:Ft(a),c=_t.current;var g=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==d&&tr(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Te(a),null}r=gt.current,lu(a)?w1(a):(r=Ww(g,d,c),a.stateNode=r,tr(a))}return Te(a),null;case 5:if(Ft(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==d&&tr(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Te(a),null}if(r=gt.current,lu(a))w1(a);else{switch(g=Bd(_t.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(c,{is:d.is}):g.createElement(c)}}r[Ge]=a,r[Ue]=d;t:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break t;for(;g.sibling===null;){if(g.return===null||g.return===a)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=r;t:switch(pn(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&tr(a)}}return Te(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==d&&tr(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(r=_t.current,lu(a)){if(r=a.stateNode,c=a.memoizedProps,d=null,g=Ln,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[Ge]=a,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||jw(r.nodeValue,c)),r||ea(a)}else r=Bd(r).createTextNode(d),r[Ge]=a,a.stateNode=r}return Te(a),null;case 13:if(d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=lu(a),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ge]=a}else cu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Te(a),g=!1}else g=A1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Xs(a),a):(Xs(a),null)}if(Xs(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),Rd(a,a.updateQueue),Te(a),null;case 4:return ze(),r===null&&h_(a.stateNode.containerInfo),Te(a),null;case 10:return Qs(a.type),Te(a),null;case 19:if(ct(Qe),g=a.memoizedState,g===null)return Te(a),null;if(d=(a.flags&128)!==0,v=g.rendering,v===null)if(d)Au(g,!1);else{if(Re!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(v=wd(r),v!==null){for(a.flags|=128,Au(g,!1),r=v.updateQueue,a.updateQueue=r,Rd(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)T1(c,r),c=c.sibling;return at(Qe,Qe.current&1|2),a.child}r=r.sibling}g.tail!==null&&De()>Md&&(a.flags|=128,d=!0,Au(g,!1),a.lanes=4194304)}else{if(!d)if(r=wd(v),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,Rd(a,r),Au(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Jt)return Te(a),null}else 2*De()-g.renderingStartTime>Md&&c!==536870912&&(a.flags|=128,d=!0,Au(g,!1),a.lanes=4194304);g.isBackwards?(v.sibling=a.child,a.child=v):(r=g.last,r!==null?r.sibling=v:a.child=v,g.last=v)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=De(),a.sibling=null,r=Qe.current,at(Qe,d?r&1|2:r&1),a):(Te(a),null);case 22:case 23:return Xs(a),dy(),d=a.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(c&536870912)!==0&&(a.flags&128)===0&&(Te(a),a.subtreeFlags&6&&(a.flags|=8192)):Te(a),c=a.updateQueue,c!==null&&Rd(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==c&&(a.flags|=2048),r!==null&&ct(sa),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Qs(Ze),Te(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Xk(r,a){switch(Jg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Qs(Ze),ze(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ft(a),null;case 13:if(Xs(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));cu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ct(Qe),null;case 4:return ze(),null;case 10:return Qs(a.type),null;case 22:case 23:return Xs(a),dy(),r!==null&&ct(sa),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Qs(Ze),null;case 25:return null;default:return null}}function KS(r,a){switch(Jg(a),a.tag){case 3:Qs(Ze),ze();break;case 26:case 27:case 5:Ft(a);break;case 4:ze();break;case 13:Xs(a);break;case 19:ct(Qe);break;case 10:Qs(a.type);break;case 22:case 23:Xs(a),dy(),r!==null&&ct(sa);break;case 24:Qs(Ze)}}function xu(r,a){try{var c=a.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){d=void 0;var v=c.create,x=c.inst;d=v(),x.destroy=d}c=c.next}while(c!==g)}}catch(z){ue(a,a.return,z)}}function Lr(r,a,c){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&r)===r){var x=d.inst,z=x.destroy;if(z!==void 0){x.destroy=void 0,g=a;var H=c,X=z;try{X()}catch(ot){ue(g,H,ot)}}}d=d.next}while(d!==v)}}catch(ot){ue(a,a.return,ot)}}function ZS(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{V1(a,c)}catch(d){ue(r,r.return,d)}}}function QS(r,a,c){c.props=oa(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){ue(r,a,d)}}function Cu(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(g){ue(r,a,g)}}function cs(r,a){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){ue(r,a,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){ue(r,a,g)}else c.current=null}function YS(r){var a=r.type,c=r.memoizedProps,d=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){ue(r,r.return,g)}}function By(r,a,c){try{var d=r.stateNode;v4(d,r.type,c,a),d[Ue]=a}catch(g){ue(r,r.return,g)}}function XS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&$r(r.type)||r.tag===4}function Fy(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||XS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&$r(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hy(r,a,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=jd));else if(d!==4&&(d===27&&$r(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(Hy(r,a,c),r=r.sibling;r!==null;)Hy(r,a,c),r=r.sibling}function Id(r,a,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(d!==4&&(d===27&&$r(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Id(r,a,c),r=r.sibling;r!==null;)Id(r,a,c),r=r.sibling}function JS(r){var a=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);pn(a,d,c),a[Ge]=r,a[Ue]=c}catch(v){ue(r,r.return,v)}}var er=!1,Pe=!1,qy=!1,tw=typeof WeakSet=="function"?WeakSet:Set,on=null;function Jk(r,a){if(r=r.containerInfo,p_=Wd,r=h1(r),Fg(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break t}var x=0,z=-1,H=-1,X=0,ot=0,ht=r,tt=null;e:for(;;){for(var nt;ht!==c||g!==0&&ht.nodeType!==3||(z=x+g),ht!==v||d!==0&&ht.nodeType!==3||(H=x+d),ht.nodeType===3&&(x+=ht.nodeValue.length),(nt=ht.firstChild)!==null;)tt=ht,ht=nt;for(;;){if(ht===r)break e;if(tt===c&&++X===g&&(z=x),tt===v&&++ot===d&&(H=x),(nt=ht.nextSibling)!==null)break;ht=tt,tt=ht.parentNode}ht=nt}c=z===-1||H===-1?null:{start:z,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(m_={focusedElem:r,selectionRange:c},Wd=!1,on=a;on!==null;)if(a=on,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,on=r;else for(;on!==null;){switch(a=on,v=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=a,g=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var It=oa(c.type,g,c.elementType===c.type);r=d.getSnapshotBeforeUpdate(It,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(At){ue(c,c.return,At)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)__(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":__(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,on=r;break}on=a.return}}function ew(r,a,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:zr(r,c),d&4&&xu(5,c);break;case 1:if(zr(r,c),d&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(x){ue(c,c.return,x)}else{var g=oa(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(g,a,r.__reactInternalSnapshotBeforeUpdate)}catch(x){ue(c,c.return,x)}}d&64&&ZS(c),d&512&&Cu(c,c.return);break;case 3:if(zr(r,c),d&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{V1(r,a)}catch(x){ue(c,c.return,x)}}break;case 27:a===null&&d&4&&JS(c);case 26:case 5:zr(r,c),a===null&&d&4&&YS(c),d&512&&Cu(c,c.return);break;case 12:zr(r,c);break;case 13:zr(r,c),d&4&&sw(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=l4.bind(null,c),x4(r,c))));break;case 22:if(d=c.memoizedState!==null||er,!d){a=a!==null&&a.memoizedState!==null||Pe,g=er;var v=Pe;er=d,(Pe=a)&&!v?Ur(r,c,(c.subtreeFlags&8772)!==0):zr(r,c),er=g,Pe=v}break;case 30:break;default:zr(r,c)}}function nw(r){var a=r.alternate;a!==null&&(r.alternate=null,nw(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&xr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _e=null,Fn=!1;function nr(r,a,c){for(c=c.child;c!==null;)iw(r,a,c),c=c.sibling}function iw(r,a,c){if(ne&&typeof ne.onCommitFiberUnmount=="function")try{ne.onCommitFiberUnmount(xe,c)}catch{}switch(c.tag){case 26:Pe||cs(c,a),nr(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Pe||cs(c,a);var d=_e,g=Fn;$r(c.type)&&(_e=c.stateNode,Fn=!1),nr(r,a,c),Vu(c.stateNode),_e=d,Fn=g;break;case 5:Pe||cs(c,a);case 6:if(d=_e,g=Fn,_e=null,nr(r,a,c),_e=d,Fn=g,_e!==null)if(Fn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(c.stateNode)}catch(v){ue(c,a,v)}else try{_e.removeChild(c.stateNode)}catch(v){ue(c,a,v)}break;case 18:_e!==null&&(Fn?(r=_e,$w(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),qu(r)):$w(_e,c.stateNode));break;case 4:d=_e,g=Fn,_e=c.stateNode.containerInfo,Fn=!0,nr(r,a,c),_e=d,Fn=g;break;case 0:case 11:case 14:case 15:Pe||Lr(2,c,a),Pe||Lr(4,c,a),nr(r,a,c);break;case 1:Pe||(cs(c,a),d=c.stateNode,typeof d.componentWillUnmount=="function"&&QS(c,a,d)),nr(r,a,c);break;case 21:nr(r,a,c);break;case 22:Pe=(d=Pe)||c.memoizedState!==null,nr(r,a,c),Pe=d;break;default:nr(r,a,c)}}function sw(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qu(r)}catch(c){ue(a,a.return,c)}}function t4(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new tw),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new tw),a;default:throw Error(i(435,r.tag))}}function $y(r,a){var c=t4(r);a.forEach(function(d){var g=c4.bind(null,r,d);c.has(d)||(c.add(d),d.then(g,g))})}function ei(r,a){var c=a.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],v=r,x=a,z=x;t:for(;z!==null;){switch(z.tag){case 27:if($r(z.type)){_e=z.stateNode,Fn=!1;break t}break;case 5:_e=z.stateNode,Fn=!1;break t;case 3:case 4:_e=z.stateNode.containerInfo,Fn=!0;break t}z=z.return}if(_e===null)throw Error(i(160));iw(v,x,g),_e=null,Fn=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)rw(a,r),a=a.sibling}var Ni=null;function rw(r,a){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ei(a,r),ni(r),d&4&&(Lr(3,r,r.return),xu(3,r),Lr(5,r,r.return));break;case 1:ei(a,r),ni(r),d&512&&(Pe||c===null||cs(c,c.return)),d&64&&er&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=Ni;if(ei(a,r),ni(r),d&512&&(Pe||c===null||cs(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){t:{d=r.type,c=r.memoizedProps,g=g.ownerDocument||g;e:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[No]||v[Ge]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),pn(v,d,c),v[Ge]=r,Me(v),d=v;break t;case"link":var x=Jw("link","href",g).get(d+(c.href||""));if(x){for(var z=0;z<x.length;z++)if(v=x[z],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(z,1);break e}}v=g.createElement(d),pn(v,d,c),g.head.appendChild(v);break;case"meta":if(x=Jw("meta","content",g).get(d+(c.content||""))){for(z=0;z<x.length;z++)if(v=x[z],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(z,1);break e}}v=g.createElement(d),pn(v,d,c),g.head.appendChild(v);break;default:throw Error(i(468,d))}v[Ge]=r,Me(v),d=v}r.stateNode=d}else tE(g,r.type,r.stateNode);else r.stateNode=Xw(g,d,r.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?tE(g,r.type,r.stateNode):Xw(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&By(r,r.memoizedProps,c.memoizedProps)}break;case 27:ei(a,r),ni(r),d&512&&(Pe||c===null||cs(c,c.return)),c!==null&&d&4&&By(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ei(a,r),ni(r),d&512&&(Pe||c===null||cs(c,c.return)),r.flags&32){g=r.stateNode;try{ci(g,"")}catch(nt){ue(r,r.return,nt)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,By(r,g,c!==null?c.memoizedProps:g)),d&1024&&(qy=!0);break;case 6:if(ei(a,r),ni(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(nt){ue(r,r.return,nt)}}break;case 3:if(qd=null,g=Ni,Ni=Fd(a.containerInfo),ei(a,r),Ni=g,ni(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{qu(a.containerInfo)}catch(nt){ue(r,r.return,nt)}qy&&(qy=!1,ow(r));break;case 4:d=Ni,Ni=Fd(r.stateNode.containerInfo),ei(a,r),ni(r),Ni=d;break;case 12:ei(a,r),ni(r);break;case 13:ei(a,r),ni(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Yy=De()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,$y(r,d)));break;case 22:g=r.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,X=er,ot=Pe;if(er=X||g,Pe=ot||H,ei(a,r),Pe=ot,er=X,ni(r),d&8192)t:for(a=r.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||H||er||Pe||aa(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){H=c=a;try{if(v=H.stateNode,g)x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{z=H.stateNode;var ht=H.memoizedProps.style,tt=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;z.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(nt){ue(H,H.return,nt)}}}else if(a.tag===6){if(c===null){H=a;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(nt){ue(H,H.return,nt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,$y(r,c))));break;case 19:ei(a,r),ni(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,$y(r,d)));break;case 30:break;case 21:break;default:ei(a,r),ni(r)}}function ni(r){var a=r.flags;if(a&2){try{for(var c,d=r.return;d!==null;){if(XS(d)){c=d;break}d=d.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,v=Fy(r);Id(r,v,g);break;case 5:var x=c.stateNode;c.flags&32&&(ci(x,""),c.flags&=-33);var z=Fy(r);Id(r,z,x);break;case 3:case 4:var H=c.stateNode.containerInfo,X=Fy(r);Hy(r,X,H);break;default:throw Error(i(161))}}catch(ot){ue(r,r.return,ot)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function ow(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;ow(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function zr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ew(r,a.alternate,a),a=a.sibling}function aa(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Lr(4,a,a.return),aa(a);break;case 1:cs(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&QS(a,a.return,c),aa(a);break;case 27:Vu(a.stateNode);case 26:case 5:cs(a,a.return),aa(a);break;case 22:a.memoizedState===null&&aa(a);break;case 30:aa(a);break;default:aa(a)}r=r.sibling}}function Ur(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,g=r,v=a,x=v.flags;switch(v.tag){case 0:case 11:case 15:Ur(g,v,c),xu(4,v);break;case 1:if(Ur(g,v,c),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(X){ue(d,d.return,X)}if(d=v,g=d.updateQueue,g!==null){var z=d.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)N1(H[g],z)}catch(X){ue(d,d.return,X)}}c&&x&64&&ZS(v),Cu(v,v.return);break;case 27:JS(v);case 26:case 5:Ur(g,v,c),c&&d===null&&x&4&&YS(v),Cu(v,v.return);break;case 12:Ur(g,v,c);break;case 13:Ur(g,v,c),c&&x&4&&sw(g,v);break;case 22:v.memoizedState===null&&Ur(g,v,c),Cu(v,v.return);break;case 30:break;default:Ur(g,v,c)}a=a.sibling}}function Gy(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&fu(c))}function Wy(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&fu(r))}function us(r,a,c,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)aw(r,a,c,d),a=a.sibling}function aw(r,a,c,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:us(r,a,c,d),g&2048&&xu(9,a);break;case 1:us(r,a,c,d);break;case 3:us(r,a,c,d),g&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&fu(r)));break;case 12:if(g&2048){us(r,a,c,d),r=a.stateNode;try{var v=a.memoizedProps,x=v.id,z=v.onPostCommit;typeof z=="function"&&z(x,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){ue(a,a.return,H)}}else us(r,a,c,d);break;case 13:us(r,a,c,d);break;case 23:break;case 22:v=a.stateNode,x=a.alternate,a.memoizedState!==null?v._visibility&2?us(r,a,c,d):Ru(r,a):v._visibility&2?us(r,a,c,d):(v._visibility|=2,Dl(r,a,c,d,(a.subtreeFlags&10256)!==0)),g&2048&&Gy(x,a);break;case 24:us(r,a,c,d),g&2048&&Wy(a.alternate,a);break;default:us(r,a,c,d)}}function Dl(r,a,c,d,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=r,x=a,z=c,H=d,X=x.flags;switch(x.tag){case 0:case 11:case 15:Dl(v,x,z,H,g),xu(8,x);break;case 23:break;case 22:var ot=x.stateNode;x.memoizedState!==null?ot._visibility&2?Dl(v,x,z,H,g):Ru(v,x):(ot._visibility|=2,Dl(v,x,z,H,g)),g&&X&2048&&Gy(x.alternate,x);break;case 24:Dl(v,x,z,H,g),g&&X&2048&&Wy(x.alternate,x);break;default:Dl(v,x,z,H,g)}a=a.sibling}}function Ru(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,d=a,g=d.flags;switch(d.tag){case 22:Ru(c,d),g&2048&&Gy(d.alternate,d);break;case 24:Ru(c,d),g&2048&&Wy(d.alternate,d);break;default:Ru(c,d)}a=a.sibling}}var Iu=8192;function Ml(r){if(r.subtreeFlags&Iu)for(r=r.child;r!==null;)lw(r),r=r.sibling}function lw(r){switch(r.tag){case 26:Ml(r),r.flags&Iu&&r.memoizedState!==null&&U4(Ni,r.memoizedState,r.memoizedProps);break;case 5:Ml(r);break;case 3:case 4:var a=Ni;Ni=Fd(r.stateNode.containerInfo),Ml(r),Ni=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Iu,Iu=16777216,Ml(r),Iu=a):Ml(r));break;default:Ml(r)}}function cw(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Du(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];on=d,hw(d,r)}cw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)uw(r),r=r.sibling}function uw(r){switch(r.tag){case 0:case 11:case 15:Du(r),r.flags&2048&&Lr(9,r,r.return);break;case 3:Du(r);break;case 12:Du(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Dd(r)):Du(r);break;default:Du(r)}}function Dd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];on=d,hw(d,r)}cw(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Lr(8,a,a.return),Dd(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Dd(a));break;default:Dd(a)}r=r.sibling}}function hw(r,a){for(;on!==null;){var c=on;switch(c.tag){case 0:case 11:case 15:Lr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:fu(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,on=d;else t:for(c=r;on!==null;){d=on;var g=d.sibling,v=d.return;if(nw(d),d===c){on=null;break t}if(g!==null){g.return=v,on=g;break t}on=v}}}var e4={getCacheForType:function(r){var a=Sn(Ze),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},n4=typeof WeakMap=="function"?WeakMap:Map,ie=0,he=null,jt=null,Kt=0,se=0,ii=null,jr=!1,Ol=!1,Ky=!1,ir=0,Re=0,Br=0,la=0,Zy=0,_i=0,Pl=0,Mu=null,Hn=null,Qy=!1,Yy=0,Md=1/0,Od=null,Fr=null,dn=0,Hr=null,kl=null,Nl=0,Xy=0,Jy=null,fw=null,Ou=0,t_=null;function si(){if((ie&2)!==0&&Kt!==0)return Kt&-Kt;if(q.T!==null){var r=Sl;return r!==0?r:a_()}return Er()}function dw(){_i===0&&(_i=(Kt&536870912)===0||Jt?Bc():536870912);var r=yi.current;return r!==null&&(r.flags|=32),_i}function ri(r,a,c){(r===he&&(se===2||se===9)||r.cancelPendingCommit!==null)&&(Vl(r,0),qr(r,Kt,_i,!1)),Ns(r,c),((ie&2)===0||r!==he)&&(r===he&&((ie&2)===0&&(la|=c),Re===4&&qr(r,Kt,_i,!1)),hs(r))}function pw(r,a,c){if((ie&6)!==0)throw Error(i(327));var d=!c&&(a&124)===0&&(a&r.expiredLanes)===0||ko(r,a),g=d?r4(r,a):i_(r,a,!0),v=d;do{if(g===0){Ol&&!d&&qr(r,a,0,!1);break}else{if(c=r.current.alternate,v&&!i4(c)){g=i_(r,a,!1),v=!1;continue}if(g===2){if(v=a,r.errorRecoveryDisabledLanes&v)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var z=r;g=Mu;var H=z.current.memoizedState.isDehydrated;if(H&&(Vl(z,x).flags|=256),x=i_(z,x,!1),x!==2){if(Ky&&!H){z.errorRecoveryDisabledLanes|=v,la|=v,g=4;break t}v=Hn,Hn=g,v!==null&&(Hn===null?Hn=v:Hn.push.apply(Hn,v))}g=x}if(v=!1,g!==2)continue}}if(g===1){Vl(r,0),qr(r,a,0,!0);break}t:{switch(d=r,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:qr(d,a,_i,!jr);break t;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Yy+300-De(),10<g)){if(qr(d,a,_i,!jr),Ja(d,0,!0)!==0)break t;d.timeoutHandle=Hw(mw.bind(null,d,c,Hn,Od,Qy,a,_i,la,Pl,jr,v,2,-0,0),g);break t}mw(d,c,Hn,Od,Qy,a,_i,la,Pl,jr,v,0,-0,0)}}break}while(!0);hs(r)}function mw(r,a,c,d,g,v,x,z,H,X,ot,ht,tt,nt){if(r.timeoutHandle=-1,ht=a.subtreeFlags,(ht&8192||(ht&16785408)===16785408)&&(Uu={stylesheets:null,count:0,unsuspend:z4},lw(a),ht=j4(),ht!==null)){r.cancelPendingCommit=ht(Sw.bind(null,r,a,v,c,d,g,x,z,H,ot,1,tt,nt)),qr(r,v,x,!X);return}Sw(r,a,v,c,d,g,x,z,H)}function i4(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],v=g.getSnapshot;g=g.value;try{if(!Jn(v(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qr(r,a,c,d){a&=~Zy,a&=~la,r.suspendedLanes|=a,r.pingedLanes&=~a,d&&(r.warmLanes|=a),d=r.expirationTimes;for(var g=a;0<g;){var v=31-Tn(g),x=1<<v;d[v]=-1,g&=~x}c!==0&&Qi(r,c,a)}function Pd(){return(ie&6)===0?(Pu(0),!1):!0}function e_(){if(jt!==null){if(se===0)var r=jt.return;else r=jt,Zs=na=null,_y(r),Rl=null,wu=0,r=jt;for(;r!==null;)KS(r.alternate,r),r=r.return;jt=null}}function Vl(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,T4(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),e_(),he=r,jt=c=Gs(r.current,null),Kt=a,se=0,ii=null,jr=!1,Ol=ko(r,a),Ky=!1,Pl=_i=Zy=la=Br=Re=0,Hn=Mu=null,Qy=!1,(a&8)!==0&&(a|=a&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=a;0<d;){var g=31-Tn(d),v=1<<g;a|=r[g],d&=~v}return ir=a,ed(),c}function gw(r,a){Lt=null,q.H=bd,a===pu||a===ud?(a=P1(),se=3):a===D1?(a=P1(),se=4):se=a===kS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ii=a,jt===null&&(Re=1,Ad(r,di(a,r.current)))}function yw(){var r=q.H;return q.H=bd,r===null?bd:r}function _w(){var r=q.A;return q.A=e4,r}function n_(){Re=4,jr||(Kt&4194048)!==Kt&&yi.current!==null||(Ol=!0),(Br&134217727)===0&&(la&134217727)===0||he===null||qr(he,Kt,_i,!1)}function i_(r,a,c){var d=ie;ie|=2;var g=yw(),v=_w();(he!==r||Kt!==a)&&(Od=null,Vl(r,a)),a=!1;var x=Re;t:do try{if(se!==0&&jt!==null){var z=jt,H=ii;switch(se){case 8:e_(),x=6;break t;case 3:case 2:case 9:case 6:yi.current===null&&(a=!0);var X=se;if(se=0,ii=null,Ll(r,z,H,X),c&&Ol){x=0;break t}break;default:X=se,se=0,ii=null,Ll(r,z,H,X)}}s4(),x=Re;break}catch(ot){gw(r,ot)}while(!0);return a&&r.shellSuspendCounter++,Zs=na=null,ie=d,q.H=g,q.A=v,jt===null&&(he=null,Kt=0,ed()),x}function s4(){for(;jt!==null;)vw(jt)}function r4(r,a){var c=ie;ie|=2;var d=yw(),g=_w();he!==r||Kt!==a?(Od=null,Md=De()+500,Vl(r,a)):Ol=ko(r,a);t:do try{if(se!==0&&jt!==null){a=jt;var v=ii;e:switch(se){case 1:se=0,ii=null,Ll(r,a,v,1);break;case 2:case 9:if(M1(v)){se=0,ii=null,bw(a);break}a=function(){se!==2&&se!==9||he!==r||(se=7),hs(r)},v.then(a,a);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:M1(v)?(se=0,ii=null,bw(a)):(se=0,ii=null,Ll(r,a,v,7));break;case 5:var x=null;switch(jt.tag){case 26:x=jt.memoizedState;case 5:case 27:var z=jt;if(!x||eE(x)){se=0,ii=null;var H=z.sibling;if(H!==null)jt=H;else{var X=z.return;X!==null?(jt=X,kd(X)):jt=null}break e}}se=0,ii=null,Ll(r,a,v,5);break;case 6:se=0,ii=null,Ll(r,a,v,6);break;case 8:e_(),Re=6;break t;default:throw Error(i(462))}}o4();break}catch(ot){gw(r,ot)}while(!0);return Zs=na=null,q.H=d,q.A=g,ie=c,jt!==null?0:(he=null,Kt=0,ed(),Re)}function o4(){for(;jt!==null&&!ai();)vw(jt)}function vw(r){var a=GS(r.alternate,r,ir);r.memoizedProps=r.pendingProps,a===null?kd(r):jt=a}function bw(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=jS(c,a,a.pendingProps,a.type,void 0,Kt);break;case 11:a=jS(c,a,a.pendingProps,a.type.render,a.ref,Kt);break;case 5:_y(a);default:KS(c,a),a=jt=T1(a,ir),a=GS(c,a,ir)}r.memoizedProps=r.pendingProps,a===null?kd(r):jt=a}function Ll(r,a,c,d){Zs=na=null,_y(a),Rl=null,wu=0;var g=a.return;try{if(Zk(r,g,a,c,Kt)){Re=1,Ad(r,di(c,r.current)),jt=null;return}}catch(v){if(g!==null)throw jt=g,v;Re=1,Ad(r,di(c,r.current)),jt=null;return}a.flags&32768?(Jt||d===1?r=!0:Ol||(Kt&536870912)!==0?r=!1:(jr=r=!0,(d===2||d===9||d===3||d===6)&&(d=yi.current,d!==null&&d.tag===13&&(d.flags|=16384))),Tw(a,r)):kd(a)}function kd(r){var a=r;do{if((a.flags&32768)!==0){Tw(a,jr);return}r=a.return;var c=Yk(a.alternate,a,ir);if(c!==null){jt=c;return}if(a=a.sibling,a!==null){jt=a;return}jt=a=r}while(a!==null);Re===0&&(Re=5)}function Tw(r,a){do{var c=Xk(r.alternate,r);if(c!==null){c.flags&=32767,jt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){jt=r;return}jt=r=c}while(r!==null);Re=6,jt=null}function Sw(r,a,c,d,g,v,x,z,H){r.cancelPendingCommit=null;do Nd();while(dn!==0);if((ie&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(v=a.lanes|a.childLanes,v|=Wg,Hc(r,c,v,x,z,H),r===he&&(jt=he=null,Kt=0),kl=a,Hr=r,Nl=c,Xy=v,Jy=g,fw=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,u4(Zi,function(){return Cw(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=q.T,q.T=null,g=W.p,W.p=2,x=ie,ie|=4;try{Jk(r,a,c)}finally{ie=x,W.p=g,q.T=d}}dn=1,ww(),Ew(),Aw()}}function ww(){if(dn===1){dn=0;var r=Hr,a=kl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=q.T,q.T=null;var d=W.p;W.p=2;var g=ie;ie|=4;try{rw(a,r);var v=m_,x=h1(r.containerInfo),z=v.focusedElem,H=v.selectionRange;if(x!==z&&z&&z.ownerDocument&&u1(z.ownerDocument.documentElement,z)){if(H!==null&&Fg(z)){var X=H.start,ot=H.end;if(ot===void 0&&(ot=X),"selectionStart"in z)z.selectionStart=X,z.selectionEnd=Math.min(ot,z.value.length);else{var ht=z.ownerDocument||document,tt=ht&&ht.defaultView||window;if(tt.getSelection){var nt=tt.getSelection(),It=z.textContent.length,At=Math.min(H.start,It),ce=H.end===void 0?At:Math.min(H.end,It);!nt.extend&&At>ce&&(x=ce,ce=At,At=x);var G=c1(z,At),$=c1(z,ce);if(G&&$&&(nt.rangeCount!==1||nt.anchorNode!==G.node||nt.anchorOffset!==G.offset||nt.focusNode!==$.node||nt.focusOffset!==$.offset)){var Y=ht.createRange();Y.setStart(G.node,G.offset),nt.removeAllRanges(),At>ce?(nt.addRange(Y),nt.extend($.node,$.offset)):(Y.setEnd($.node,$.offset),nt.addRange(Y))}}}}for(ht=[],nt=z;nt=nt.parentNode;)nt.nodeType===1&&ht.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ht.length;z++){var lt=ht[z];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Wd=!!p_,m_=p_=null}finally{ie=g,W.p=d,q.T=c}}r.current=a,dn=2}}function Ew(){if(dn===2){dn=0;var r=Hr,a=kl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=q.T,q.T=null;var d=W.p;W.p=2;var g=ie;ie|=4;try{ew(r,a.alternate,a)}finally{ie=g,W.p=d,q.T=c}}dn=3}}function Aw(){if(dn===4||dn===3){dn=0,Pn();var r=Hr,a=kl,c=Nl,d=fw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?dn=5:(dn=0,kl=Hr=null,xw(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Fr=null),tl(c),a=a.stateNode,ne&&typeof ne.onCommitFiberRoot=="function")try{ne.onCommitFiberRoot(xe,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=q.T,g=W.p,W.p=2,q.T=null;try{for(var v=r.onRecoverableError,x=0;x<d.length;x++){var z=d[x];v(z.value,{componentStack:z.stack})}}finally{q.T=a,W.p=g}}(Nl&3)!==0&&Nd(),hs(r),g=r.pendingLanes,(c&4194090)!==0&&(g&42)!==0?r===t_?Ou++:(Ou=0,t_=r):Ou=0,Pu(0)}}function xw(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,fu(a)))}function Nd(r){return ww(),Ew(),Aw(),Cw()}function Cw(){if(dn!==5)return!1;var r=Hr,a=Xy;Xy=0;var c=tl(Nl),d=q.T,g=W.p;try{W.p=32>c?32:c,q.T=null,c=Jy,Jy=null;var v=Hr,x=Nl;if(dn=0,kl=Hr=null,Nl=0,(ie&6)!==0)throw Error(i(331));var z=ie;if(ie|=4,uw(v.current),aw(v,v.current,x,c),ie=z,Pu(0,!1),ne&&typeof ne.onPostCommitFiberRoot=="function")try{ne.onPostCommitFiberRoot(xe,v)}catch{}return!0}finally{W.p=g,q.T=d,xw(r,a)}}function Rw(r,a,c){a=di(c,a),a=Oy(r.stateNode,a,2),r=Pr(r,a,2),r!==null&&(Ns(r,2),hs(r))}function ue(r,a,c){if(r.tag===3)Rw(r,r,c);else for(;a!==null;){if(a.tag===3){Rw(a,r,c);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))){r=di(c,r),c=OS(2),d=Pr(a,c,2),d!==null&&(PS(c,d,a,r),Ns(d,2),hs(d));break}}a=a.return}}function s_(r,a,c){var d=r.pingCache;if(d===null){d=r.pingCache=new n4;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(c)||(Ky=!0,g.add(c),r=a4.bind(null,r,a,c),a.then(r,r))}function a4(r,a,c){var d=r.pingCache;d!==null&&d.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,he===r&&(Kt&c)===c&&(Re===4||Re===3&&(Kt&62914560)===Kt&&300>De()-Yy?(ie&2)===0&&Vl(r,0):Zy|=c,Pl===Kt&&(Pl=0)),hs(r)}function Iw(r,a){a===0&&(a=Fc()),r=_l(r,a),r!==null&&(Ns(r,a),hs(r))}function l4(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),Iw(r,c)}function c4(r,a){var c=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),Iw(r,c)}function u4(r,a){return jn(r,a)}var Vd=null,zl=null,r_=!1,Ld=!1,o_=!1,ca=0;function hs(r){r!==zl&&r.next===null&&(zl===null?Vd=zl=r:zl=zl.next=r),Ld=!0,r_||(r_=!0,f4())}function Pu(r,a){if(!o_&&Ld){o_=!0;do for(var c=!1,d=Vd;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var x=d.suspendedLanes,z=d.pingedLanes;v=(1<<31-Tn(42|r)+1)-1,v&=g&~(x&~z),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,Pw(d,v))}else v=Kt,v=Ja(d,d===he?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||ko(d,v)||(c=!0,Pw(d,v));d=d.next}while(c);o_=!1}}function h4(){Dw()}function Dw(){Ld=r_=!1;var r=0;ca!==0&&(b4()&&(r=ca),ca=0);for(var a=De(),c=null,d=Vd;d!==null;){var g=d.next,v=Mw(d,a);v===0?(d.next=null,c===null?Vd=g:c.next=g,g===null&&(zl=c)):(c=d,(r!==0||(v&3)!==0)&&(Ld=!0)),d=g}Pu(r)}function Mw(r,a){for(var c=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var x=31-Tn(v),z=1<<x,H=g[x];H===-1?((z&c)===0||(z&d)!==0)&&(g[x]=jc(z,a)):H<=a&&(r.expiredLanes|=z),v&=~z}if(a=he,c=Kt,c=Ja(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===a&&(se===2||se===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&en(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||ko(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(d!==null&&en(d),tl(c)){case 2:case 8:c=Sr;break;case 32:c=Zi;break;case 268435456:c=Xa;break;default:c=Zi}return d=Ow.bind(null,r),c=jn(c,d),r.callbackPriority=a,r.callbackNode=c,a}return d!==null&&d!==null&&en(d),r.callbackPriority=2,r.callbackNode=null,2}function Ow(r,a){if(dn!==0&&dn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Nd()&&r.callbackNode!==c)return null;var d=Kt;return d=Ja(r,r===he?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(pw(r,d,a),Mw(r,De()),r.callbackNode!=null&&r.callbackNode===c?Ow.bind(null,r):null)}function Pw(r,a){if(Nd())return null;pw(r,a,!0)}function f4(){S4(function(){(ie&6)!==0?jn(Ps,h4):Dw()})}function a_(){return ca===0&&(ca=Bc()),ca}function kw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ol(""+r)}function Nw(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function d4(r,a,c,d,g){if(a==="submit"&&c&&c.stateNode===g){var v=kw((g[Ue]||null).action),x=d.submitter;x&&(a=(a=x[Ue]||null)?kw(a.formAction):x.getAttribute("formAction"),a!==null&&(v=a,x=null));var z=new al("action","action",null,d,g);r.push({event:z,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ca!==0){var H=x?Nw(g,x):new FormData(g);Cy(c,{pending:!0,data:H,method:g.method,action:v},null,H)}}else typeof v=="function"&&(z.preventDefault(),H=x?Nw(g,x):new FormData(g),Cy(c,{pending:!0,data:H,method:g.method,action:v},v,H))},currentTarget:g}]})}}for(var l_=0;l_<Gg.length;l_++){var c_=Gg[l_],p4=c_.toLowerCase(),m4=c_[0].toUpperCase()+c_.slice(1);ki(p4,"on"+m4)}ki(p1,"onAnimationEnd"),ki(m1,"onAnimationIteration"),ki(g1,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Ok,"onTransitionRun"),ki(Pk,"onTransitionStart"),ki(kk,"onTransitionCancel"),ki(y1,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ku));function Vw(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],g=d.event;d=d.listeners;t:{var v=void 0;if(a)for(var x=d.length-1;0<=x;x--){var z=d[x],H=z.instance,X=z.currentTarget;if(z=z.listener,H!==v&&g.isPropagationStopped())break t;v=z,g.currentTarget=X;try{v(g)}catch(ot){Ed(ot)}g.currentTarget=null,v=H}else for(x=0;x<d.length;x++){if(z=d[x],H=z.instance,X=z.currentTarget,z=z.listener,H!==v&&g.isPropagationStopped())break t;v=z,g.currentTarget=X;try{v(g)}catch(ot){Ed(ot)}g.currentTarget=null,v=H}}}}function Bt(r,a){var c=a[$c];c===void 0&&(c=a[$c]=new Set);var d=r+"__bubble";c.has(d)||(Lw(a,r,2,!1),c.add(d))}function u_(r,a,c){var d=0;a&&(d|=4),Lw(c,r,d,a)}var zd="_reactListening"+Math.random().toString(36).slice(2);function h_(r){if(!r[zd]){r[zd]=!0,Gc.forEach(function(c){c!=="selectionchange"&&(g4.has(c)||u_(c,!1,r),u_(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[zd]||(a[zd]=!0,u_("selectionchange",!1,a))}}function Lw(r,a,c,d){switch(aE(a)){case 2:var g=H4;break;case 8:g=q4;break;default:g=A_}c=g.bind(null,a,c,r),g=void 0,!hi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(a,c,{capture:!0,passive:g}):r.addEventListener(a,c,!0):g!==void 0?r.addEventListener(a,c,{passive:g}):r.addEventListener(a,c,!1)}function f_(r,a,c,d,g){var v=d;if((a&1)===0&&(a&2)===0&&d!==null)t:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var z=d.stateNode.containerInfo;if(z===g)break;if(x===4)for(x=d.return;x!==null;){var H=x.tag;if((H===3||H===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;z!==null;){if(x=Vs(z),x===null)return;if(H=x.tag,H===5||H===6||H===26||H===27){d=v=x;continue t}z=z.parentNode}}d=d.return}jf(function(){var X=v,ot=ui(c),ht=[];t:{var tt=_1.get(r);if(tt!==void 0){var nt=al,It=r;switch(r){case"keypress":if(ns(c)===0)break t;case"keydown":case"keyup":nt=dl;break;case"focusin":It="focus",nt=ul;break;case"focusout":It="blur",nt=ul;break;case"beforeblur":case"afterblur":nt=ul;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Kf;break;case p1:case m1:case g1:nt=hl;break;case y1:nt=Qf;break;case"scroll":case"scrollend":nt=Bf;break;case"wheel":nt=pl;break;case"copy":case"cut":case"paste":nt=fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=su;break;case"toggle":case"beforetoggle":nt=Xf}var At=(a&4)!==0,ce=!At&&(r==="scroll"||r==="scrollend"),G=At?tt!==null?tt+"Capture":null:tt;At=[];for(var $=X,Y;$!==null;){var lt=$;if(Y=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Y===null||G===null||(lt=Fo($,G),lt!=null&&At.push(Nu($,lt,Y))),ce)break;$=$.return}0<At.length&&(tt=new nt(tt,It,null,c,ot),ht.push({event:tt,listeners:At}))}}if((a&7)===0){t:{if(tt=r==="mouseover"||r==="pointerover",nt=r==="mouseout"||r==="pointerout",tt&&c!==js&&(It=c.relatedTarget||c.fromElement)&&(Vs(It)||It[li]))break t;if((nt||tt)&&(tt=ot.window===ot?ot:(tt=ot.ownerDocument)?tt.defaultView||tt.parentWindow:window,nt?(It=c.relatedTarget||c.toElement,nt=X,It=It?Vs(It):null,It!==null&&(ce=o(It),At=It.tag,It!==ce||At!==5&&At!==27&&At!==6)&&(It=null)):(nt=null,It=X),nt!==It)){if(At=fi,lt="onMouseLeave",G="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(At=su,lt="onPointerLeave",G="onPointerEnter",$="pointer"),ce=nt==null?tt:Xi(nt),Y=It==null?tt:Xi(It),tt=new At(lt,$+"leave",nt,c,ot),tt.target=ce,tt.relatedTarget=Y,lt=null,Vs(ot)===X&&(At=new At(G,$+"enter",It,c,ot),At.target=Y,At.relatedTarget=ce,lt=At),ce=lt,nt&&It)e:{for(At=nt,G=It,$=0,Y=At;Y;Y=Ul(Y))$++;for(Y=0,lt=G;lt;lt=Ul(lt))Y++;for(;0<$-Y;)At=Ul(At),$--;for(;0<Y-$;)G=Ul(G),Y--;for(;$--;){if(At===G||G!==null&&At===G.alternate)break e;At=Ul(At),G=Ul(G)}At=null}else At=null;nt!==null&&zw(ht,tt,nt,At,!1),It!==null&&ce!==null&&zw(ht,ce,It,At,!0)}}t:{if(tt=X?Xi(X):window,nt=tt.nodeName&&tt.nodeName.toLowerCase(),nt==="select"||nt==="input"&&tt.type==="file")var bt=i1;else if(Ke(tt))if(s1)bt=Ik;else{bt=Ck;var Ut=xk}else nt=tt.nodeName,!nt||nt.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?X&&Yc(X.elementType)&&(bt=i1):bt=Rk;if(bt&&(bt=bt(r,X))){$s(ht,bt,c,ot);break t}Ut&&Ut(r,tt,X),r==="focusout"&&X&&tt.type==="number"&&X.memoizedProps.value!=null&&Rr(tt,"number",tt.value)}switch(Ut=X?Xi(X):window,r){case"focusin":(Ke(Ut)||Ut.contentEditable==="true")&&(ml=Ut,Hg=X,au=null);break;case"focusout":au=Hg=ml=null;break;case"mousedown":qg=!0;break;case"contextmenu":case"mouseup":case"dragend":qg=!1,f1(ht,c,ot);break;case"selectionchange":if(Mk)break;case"keydown":case"keyup":f1(ht,c,ot)}var St;if(rs)t:{switch(r){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Gt?it(r,c)&&(Ct="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ct="onCompositionStart");Ct&&(w&&c.locale!=="ko"&&(Gt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Gt&&(St=Jc()):(es=ot,Ir="value"in es?es.value:es.textContent,Gt=!0)),Ut=Ud(X,Ct),0<Ut.length&&(Ct=new nu(Ct,r,null,c,ot),ht.push({event:Ct,listeners:Ut}),St?Ct.data=St:(St=yt(c),St!==null&&(Ct.data=St)))),(St=T?We(r,c):Wt(r,c))&&(Ct=Ud(X,"onBeforeInput"),0<Ct.length&&(Ut=new nu("onBeforeInput","beforeinput",null,c,ot),ht.push({event:Ut,listeners:Ct}),Ut.data=St)),d4(ht,r,X,c,ot)}Vw(ht,a)})}function Nu(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Ud(r,a){for(var c=a+"Capture",d=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Fo(r,c),g!=null&&d.unshift(Nu(r,g,v)),g=Fo(r,a),g!=null&&d.push(Nu(r,g,v))),r.tag===3)return d;r=r.return}return[]}function Ul(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function zw(r,a,c,d,g){for(var v=a._reactName,x=[];c!==null&&c!==d;){var z=c,H=z.alternate,X=z.stateNode;if(z=z.tag,H!==null&&H===d)break;z!==5&&z!==26&&z!==27||X===null||(H=X,g?(X=Fo(c,v),X!=null&&x.unshift(Nu(c,X,H))):g||(X=Fo(c,v),X!=null&&x.push(Nu(c,X,H)))),c=c.return}x.length!==0&&r.push({event:a,listeners:x})}var y4=/\r\n?/g,_4=/\u0000|\uFFFD/g;function Uw(r){return(typeof r=="string"?r:""+r).replace(y4,`
`).replace(_4,"")}function jw(r,a){return a=Uw(a),Uw(r)===a}function jd(){}function le(r,a,c,d,g,v){switch(c){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||ci(r,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&ci(r,""+d);break;case"className":Ji(r,"class",d);break;case"tabIndex":Ji(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(r,c,d);break;case"style":Qc(r,d,v);break;case"data":if(a!=="object"){Ji(r,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=ol(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(a!=="input"&&le(r,a,"name",g.name,g,null),le(r,a,"formEncType",g.formEncType,g,null),le(r,a,"formMethod",g.formMethod,g,null),le(r,a,"formTarget",g.formTarget,g,null)):(le(r,a,"encType",g.encType,g,null),le(r,a,"method",g.method,g,null),le(r,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=ol(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=jd);break;case"onScroll":d!=null&&Bt("scroll",r);break;case"onScrollEnd":d!=null&&Bt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=ol(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":Bt("beforetoggle",r),Bt("toggle",r),Cr(r,"popover",d);break;case"xlinkActuate":un(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":un(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":un(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":un(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":un(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":un(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":un(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":un(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":un(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Cr(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Vg.get(c)||c,Cr(r,c,d))}}function d_(r,a,c,d,g,v){switch(c){case"style":Qc(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof d=="string"?ci(r,d):(typeof d=="number"||typeof d=="bigint")&&ci(r,""+d);break;case"onScroll":d!=null&&Bt("scroll",r);break;case"onScrollEnd":d!=null&&Bt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),v=r[Ue]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(a,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,d,g);break t}c in r?r[c]=d:d===!0?r.setAttribute(c,""):Cr(r,c,d)}}}function pn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",r),Bt("load",r);var d=!1,g=!1,v;for(v in c)if(c.hasOwnProperty(v)){var x=c[v];if(x!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:le(r,a,v,x,c,null)}}g&&le(r,a,"srcSet",c.srcSet,c,null),d&&le(r,a,"src",c.src,c,null);return;case"input":Bt("invalid",r);var z=v=x=g=null,H=null,X=null;for(d in c)if(c.hasOwnProperty(d)){var ot=c[d];if(ot!=null)switch(d){case"name":g=ot;break;case"type":x=ot;break;case"checked":H=ot;break;case"defaultChecked":X=ot;break;case"value":v=ot;break;case"defaultValue":z=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,a));break;default:le(r,a,d,ot,c,null)}}Uo(r,v,z,H,X,x,g,!1),rl(r);return;case"select":Bt("invalid",r),d=x=v=null;for(g in c)if(c.hasOwnProperty(g)&&(z=c[g],z!=null))switch(g){case"value":v=z;break;case"defaultValue":x=z;break;case"multiple":d=z;default:le(r,a,g,z,c,null)}a=v,c=x,r.multiple=!!d,a!=null?Us(r,!!d,a,!1):c!=null&&Us(r,!!d,c,!0);return;case"textarea":Bt("invalid",r),v=g=d=null;for(x in c)if(c.hasOwnProperty(x)&&(z=c[x],z!=null))switch(x){case"value":d=z;break;case"defaultValue":g=z;break;case"children":v=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:le(r,a,x,z,c,null)}jo(r,d,g,v),rl(r);return;case"option":for(H in c)if(c.hasOwnProperty(H)&&(d=c[H],d!=null))switch(H){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:le(r,a,H,d,c,null)}return;case"dialog":Bt("beforetoggle",r),Bt("toggle",r),Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":Bt("load",r);break;case"video":case"audio":for(d=0;d<ku.length;d++)Bt(ku[d],r);break;case"image":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"embed":case"source":case"link":Bt("error",r),Bt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in c)if(c.hasOwnProperty(X)&&(d=c[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:le(r,a,X,d,c,null)}return;default:if(Yc(a)){for(ot in c)c.hasOwnProperty(ot)&&(d=c[ot],d!==void 0&&d_(r,a,ot,d,c,void 0));return}}for(z in c)c.hasOwnProperty(z)&&(d=c[z],d!=null&&le(r,a,z,d,c,null))}function v4(r,a,c,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,x=null,z=null,H=null,X=null,ot=null;for(nt in c){var ht=c[nt];if(c.hasOwnProperty(nt)&&ht!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":H=ht;default:d.hasOwnProperty(nt)||le(r,a,nt,null,d,ht)}}for(var tt in d){var nt=d[tt];if(ht=c[tt],d.hasOwnProperty(tt)&&(nt!=null||ht!=null))switch(tt){case"type":v=nt;break;case"name":g=nt;break;case"checked":X=nt;break;case"defaultChecked":ot=nt;break;case"value":x=nt;break;case"defaultValue":z=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:nt!==ht&&le(r,a,tt,nt,d,ht)}}Xn(r,x,z,H,X,ot,v,g);return;case"select":nt=x=z=tt=null;for(v in c)if(H=c[v],c.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":nt=H;default:d.hasOwnProperty(v)||le(r,a,v,null,d,H)}for(g in d)if(v=d[g],H=c[g],d.hasOwnProperty(g)&&(v!=null||H!=null))switch(g){case"value":tt=v;break;case"defaultValue":z=v;break;case"multiple":x=v;default:v!==H&&le(r,a,g,v,d,H)}a=z,c=x,d=nt,tt!=null?Us(r,!!c,tt,!1):!!d!=!!c&&(a!=null?Us(r,!!c,a,!0):Us(r,!!c,c?[]:"",!1));return;case"textarea":nt=tt=null;for(z in c)if(g=c[z],c.hasOwnProperty(z)&&g!=null&&!d.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:le(r,a,z,null,d,g)}for(x in d)if(g=d[x],v=c[x],d.hasOwnProperty(x)&&(g!=null||v!=null))switch(x){case"value":tt=g;break;case"defaultValue":nt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&le(r,a,x,g,d,v)}oe(r,tt,nt);return;case"option":for(var It in c)if(tt=c[It],c.hasOwnProperty(It)&&tt!=null&&!d.hasOwnProperty(It))switch(It){case"selected":r.selected=!1;break;default:le(r,a,It,null,d,tt)}for(H in d)if(tt=d[H],nt=c[H],d.hasOwnProperty(H)&&tt!==nt&&(tt!=null||nt!=null))switch(H){case"selected":r.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:le(r,a,H,tt,d,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in c)tt=c[At],c.hasOwnProperty(At)&&tt!=null&&!d.hasOwnProperty(At)&&le(r,a,At,null,d,tt);for(X in d)if(tt=d[X],nt=c[X],d.hasOwnProperty(X)&&tt!==nt&&(tt!=null||nt!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:le(r,a,X,tt,d,nt)}return;default:if(Yc(a)){for(var ce in c)tt=c[ce],c.hasOwnProperty(ce)&&tt!==void 0&&!d.hasOwnProperty(ce)&&d_(r,a,ce,void 0,d,tt);for(ot in d)tt=d[ot],nt=c[ot],!d.hasOwnProperty(ot)||tt===nt||tt===void 0&&nt===void 0||d_(r,a,ot,tt,d,nt);return}}for(var G in c)tt=c[G],c.hasOwnProperty(G)&&tt!=null&&!d.hasOwnProperty(G)&&le(r,a,G,null,d,tt);for(ht in d)tt=d[ht],nt=c[ht],!d.hasOwnProperty(ht)||tt===nt||tt==null&&nt==null||le(r,a,ht,tt,d,nt)}var p_=null,m_=null;function Bd(r){return r.nodeType===9?r:r.ownerDocument}function Bw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fw(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function g_(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var y_=null;function b4(){var r=window.event;return r&&r.type==="popstate"?r===y_?!1:(y_=r,!0):(y_=null,!1)}var Hw=typeof setTimeout=="function"?setTimeout:void 0,T4=typeof clearTimeout=="function"?clearTimeout:void 0,qw=typeof Promise=="function"?Promise:void 0,S4=typeof queueMicrotask=="function"?queueMicrotask:typeof qw<"u"?function(r){return qw.resolve(null).then(r).catch(w4)}:Hw;function w4(r){setTimeout(function(){throw r})}function $r(r){return r==="head"}function $w(r,a){var c=a,d=0,g=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<d&&8>d){c=d;var x=r.ownerDocument;if(c&1&&Vu(x.documentElement),c&2&&Vu(x.body),c&4)for(c=x.head,Vu(c),x=c.firstChild;x;){var z=x.nextSibling,H=x.nodeName;x[No]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=z}}if(g===0){r.removeChild(v),qu(a);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:d=c.charCodeAt(0)-48;else d=0;c=v}while(c);qu(a)}function __(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":__(c),xr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function E4(r,a,c,d){for(;r.nodeType===1;){var g=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[No])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Vi(r.nextSibling),r===null)break}return null}function A4(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Vi(r.nextSibling),r===null))return null;return r}function v_(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function x4(r,a){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")a();else{var d=function(){a(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Vi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var b_=null;function Gw(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function Ww(r,a,c){switch(a=Bd(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Vu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);xr(r)}var vi=new Map,Kw=new Set;function Fd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var sr=W.d;W.d={f:C4,r:R4,D:I4,C:D4,L:M4,m:O4,X:k4,S:P4,M:N4};function C4(){var r=sr.f(),a=Pd();return r||a}function R4(r){var a=Yi(r);a!==null&&a.tag===5&&a.type==="form"?pS(a):sr.r(r)}var jl=typeof document>"u"?null:document;function Zw(r,a,c){var d=jl;if(d&&typeof a=="string"&&a){var g=je(a);g='link[rel="'+r+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),Kw.has(g)||(Kw.add(g),r={rel:r,crossOrigin:c,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),pn(a,"link",r),Me(a),d.head.appendChild(a)))}}function I4(r){sr.D(r),Zw("dns-prefetch",r,null)}function D4(r,a){sr.C(r,a),Zw("preconnect",r,a)}function M4(r,a,c){sr.L(r,a,c);var d=jl;if(d&&r&&a){var g='link[rel="preload"][as="'+je(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+je(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+je(c.imageSizes)+'"]')):g+='[href="'+je(r)+'"]';var v=g;switch(a){case"style":v=Bl(r);break;case"script":v=Fl(r)}vi.has(v)||(r=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),vi.set(v,r),d.querySelector(g)!==null||a==="style"&&d.querySelector(Lu(v))||a==="script"&&d.querySelector(zu(v))||(a=d.createElement("link"),pn(a,"link",r),Me(a),d.head.appendChild(a)))}}function O4(r,a){sr.m(r,a);var c=jl;if(c&&r){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+je(d)+'"][href="'+je(r)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Fl(r)}if(!vi.has(v)&&(r=p({rel:"modulepreload",href:r},a),vi.set(v,r),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(zu(v)))return}d=c.createElement("link"),pn(d,"link",r),Me(d),c.head.appendChild(d)}}}function P4(r,a,c){sr.S(r,a,c);var d=jl;if(d&&r){var g=kn(d).hoistableStyles,v=Bl(r);a=a||"default";var x=g.get(v);if(!x){var z={loading:0,preload:null};if(x=d.querySelector(Lu(v)))z.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":a},c),(c=vi.get(v))&&T_(r,c);var H=x=d.createElement("link");Me(H),pn(H,"link",r),H._p=new Promise(function(X,ot){H.onload=X,H.onerror=ot}),H.addEventListener("load",function(){z.loading|=1}),H.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Hd(x,a,d)}x={type:"stylesheet",instance:x,count:1,state:z},g.set(v,x)}}}function k4(r,a){sr.X(r,a);var c=jl;if(c&&r){var d=kn(c).hoistableScripts,g=Fl(r),v=d.get(g);v||(v=c.querySelector(zu(g)),v||(r=p({src:r,async:!0},a),(a=vi.get(g))&&S_(r,a),v=c.createElement("script"),Me(v),pn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function N4(r,a){sr.M(r,a);var c=jl;if(c&&r){var d=kn(c).hoistableScripts,g=Fl(r),v=d.get(g);v||(v=c.querySelector(zu(g)),v||(r=p({src:r,async:!0,type:"module"},a),(a=vi.get(g))&&S_(r,a),v=c.createElement("script"),Me(v),pn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function Qw(r,a,c,d){var g=(g=_t.current)?Fd(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Bl(c.href),c=kn(g).hoistableStyles,d=c.get(a),d||(d={type:"style",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Bl(c.href);var v=kn(g).hoistableStyles,x=v.get(r);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,x),(v=g.querySelector(Lu(r)))&&!v._p&&(x.instance=v,x.state.loading=5),vi.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},vi.set(r,c),v||V4(g,r,c,x.state))),a&&d===null)throw Error(i(528,""));return x}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Fl(c),c=kn(g).hoistableScripts,d=c.get(a),d||(d={type:"script",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Bl(r){return'href="'+je(r)+'"'}function Lu(r){return'link[rel="stylesheet"]['+r+"]"}function Yw(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function V4(r,a,c,d){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=r.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),pn(a,"link",c),Me(a),r.head.appendChild(a))}function Fl(r){return'[src="'+je(r)+'"]'}function zu(r){return"script[async]"+r}function Xw(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var d=r.querySelector('style[data-href~="'+je(c.href)+'"]');if(d)return a.instance=d,Me(d),d;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Me(d),pn(d,"style",g),Hd(d,c.precedence,r),a.instance=d;case"stylesheet":g=Bl(c.href);var v=r.querySelector(Lu(g));if(v)return a.state.loading|=4,a.instance=v,Me(v),v;d=Yw(c),(g=vi.get(g))&&T_(d,g),v=(r.ownerDocument||r).createElement("link"),Me(v);var x=v;return x._p=new Promise(function(z,H){x.onload=z,x.onerror=H}),pn(v,"link",d),a.state.loading|=4,Hd(v,c.precedence,r),a.instance=v;case"script":return v=Fl(c.src),(g=r.querySelector(zu(v)))?(a.instance=g,Me(g),g):(d=c,(g=vi.get(v))&&(d=p({},c),S_(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),Me(g),pn(g,"link",d),r.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Hd(d,c.precedence,r));return a.instance}function Hd(r,a,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,x=0;x<d.length;x++){var z=d[x];if(z.dataset.precedence===a)v=z;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function T_(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function S_(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var qd=null;function Jw(r,a,c){if(qd===null){var d=new Map,g=qd=new Map;g.set(c,d)}else g=qd,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),g=0;g<c.length;g++){var v=c[g];if(!(v[No]||v[Ge]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var x=v.getAttribute(a)||"";x=r+x;var z=d.get(x);z?z.push(v):d.set(x,[v])}}return d}function tE(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function L4(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function eE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Uu=null;function z4(){}function U4(r,a,c){if(Uu===null)throw Error(i(475));var d=Uu;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Bl(c.href),v=r.querySelector(Lu(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=$d.bind(d),r.then(d,d)),a.state.loading|=4,a.instance=v,Me(v);return}v=r.ownerDocument||r,c=Yw(c),(g=vi.get(g))&&T_(c,g),v=v.createElement("link"),Me(v);var x=v;x._p=new Promise(function(z,H){x.onload=z,x.onerror=H}),pn(v,"link",c),a.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=$d.bind(d),r.addEventListener("load",a),r.addEventListener("error",a))}}function j4(){if(Uu===null)throw Error(i(475));var r=Uu;return r.stylesheets&&r.count===0&&w_(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&w_(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function $d(){if(this.count--,this.count===0){if(this.stylesheets)w_(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Gd=null;function w_(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Gd=new Map,a.forEach(B4,r),Gd=null,$d.call(r))}function B4(r,a){if(!(a.state.loading&4)){var c=Gd.get(r);if(c)var d=c.get(null);else{c=new Map,Gd.set(r,c);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var x=g[v];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),d=x)}d&&c.set(null,d)}g=a.instance,x=g.getAttribute("data-precedence"),v=c.get(x)||d,v===d&&c.set(null,g),c.set(x,g),this.count++,d=$d.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),a.state.loading|=4}}var ju={$$typeof:k,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function F4(r,a,c,d,g,v,x,z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ks(0),this.hiddenUpdates=ks(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function nE(r,a,c,d,g,v,x,z,H,X,ot,ht){return r=new F4(r,a,c,x,z,H,X,ht),a=1,v===!0&&(a|=24),v=ti(3,null,null,a),r.current=v,v.stateNode=r,a=sy(),a.refCount++,r.pooledCache=a,a.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:a},ly(v),r}function iE(r){return r?(r=vl,r):vl}function sE(r,a,c,d,g,v){g=iE(g),d.context===null?d.context=g:d.pendingContext=g,d=Or(a),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=Pr(r,d,a),c!==null&&(ri(c,r,a),gu(c,r,a))}function rE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function E_(r,a){rE(r,a),(r=r.alternate)&&rE(r,a)}function oE(r){if(r.tag===13){var a=_l(r,67108864);a!==null&&ri(a,r,67108864),E_(r,67108864)}}var Wd=!0;function H4(r,a,c,d){var g=q.T;q.T=null;var v=W.p;try{W.p=2,A_(r,a,c,d)}finally{W.p=v,q.T=g}}function q4(r,a,c,d){var g=q.T;q.T=null;var v=W.p;try{W.p=8,A_(r,a,c,d)}finally{W.p=v,q.T=g}}function A_(r,a,c,d){if(Wd){var g=x_(d);if(g===null)f_(r,a,d,Kd,c),lE(r,d);else if(G4(g,r,a,c,d))d.stopPropagation();else if(lE(r,d),a&4&&-1<$4.indexOf(r)){for(;g!==null;){var v=Yi(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var x=Mi(v.pendingLanes);if(x!==0){var z=v;for(z.pendingLanes|=2,z.entangledLanes|=2;x;){var H=1<<31-Tn(x);z.entanglements[1]|=H,x&=~H}hs(v),(ie&6)===0&&(Md=De()+500,Pu(0))}}break;case 13:z=_l(v,2),z!==null&&ri(z,v,2),Pd(),E_(v,2)}if(v=x_(d),v===null&&f_(r,a,d,Kd,c),v===g)break;g=v}g!==null&&d.stopPropagation()}else f_(r,a,d,null,c)}}function x_(r){return r=ui(r),C_(r)}var Kd=null;function C_(r){if(Kd=null,r=Vs(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=l(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Kd=r,null}function aE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case Ps:return 2;case Sr:return 8;case Zi:case zc:return 32;case Xa:return 268435456;default:return 32}default:return 32}}var R_=!1,Gr=null,Wr=null,Kr=null,Bu=new Map,Fu=new Map,Zr=[],$4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lE(r,a){switch(r){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Bu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(a.pointerId)}}function Hu(r,a,c,d,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:a,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},a!==null&&(a=Yi(a),a!==null&&oE(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function G4(r,a,c,d,g){switch(a){case"focusin":return Gr=Hu(Gr,r,a,c,d,g),!0;case"dragenter":return Wr=Hu(Wr,r,a,c,d,g),!0;case"mouseover":return Kr=Hu(Kr,r,a,c,d,g),!0;case"pointerover":var v=g.pointerId;return Bu.set(v,Hu(Bu.get(v)||null,r,a,c,d,g)),!0;case"gotpointercapture":return v=g.pointerId,Fu.set(v,Hu(Fu.get(v)||null,r,a,c,d,g)),!0}return!1}function cE(r){var a=Vs(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){r.blockedOn=a,Pf(r.priority,function(){if(c.tag===13){var d=si();d=wr(d);var g=_l(c,d);g!==null&&ri(g,c,d),E_(c,d)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Zd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=x_(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);js=d,c.target.dispatchEvent(d),js=null}else return a=Yi(c),a!==null&&oE(a),r.blockedOn=c,!1;a.shift()}return!0}function uE(r,a,c){Zd(r)&&c.delete(a)}function W4(){R_=!1,Gr!==null&&Zd(Gr)&&(Gr=null),Wr!==null&&Zd(Wr)&&(Wr=null),Kr!==null&&Zd(Kr)&&(Kr=null),Bu.forEach(uE),Fu.forEach(uE)}function Qd(r,a){r.blockedOn===a&&(r.blockedOn=null,R_||(R_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,W4)))}var Yd=null;function hE(r){Yd!==r&&(Yd=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yd===r&&(Yd=null);for(var a=0;a<r.length;a+=3){var c=r[a],d=r[a+1],g=r[a+2];if(typeof d!="function"){if(C_(d||c)===null)continue;break}var v=Yi(c);v!==null&&(r.splice(a,3),a-=3,Cy(v,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function qu(r){function a(H){return Qd(H,r)}Gr!==null&&Qd(Gr,r),Wr!==null&&Qd(Wr,r),Kr!==null&&Qd(Kr,r),Bu.forEach(a),Fu.forEach(a);for(var c=0;c<Zr.length;c++){var d=Zr[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Zr.length&&(c=Zr[0],c.blockedOn===null);)cE(c),c.blockedOn===null&&Zr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],v=c[d+1],x=g[Ue]||null;if(typeof v=="function")x||hE(c);else if(x){var z=null;if(v&&v.hasAttribute("formAction")){if(g=v,x=v[Ue]||null)z=x.formAction;else if(C_(g)!==null)continue}else z=x.action;typeof z=="function"?c[d+1]=z:(c.splice(d,3),d-=3),hE(c)}}}function I_(r){this._internalRoot=r}Xd.prototype.render=I_.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,d=si();sE(c,d,r,a,null,null)},Xd.prototype.unmount=I_.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;sE(r.current,2,null,r,null,null),Pd(),a[li]=null}};function Xd(r){this._internalRoot=r}Xd.prototype.unstable_scheduleHydration=function(r){if(r){var a=Er();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Zr.length&&a!==0&&a<Zr[c].priority;c++);Zr.splice(c,0,r),c===0&&cE(r)}};var fE=t.version;if(fE!=="19.1.0")throw Error(i(527,fE,"19.1.0"));W.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var K4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{xe=Jd.inject(K4),ne=Jd}catch{}}return Gu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,d="",g=RS,v=IS,x=DS,z=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(z=a.unstable_transitionCallbacks)),a=nE(r,1,!1,null,null,c,d,g,v,x,z,null),r[li]=a.current,h_(r),new I_(a)},Gu.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var d=!1,g="",v=RS,x=IS,z=DS,H=null,X=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(H=c.unstable_transitionCallbacks),c.formState!==void 0&&(X=c.formState)),a=nE(r,1,!0,a,c??null,d,g,v,x,z,H,X),a.context=iE(null),c=a.current,d=si(),d=wr(d),g=Or(d),g.callback=null,Pr(c,g,d),c=d,a.current.lanes=c,Ns(a,c),hs(a),r[li]=a.current,h_(r),new Xd(a)},Gu.version="19.1.0",Gu}var SE;function oN(){if(SE)return O_.exports;SE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),O_.exports=rN(),O_.exports}var aN=oN();const lN="modulepreload",cN=function(e){return"/CoinRadar/"+e},wE={},uN=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=l(n.map(f=>{if(f=cN(f),f in wE)return;wE[f]=!0;const p=f.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":lN,p||(_.as="script"),_.crossOrigin="",_.href=f,h&&_.setAttribute("nonce",h),document.head.appendChild(_),p)return new Promise((b,S)=>{_.addEventListener("load",b),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};var V_={exports:{}},L_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function hN(){if(EE)return L_;EE=1;var e=Gm();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return L_.useSyncExternalStoreWithSelector=function(h,f,p,y,_){var b=s(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=l(function(){function E(V){if(!I){if(I=!0,j=V,V=y(V),_!==void 0&&S.hasValue){var B=S.value;if(_(B,V))return k=B}return k=V}if(B=k,n(j,V))return B;var D=y(V);return _!==void 0&&_(B,D)?(j=V,B):(j=V,k=D)}var I=!1,j,k,N=p===void 0?null:p;return[function(){return E(f())},N===null?void 0:function(){return E(N())}]},[f,p,y,_]);var C=i(h,b[0],b[1]);return o(function(){S.hasValue=!0,S.value=C},[C]),u(C),C},L_}var AE;function fN(){return AE||(AE=1,V_.exports=hN()),V_.exports}var dN=fN();function CR(e){e()}function pN(){let e=null,t=null;return{clear(){e=null,t=null},notify(){CR(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var xE={notify(){},get:()=>[]};function mN(e,t){let n,i=xE,s=0,o=!1;function l(C){p();const E=i.subscribe(C);let I=!1;return()=>{I||(I=!0,E(),y())}}function u(){i.notify()}function h(){S.onStateChange&&S.onStateChange()}function f(){return o}function p(){s++,n||(n=e.subscribe(h),i=pN())}function y(){s--,n&&s===0&&(n(),n=void 0,i.clear(),i=xE)}function _(){o||(o=!0,p())}function b(){o&&(o=!1,y())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:f,trySubscribe:_,tryUnsubscribe:b,getListeners:()=>i};return S}var gN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yN=gN(),_N=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vN=_N(),bN=()=>yN||vN?J.useLayoutEffect:J.useEffect,TN=bN();function CE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fh(e,t){if(CE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!CE(e[n[s]],t[n[s]]))return!1;return!0}var z_=Symbol.for("react-redux-context"),U_=typeof globalThis<"u"?globalThis:{};function SN(){if(!J.createContext)return{};const e=U_[z_]??(U_[z_]=new Map);let t=e.get(J.createContext);return t||(t=J.createContext(null),e.set(J.createContext,t)),t}var po=SN();function wN(e){const{children:t,context:n,serverState:i,store:s}=e,o=J.useMemo(()=>{const h=mN(s);return{store:s,subscription:h,getServerState:i?()=>i:void 0}},[s,i]),l=J.useMemo(()=>s.getState(),[s]);TN(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==s.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,l]);const u=n||po;return J.createElement(u.Provider,{value:o},t)}var EN=wN;function Q0(e=po){return function(){return J.useContext(e)}}var RR=Q0();function IR(e=po){const t=e===po?RR:Q0(e),n=()=>{const{store:i}=t();return i};return Object.assign(n,{withTypes:()=>n}),n}var Y0=IR();function AN(e=po){const t=e===po?Y0:IR(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var DR=AN(),xN=(e,t)=>e===t;function CN(e=po){const t=e===po?RR:Q0(e),n=(i,s={})=>{const{equalityFn:o=xN}=typeof s=="function"?{equalityFn:s}:s,l=t(),{store:u,subscription:h,getServerState:f}=l;J.useRef(!0);const p=J.useCallback({[i.name](_){return i(_)}}[i.name],[i]),y=dN.useSyncExternalStoreWithSelector(h.addNestedSub,u.getState,f||u.getState,p,o);return J.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var X0=CN(),RN=CR;const IN=()=>{const e=X0(t=>t.theme.theme);J.useEffect(()=>{const t=document.documentElement;t.classList.toggle("dark",e==="dark"),t.classList.toggle("light",e==="light")},[e])};var DN=xR();const MN=AR(DN),J0=J.createContext({});function tb(e){const t=J.useRef(null);return t.current===null&&(t.current=e()),t.current}const eb=typeof window<"u",MR=eb?J.useLayoutEffect:J.useEffect,Km=J.createContext(null);function nb(e,t){e.indexOf(t)===-1&&e.push(t)}function ib(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const pr=(e,t,n)=>n>t?t:n<e?e:n;let sb=()=>{};const mr={},OR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function PR(e){return typeof e=="object"&&e!==null}const kR=e=>/^0[^.\s]+$/u.test(e);function rb(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ci=e=>e,ON=(e,t)=>n=>t(e(n)),cf=(...e)=>e.reduce(ON),Ph=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class ob{constructor(){this.subscriptions=[]}add(t){return nb(this.subscriptions,t),()=>ib(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _s=e=>e*1e3,vs=e=>e/1e3;function NR(e,t){return t?e*(1e3/t):0}const VR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,PN=1e-7,kN=12;function NN(e,t,n,i,s){let o,l,u=0;do l=t+(n-t)/2,o=VR(l,i,s)-e,o>0?n=l:t=l;while(Math.abs(o)>PN&&++u<kN);return l}function uf(e,t,n,i){if(e===t&&n===i)return Ci;const s=o=>NN(o,0,1,e,n);return o=>o===0||o===1?o:VR(s(o),t,i)}const LR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zR=e=>t=>1-e(1-t),UR=uf(.33,1.53,.69,.99),ab=zR(UR),jR=LR(ab),BR=e=>(e*=2)<1?.5*ab(e):.5*(2-Math.pow(2,-10*(e-1))),lb=e=>1-Math.sin(Math.acos(e)),FR=zR(lb),HR=LR(lb),VN=uf(.42,0,1,1),LN=uf(0,0,.58,1),qR=uf(.42,0,.58,1),zN=e=>Array.isArray(e)&&typeof e[0]!="number",$R=e=>Array.isArray(e)&&typeof e[0]=="number",UN={linear:Ci,easeIn:VN,easeInOut:qR,easeOut:LN,circIn:lb,circInOut:HR,circOut:FR,backIn:ab,backInOut:jR,backOut:UR,anticipate:BR},jN=e=>typeof e=="string",RE=e=>{if($R(e)){sb(e.length===4);const[t,n,i,s]=e;return uf(t,n,i,s)}else if(jN(e))return UN[e];return e},tp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],IE={value:null};function BN(e,t){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function f(y){l.has(y)&&(p.schedule(y),e()),h++,y(u)}const p={schedule:(y,_=!1,b=!1)=>{const C=b&&s?n:i;return _&&l.add(y),C.has(y)||C.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(u=y,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),t&&IE.value&&IE.value.frameloop[t].push(h),h=0,n.clear(),s=!1,o&&(o=!1,p.process(y))}};return p}const FN=40;function GR(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=tp.reduce((k,N)=>(k[N]=BN(o,t?N:void 0),k),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:p,update:y,preRender:_,render:b,postRender:S}=l,C=()=>{const k=mr.useManualTiming?s.timestamp:performance.now();n=!1,mr.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(k-s.timestamp,FN),1)),s.timestamp=k,s.isProcessing=!0,u.process(s),h.process(s),f.process(s),p.process(s),y.process(s),_.process(s),b.process(s),S.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(C))},E=()=>{n=!0,i=!0,s.isProcessing||e(C)};return{schedule:tp.reduce((k,N)=>{const V=l[N];return k[N]=(B,D=!1,A=!1)=>(n||E(),V.schedule(B,D,A)),k},{}),cancel:k=>{for(let N=0;N<tp.length;N++)l[tp[N]].cancel(k)},state:s,steps:l}}const{schedule:we,cancel:mo,state:gn,steps:j_}=GR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ci,!0);let Vp;function HN(){Vp=void 0}const Kn={now:()=>(Vp===void 0&&Kn.set(gn.isProcessing||mr.useManualTiming?gn.timestamp:performance.now()),Vp),set:e=>{Vp=e,queueMicrotask(HN)}},WR=e=>t=>typeof t=="string"&&t.startsWith(e),cb=WR("--"),qN=WR("var(--"),ub=e=>qN(e)?$N.test(e.split("/*")[0].trim()):!1,$N=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},kh={...xc,transform:e=>pr(0,1,e)},ep={...xc,default:1},dh=e=>Math.round(e*1e5)/1e5,hb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GN(e){return e==null}const WN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fb=(e,t)=>n=>!!(typeof n=="string"&&WN.test(n)&&n.startsWith(e)||t&&!GN(n)&&Object.prototype.hasOwnProperty.call(n,t)),KR=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,u]=i.match(hb);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},KN=e=>pr(0,255,e),B_={...xc,transform:e=>Math.round(KN(e))},Ta={test:fb("rgb","red"),parse:KR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+B_.transform(e)+", "+B_.transform(t)+", "+B_.transform(n)+", "+dh(kh.transform(i))+")"};function ZN(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const kv={test:fb("#"),parse:ZN,transform:Ta.transform},hf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Jr=hf("deg"),bs=hf("%"),Dt=hf("px"),QN=hf("vh"),YN=hf("vw"),DE={...bs,parse:e=>bs.parse(e)/100,transform:e=>bs.transform(e*100)},Yl={test:fb("hsl","hue"),parse:KR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+bs.transform(dh(t))+", "+bs.transform(dh(n))+", "+dh(kh.transform(i))+")"},xn={test:e=>Ta.test(e)||kv.test(e)||Yl.test(e),parse:e=>Ta.test(e)?Ta.parse(e):Yl.test(e)?Yl.parse(e):kv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ta.transform(e):Yl.transform(e)},XN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JN(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hb))==null?void 0:t.length)||0)+(((n=e.match(XN))==null?void 0:n.length)||0)>0}const ZR="number",QR="color",tV="var",eV="var(",ME="${}",nV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nh(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const u=t.replace(nV,h=>(xn.test(h)?(i.color.push(o),s.push(QR),n.push(xn.parse(h))):h.startsWith(eV)?(i.var.push(o),s.push(tV),n.push(h)):(i.number.push(o),s.push(ZR),n.push(parseFloat(h))),++o,ME)).split(ME);return{values:n,split:u,indexes:i,types:s}}function YR(e){return Nh(e).values}function XR(e){const{split:t,types:n}=Nh(e),i=t.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],s[l]!==void 0){const u=n[l];u===ZR?o+=dh(s[l]):u===QR?o+=xn.transform(s[l]):o+=s[l]}return o}}const iV=e=>typeof e=="number"?0:e;function sV(e){const t=YR(e);return XR(e)(t.map(iV))}const go={test:JN,parse:YR,createTransformer:XR,getAnimatableNone:sV};function F_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function rV({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,l=0;if(!t)s=o=l=n;else{const u=n<.5?n*(1+t):n+t-n*t,h=2*n-u;s=F_(h,u,e+1/3),o=F_(h,u,e),l=F_(h,u,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function nm(e,t){return n=>n>0?t:e}const Se=(e,t,n)=>e+(t-e)*n,H_=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},oV=[kv,Ta,Yl],aV=e=>oV.find(t=>t.test(e));function OE(e){const t=aV(e);if(!t)return!1;let n=t.parse(e);return t===Yl&&(n=rV(n)),n}const PE=(e,t)=>{const n=OE(e),i=OE(t);if(!n||!i)return nm(e,t);const s={...n};return o=>(s.red=H_(n.red,i.red,o),s.green=H_(n.green,i.green,o),s.blue=H_(n.blue,i.blue,o),s.alpha=Se(n.alpha,i.alpha,o),Ta.transform(s))},Nv=new Set(["none","hidden"]);function lV(e,t){return Nv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function cV(e,t){return n=>Se(e,t,n)}function db(e){return typeof e=="number"?cV:typeof e=="string"?ub(e)?nm:xn.test(e)?PE:fV:Array.isArray(e)?JR:typeof e=="object"?xn.test(e)?PE:uV:nm}function JR(e,t){const n=[...e],i=n.length,s=e.map((o,l)=>db(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function uV(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=db(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function hV(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],u=e.values[l]??0;n[s]=u,i[o]++}return n}const fV=(e,t)=>{const n=go.createTransformer(t),i=Nh(e),s=Nh(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Nv.has(e)&&!s.values.length||Nv.has(t)&&!i.values.length?lV(e,t):cf(JR(hV(i,s),s.values),n):nm(e,t)};function tI(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Se(e,t,n):db(e)(e,t)}const dV=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>we.update(t,n),stop:()=>mo(t),now:()=>gn.isProcessing?gn.timestamp:Kn.now()}},eI=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=e(o/(s-1))+", ";return`linear(${i.substring(0,i.length-2)})`},im=2e4;function pb(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<im;)t+=n,i=e.next(t);return t>=im?1/0:t}function pV(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(pb(i),im);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:vs(s)}}const mV=5;function nI(e,t,n){const i=Math.max(t-mV,0);return NR(n-e(i),t-i)}const Ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kE=.001;function gV({duration:e=Ie.duration,bounce:t=Ie.bounce,velocity:n=Ie.velocity,mass:i=Ie.mass}){let s,o,l=1-t;l=pr(Ie.minDamping,Ie.maxDamping,l),e=pr(Ie.minDuration,Ie.maxDuration,vs(e)),l<1?(s=f=>{const p=f*l,y=p*e,_=p-n,b=Vv(f,l),S=Math.exp(-y);return kE-_/b*S},o=f=>{const y=f*l*e,_=y*n+n,b=Math.pow(l,2)*Math.pow(f,2)*e,S=Math.exp(-y),C=Vv(Math.pow(f,2),l);return(-s(f)+kE>0?-1:1)*((_-b)*S)/C}):(s=f=>{const p=Math.exp(-f*e),y=(f-n)*e+1;return-.001+p*y},o=f=>{const p=Math.exp(-f*e),y=(n-f)*(e*e);return p*y});const u=5/e,h=_V(s,o,u);if(e=_s(e),isNaN(h))return{stiffness:Ie.stiffness,damping:Ie.damping,duration:e};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:e}}}const yV=12;function _V(e,t,n){let i=n;for(let s=1;s<yV;s++)i=i-e(i)/t(i);return i}function Vv(e,t){return e*Math.sqrt(1-t*t)}const vV=["duration","bounce"],bV=["stiffness","damping","mass"];function NE(e,t){return t.some(n=>e[n]!==void 0)}function TV(e){let t={velocity:Ie.velocity,stiffness:Ie.stiffness,damping:Ie.damping,mass:Ie.mass,isResolvedFromDuration:!1,...e};if(!NE(e,bV)&&NE(e,vV))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*pr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ie.mass,stiffness:s,damping:o}}else{const n=gV(e);t={...t,...n,mass:Ie.mass},t.isResolvedFromDuration=!0}return t}function sm(e=Ie.visualDuration,t=Ie.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:p,duration:y,velocity:_,isResolvedFromDuration:b}=TV({...n,velocity:-vs(n.velocity||0)}),S=_||0,C=f/(2*Math.sqrt(h*p)),E=l-o,I=vs(Math.sqrt(h/p)),j=Math.abs(E)<5;i||(i=j?Ie.restSpeed.granular:Ie.restSpeed.default),s||(s=j?Ie.restDelta.granular:Ie.restDelta.default);let k;if(C<1){const V=Vv(I,C);k=B=>{const D=Math.exp(-C*I*B);return l-D*((S+C*I*E)/V*Math.sin(V*B)+E*Math.cos(V*B))}}else if(C===1)k=V=>l-Math.exp(-I*V)*(E+(S+I*E)*V);else{const V=I*Math.sqrt(C*C-1);k=B=>{const D=Math.exp(-C*I*B),A=Math.min(V*B,300);return l-D*((S+C*I*E)*Math.sinh(A)+V*E*Math.cosh(A))/V}}const N={calculatedDuration:b&&y||null,next:V=>{const B=k(V);if(b)u.done=V>=y;else{let D=V===0?S:0;C<1&&(D=V===0?_s(S):nI(k,V,B));const A=Math.abs(D)<=i,R=Math.abs(l-B)<=s;u.done=A&&R}return u.value=u.done?l:B,u},toString:()=>{const V=Math.min(pb(N),im),B=eI(D=>N.next(V*D).value,V,30);return V+"ms "+B},toTransition:()=>{}};return N}sm.applyToOptions=e=>{const t=pV(e,100,sm);return e.ease=t.ease,e.duration=_s(t.duration),e.type="keyframes",e};function Lv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:p}){const y=e[0],_={done:!1,value:y},b=A=>u!==void 0&&A<u||h!==void 0&&A>h,S=A=>u===void 0?h:h===void 0||Math.abs(u-A)<Math.abs(h-A)?u:h;let C=n*t;const E=y+C,I=l===void 0?E:l(E);I!==E&&(C=I-y);const j=A=>-C*Math.exp(-A/i),k=A=>I+j(A),N=A=>{const R=j(A),M=k(A);_.done=Math.abs(R)<=f,_.value=_.done?I:M};let V,B;const D=A=>{b(_.value)&&(V=A,B=sm({keyframes:[_.value,S(_.value)],velocity:nI(k,A,_.value),damping:s,stiffness:o,restDelta:f,restSpeed:p}))};return D(0),{calculatedDuration:null,next:A=>{let R=!1;return!B&&V===void 0&&(R=!0,N(A),D(A)),V!==void 0&&A>=V?B.next(A-V):(!R&&N(A),_)}}}function SV(e,t,n){const i=[],s=n||mr.mix||tI,o=e.length-1;for(let l=0;l<o;l++){let u=s(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||Ci:t;u=cf(h,u)}i.push(u)}return i}function wV(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(sb(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=SV(t,i,s),h=u.length,f=p=>{if(l&&p<e[0])return t[0];let y=0;if(h>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const _=Ph(e[y],e[y+1],p);return u[y](_)};return n?p=>f(pr(e[0],e[o-1],p)):f}function EV(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Ph(0,t,i);e.push(Se(n,1,s))}}function AV(e){const t=[0];return EV(t,e.length-1),t}function xV(e,t){return e.map(n=>n*t)}function CV(e,t){return e.map(()=>t||qR).splice(0,e.length-1)}function ph({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=zN(i)?i.map(RE):RE(i),o={done:!1,value:t[0]},l=xV(n&&n.length===t.length?n:AV(t),e),u=wV(l,t,{ease:Array.isArray(s)?s:CV(t,s)});return{calculatedDuration:e,next:h=>(o.value=u(h),o.done=h>=e,o)}}const RV=e=>e!==null;function mb(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter(RV),u=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const IV={decay:Lv,inertia:Lv,tween:ph,keyframes:ph,spring:sm};function iI(e){typeof e.type=="string"&&(e.type=IV[e.type])}class gb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const DV=e=>e/100;class yb extends gb{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Kn.now()&&this.tick(Kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;iI(t);const{type:n=ph,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=t;let{keyframes:u}=t;const h=n||ph;h!==ph&&typeof u[0]!="number"&&(this.mixKeyframes=cf(DV,tI(u[0],u[1])),u=[0,100]);const f=h({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=pb(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:y,repeatType:_,repeatDelay:b,type:S,onUpdate:C,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const I=this.currentTime-f*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?I<0:I>s;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,N=i;if(y){const A=Math.min(this.currentTime,s)/u;let R=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&R--,R=Math.min(R,y+1),!!(R%2)&&(_==="reverse"?(M=1-M,b&&(M-=b/u)):_==="mirror"&&(N=l)),k=pr(0,1,M)*u}const V=j?{done:!1,value:p[0]}:N.next(k);o&&(V.value=o(V.value));let{done:B}=V;!j&&h!==null&&(B=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return D&&S!==Lv&&(V.value=mb(p,this.options,E,this.speed)),C&&C(V.value),D&&this.finish(),V}then(t,n){return this.finished.then(t,n)}get duration(){return vs(this.calculatedDuration)}get time(){return vs(this.currentTime)}set time(t){var n;t=_s(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Kn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=vs(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:t=dV,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(o=(s=this.options).onPlay)==null||o.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function MV(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Sa=e=>e*180/Math.PI,zv=e=>{const t=Sa(Math.atan2(e[1],e[0]));return Uv(t)},OV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:zv,rotateZ:zv,skewX:e=>Sa(Math.atan(e[1])),skewY:e=>Sa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Uv=e=>(e=e%360,e<0&&(e+=360),e),VE=zv,LE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),zE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),PV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LE,scaleY:zE,scale:e=>(LE(e)+zE(e))/2,rotateX:e=>Uv(Sa(Math.atan2(e[6],e[5]))),rotateY:e=>Uv(Sa(Math.atan2(-e[2],e[0]))),rotateZ:VE,rotate:VE,skewX:e=>Sa(Math.atan(e[4])),skewY:e=>Sa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jv(e){return e.includes("scale")?1:0}function Bv(e,t){if(!e||e==="none")return jv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=PV,s=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=OV,s=u}if(!s)return jv(t);const o=i[t],l=s[1].split(",").map(NV);return typeof o=="function"?o(l):l[o]}const kV=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Bv(n,t)};function NV(e){return parseFloat(e.trim())}const Cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rc=new Set(Cc),UE=e=>e===xc||e===Dt,VV=new Set(["x","y","z"]),LV=Cc.filter(e=>!VV.has(e));function zV(e){const t=[];return LV.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Ca={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Bv(t,"x"),y:(e,{transform:t})=>Bv(t,"y")};Ca.translateX=Ca.x;Ca.translateY=Ca.y;const Ra=new Set;let Fv=!1,Hv=!1,qv=!1;function sI(){if(Hv){const e=Array.from(Ra).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=zV(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{var u;(u=i.getValue(o))==null||u.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Hv=!1,Fv=!1,Ra.forEach(e=>e.complete(qv)),Ra.clear()}function rI(){Ra.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Hv=!0)})}function UV(){qv=!0,rI(),sI(),qv=!1}class _b{constructor(t,n,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Ra.add(this),Fv||(Fv=!0,we.read(rI),we.resolveKeyframes(sI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const u=i.readValue(n,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}MV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ra.delete(this)}cancel(){this.state==="scheduled"&&(Ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jV=e=>e.startsWith("--");function BV(e,t,n){jV(t)?e.style.setProperty(t,n):e.style[t]=n}const FV=rb(()=>window.ScrollTimeline!==void 0),HV={};function qV(e,t){const n=rb(e);return()=>HV[t]??n()}const oI=qV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nh=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,jE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nh([0,.65,.55,1]),circOut:nh([.55,0,1,.45]),backIn:nh([.31,.01,.66,-.59]),backOut:nh([.33,1.53,.69,.99])};function aI(e,t){if(e)return typeof e=="function"?oI()?eI(e,t):"ease-out":$R(e)?nh(e):Array.isArray(e)?e.map(n=>aI(n,t)||jE.easeOut):jE[e]}function $V(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:h}={},f=void 0){const p={[t]:n};h&&(p.offset=h);const y=aI(u,s);Array.isArray(y)&&(p.easing=y);const _={delay:i,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(_.pseudoElement=f),e.animate(p,_)}function lI(e){return typeof e=="function"&&"applyToOptions"in e}function GV({type:e,...t}){return lI(e)&&oI()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class WV extends gb{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,sb(typeof t.type!="string");const f=GV(t);this.animation=$V(n,i,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=mb(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):BV(n,i,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return vs(Number(t))}get time(){return vs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_s(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&FV()?(this.animation.timeline=t,Ci):n(this)}}const cI={anticipate:BR,backInOut:jR,circInOut:HR};function KV(e){return e in cI}function ZV(e){typeof e.ease=="string"&&KV(e.ease)&&(e.ease=cI[e.ease])}const BE=10;class QV extends WV{constructor(t){ZV(t),iI(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new yb({...l,autoplay:!1}),h=_s(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-BE).value,u.sample(h).value,BE),u.stop()}}const FE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(go.test(e)||e==="0")&&!e.startsWith("url("));function YV(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function XV(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=FE(s,t),u=FE(o,t);return!l||!u?!1:YV(e)||(n==="spring"||lI(n))&&i}function vb(e){return PR(e)&&"offsetHeight"in e}const JV=new Set(["opacity","clipPath","filter","transform"]),t5=rb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function e5(e){var f;const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!vb((f=t==null?void 0:t.owner)==null?void 0:f.current))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return t5()&&n&&JV.has(n)&&(n!=="transform"||!h)&&!u&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const n5=40;class i5 extends gb{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:h,motionValue:f,element:p,...y}){var S;super(),this.stop=()=>{var C,E;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Kn.now();const _={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,name:h,motionValue:f,element:p,...y},b=(p==null?void 0:p.KeyframeResolver)||_b;this.keyframeResolver=new b(u,(C,E,I)=>this.onKeyframesResolved(C,E,_,!I),h,f,p),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:h,isHandoff:f,onUpdate:p}=i;this.resolvedAt=Kn.now(),XV(t,o,l,u)||((mr.instantAnimations||!h)&&(p==null||p(mb(t,i,n))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>n5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},b=!f&&e5(_)?new QV({..._,element:_.motionValue.owner.current}):new yb(_);b.finished.then(()=>this.notifyFinished()).catch(Ci),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),UV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const s5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r5(e){const t=s5.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function uI(e,t,n=1){const[i,s]=r5(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return OR(l)?parseFloat(l):l}return ub(s)?uI(s,t,n+1):s}function bb(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const hI=new Set(["width","height","top","left","right","bottom",...Cc]),o5={test:e=>e==="auto",parse:e=>e},fI=e=>t=>t.test(e),dI=[xc,Dt,bs,Jr,YN,QN,o5],HE=e=>dI.find(fI(e));function a5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||kR(e):!0}const l5=new Set(["brightness","contrast","saturate","opacity"]);function c5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(hb)||[];if(!i)return e;const s=n.replace(i,"");let o=l5.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const u5=/\b([a-z-]*)\(.*?\)/gu,$v={...go,getAnimatableNone:e=>{const t=e.match(u5);return t?t.map(c5).join(" "):e}},qE={...xc,transform:Math.round},h5={rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:ep,scaleX:ep,scaleY:ep,scaleZ:ep,skew:Jr,skewX:Jr,skewY:Jr,distance:Dt,translateX:Dt,translateY:Dt,translateZ:Dt,x:Dt,y:Dt,z:Dt,perspective:Dt,transformPerspective:Dt,opacity:kh,originX:DE,originY:DE,originZ:Dt},Tb={borderWidth:Dt,borderTopWidth:Dt,borderRightWidth:Dt,borderBottomWidth:Dt,borderLeftWidth:Dt,borderRadius:Dt,radius:Dt,borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomRightRadius:Dt,borderBottomLeftRadius:Dt,width:Dt,maxWidth:Dt,height:Dt,maxHeight:Dt,top:Dt,right:Dt,bottom:Dt,left:Dt,padding:Dt,paddingTop:Dt,paddingRight:Dt,paddingBottom:Dt,paddingLeft:Dt,margin:Dt,marginTop:Dt,marginRight:Dt,marginBottom:Dt,marginLeft:Dt,backgroundPositionX:Dt,backgroundPositionY:Dt,...h5,zIndex:qE,fillOpacity:kh,strokeOpacity:kh,numOctaves:qE},f5={...Tb,color:xn,backgroundColor:xn,outlineColor:xn,fill:xn,stroke:xn,borderColor:xn,borderTopColor:xn,borderRightColor:xn,borderBottomColor:xn,borderLeftColor:xn,filter:$v,WebkitFilter:$v},pI=e=>f5[e];function mI(e,t){let n=pI(e);return n!==$v&&(n=go),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const d5=new Set(["auto","none","0"]);function p5(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!d5.has(o)&&Nh(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=mI(n,s)}class m5 extends _b{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),ub(f))){const p=uI(f,n.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!hI.has(i)||t.length!==2)return;const[s,o]=t,l=HE(s),u=HE(o);if(l!==u)if(UE(l)&&UE(u))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else Ca[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||a5(t[s]))&&i.push(s);i.length&&p5(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Ca[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function g5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=(n==null?void 0:n[e])??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const gI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,$E=30,y5=e=>!isNaN(parseFloat(e));class _5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var l,u;const o=Kn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Kn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=y5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ob);const i=this.events[t].add(n);return t==="change"?()=>{i(),we.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>$E)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$E);return NR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dc(e,t){return new _5(e,t)}const{schedule:Sb}=GR(queueMicrotask,!1),zi={x:!1,y:!1};function yI(){return zi.x||zi.y}function v5(e){return e==="x"||e==="y"?zi[e]?null:(zi[e]=!0,()=>{zi[e]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function _I(e,t){const n=g5(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function GE(e){return!(e.pointerType==="touch"||yI())}function b5(e,t,n={}){const[i,s,o]=_I(e,n),l=u=>{if(!GE(u))return;const{target:h}=u,f=t(h,u);if(typeof f!="function"||!h)return;const p=y=>{GE(y)&&(f(y),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const vI=(e,t)=>t?e===t?!0:vI(e,t.parentElement):!1,wb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,T5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S5(e){return T5.has(e.tagName)||e.tabIndex!==-1}const Lp=new WeakSet;function WE(e){return t=>{t.key==="Enter"&&e(t)}}function q_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const w5=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=WE(()=>{if(Lp.has(n))return;q_(n,"down");const s=WE(()=>{q_(n,"up")}),o=()=>q_(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function KE(e){return wb(e)&&!yI()}function E5(e,t,n={}){const[i,s,o]=_I(e,n),l=u=>{const h=u.currentTarget;if(!KE(u))return;Lp.add(h);const f=t(h,u),p=(b,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),Lp.has(h)&&Lp.delete(h),KE(b)&&typeof f=="function"&&f(b,{success:S})},y=b=>{p(b,h===window||h===document||n.useGlobalTarget||vI(h,b.target))},_=b=>{p(b,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",_,s)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),vb(u)&&(u.addEventListener("focus",f=>w5(f,s)),!S5(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function bI(e){return PR(e)&&"ownerSVGElement"in e}function A5(e){return bI(e)&&e.tagName==="svg"}const In=e=>!!(e&&e.getVelocity),x5=[...dI,xn,go],C5=e=>x5.find(fI(e)),Eb=J.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class R5 extends J.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=vb(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function I5({children:e,isPresent:t,anchorX:n}){const i=J.useId(),s=J.useRef(null),o=J.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=J.useContext(Eb);return J.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:p,right:y}=o.current;if(t||!s.current||!u||!h)return;const _=n==="left"?`left: ${p}`:`right: ${y}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");return l&&(b.nonce=l),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[t]),Q.jsx(R5,{isPresent:t,childRef:s,sizeRef:o,children:J.cloneElement(e,{ref:s})})}const D5=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u})=>{const h=tb(M5),f=J.useId();let p=!0,y=J.useMemo(()=>(p=!1,{id:f,initial:t,isPresent:n,custom:s,onExitComplete:_=>{h.set(_,!0);for(const b of h.values())if(!b)return;i&&i()},register:_=>(h.set(_,!1),()=>h.delete(_))}),[n,h,i]);return o&&p&&(y={...y}),J.useMemo(()=>{h.forEach((_,b)=>h.set(b,!1))},[n]),J.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),l==="popLayout"&&(e=Q.jsx(I5,{isPresent:n,anchorX:u,children:e})),Q.jsx(Km.Provider,{value:y,children:e})};function M5(){return new Map}function TI(e=!0){const t=J.useContext(Km);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=J.useId();J.useEffect(()=>{if(e)return s(o)},[e]);const l=J.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,l]:[!0]}const np=e=>e.key||"";function ZE(e){const t=[];return J.Children.forEach(e,n=>{J.isValidElement(n)&&t.push(n)}),t}const O5=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left"})=>{const[h,f]=TI(l),p=J.useMemo(()=>ZE(e),[e]),y=l&&!h?[]:p.map(np),_=J.useRef(!0),b=J.useRef(p),S=tb(()=>new Map),[C,E]=J.useState(p),[I,j]=J.useState(p);MR(()=>{_.current=!1,b.current=p;for(let V=0;V<I.length;V++){const B=np(I[V]);y.includes(B)?S.delete(B):S.get(B)!==!0&&S.set(B,!1)}},[I,y.length,y.join("-")]);const k=[];if(p!==C){let V=[...p];for(let B=0;B<I.length;B++){const D=I[B],A=np(D);y.includes(A)||(V.splice(B,0,D),k.push(D))}return o==="wait"&&k.length&&(V=k),j(ZE(V)),E(p),null}const{forceRender:N}=J.useContext(J0);return Q.jsx(Q.Fragment,{children:I.map(V=>{const B=np(V),D=l&&!h?!1:p===I||y.includes(B),A=()=>{if(S.has(B))S.set(B,!0);else return;let R=!0;S.forEach(M=>{M||(R=!1)}),R&&(N==null||N(),j(b.current),l&&(f==null||f()),i&&i())};return Q.jsx(D5,{isPresent:D,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,onExitComplete:D?void 0:A,anchorX:u,children:V},B)})})},SI=J.createContext({strict:!1}),QE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pc={};for(const e in QE)pc[e]={isEnabled:t=>QE[e].some(n=>!!t[n])};function P5(e){for(const t in e)pc[t]={...pc[t],...e[t]}}const k5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||k5.has(e)}let wI=e=>!rm(e);function N5(e){e&&(wI=t=>t.startsWith("on")?!rm(t):e(t))}try{N5(require("@emotion/is-prop-valid").default)}catch{}function V5(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(wI(s)||n===!0&&rm(s)||!t&&!rm(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function L5(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Zm=J.createContext({});function Qm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Vh(e){return typeof e=="string"||Array.isArray(e)}const Ab=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xb=["initial",...Ab];function Ym(e){return Qm(e.animate)||xb.some(t=>Vh(e[t]))}function EI(e){return!!(Ym(e)||e.variants)}function z5(e,t){if(Ym(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Vh(n)?n:void 0,animate:Vh(i)?i:void 0}}return e.inherit!==!1?t:{}}function U5(e){const{initial:t,animate:n}=z5(e,J.useContext(Zm));return J.useMemo(()=>({initial:t,animate:n}),[YE(t),YE(n)])}function YE(e){return Array.isArray(e)?e.join(" "):e}const j5=Symbol.for("motionComponentSymbol");function Xl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function B5(e,t,n){return J.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Xl(n)&&(n.current=i))},[t])}const Cb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),F5="framerAppearId",AI="data-"+Cb(F5),xI=J.createContext({});function H5(e,t,n,i,s){var C,E;const{visualElement:o}=J.useContext(Zm),l=J.useContext(SI),u=J.useContext(Km),h=J.useContext(Eb).reducedMotion,f=J.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,y=J.useContext(xI);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&q5(f.current,n,s,y);const _=J.useRef(!1);J.useInsertionEffect(()=>{p&&_.current&&p.update(n,u)});const b=n[AI],S=J.useRef(!!b&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,b))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,b)));return MR(()=>{p&&(_.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Sb.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),J.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,b)}),S.current=!1))}),p}function q5(e,t,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CI(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&Xl(u),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:f})}function CI(e){if(e)return e.options.allowProjection!==!1?e.projection:CI(e.parent)}function $5({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){e&&P5(e);function o(u,h){let f;const p={...J.useContext(Eb),...u,layoutId:G5(u)},{isStatic:y}=p,_=U5(u),b=i(u,y);if(!y&&eb){W5();const S=K5(p);f=S.MeasureLayout,_.visualElement=H5(s,b,p,t,S.ProjectionNode)}return Q.jsxs(Zm.Provider,{value:_,children:[f&&_.visualElement?Q.jsx(f,{visualElement:_.visualElement,...p}):null,n(s,u,B5(b,_.visualElement,h),b,y,_.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=J.forwardRef(o);return l[j5]=s,l}function G5({layoutId:e}){const t=J.useContext(J0).id;return t&&e!==void 0?t+"-"+e:e}function W5(e,t){J.useContext(SI).strict}function K5(e){const{drag:t,layout:n}=pc;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Lh={};function Z5(e){for(const t in e)Lh[t]=e[t],cb(t)&&(Lh[t].isCSSVariable=!0)}function RI(e,{layout:t,layoutId:n}){return Rc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Lh[e]||e==="opacity")}const Q5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Y5=Cc.length;function X5(e,t,n){let i="",s=!0;for(let o=0;o<Y5;o++){const l=Cc[o],u=e[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=gI(u,Tb[l]);if(!h){s=!1;const p=Q5[l]||l;i+=`${p}(${f}) `}n&&(t[l]=f)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Rb(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let l=!1,u=!1;for(const h in t){const f=t[h];if(Rc.has(h)){l=!0;continue}else if(cb(h)){s[h]=f;continue}else{const p=gI(f,Tb[h]);h.startsWith("origin")?(u=!0,o[h]=p):i[h]=p}}if(t.transform||(l||n?i.transform=X5(t,e.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=o;i.transformOrigin=`${h} ${f} ${p}`}}const Ib=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function II(e,t,n){for(const i in t)!In(t[i])&&!RI(i,n)&&(e[i]=t[i])}function J5({transformTemplate:e},t){return J.useMemo(()=>{const n=Ib();return Rb(n,t,e),Object.assign({},n.vars,n.style)},[t])}function t3(e,t){const n=e.style||{},i={};return II(i,n,e),Object.assign(i,J5(e,t)),i}function e3(e,t){const n={},i=t3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const n3={offset:"stroke-dashoffset",array:"stroke-dasharray"},i3={offset:"strokeDashoffset",array:"strokeDasharray"};function s3(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?n3:i3;e[o.offset]=Dt.transform(-i);const l=Dt.transform(t),u=Dt.transform(n);e[o.array]=`${l} ${u}`}function DI(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},h,f,p){if(Rb(e,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:_}=e;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),s!==void 0&&s3(y,s,o,l,!1)}const MI=()=>({...Ib(),attrs:{}}),OI=e=>typeof e=="string"&&e.toLowerCase()==="svg";function r3(e,t,n,i){const s=J.useMemo(()=>{const o=MI();return DI(o,t,OI(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};II(o,e.style,e),s.style={...o,...s.style}}return s}const o3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Db(e){return typeof e!="string"||e.includes("-")?!1:!!(o3.indexOf(e)>-1||/[A-Z]/u.test(e))}function a3(e=!1){return(n,i,s,{latestValues:o},l)=>{const h=(Db(n)?r3:e3)(i,o,l,n),f=V5(i,typeof n=="string",e),p=n!==J.Fragment?{...f,...h,ref:s}:{},{children:y}=i,_=J.useMemo(()=>In(y)?y.get():y,[y]);return J.createElement(n,{...p,children:_})}}function XE(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Mb(e,t,n,i){if(typeof t=="function"){const[s,o]=XE(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=XE(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function zp(e){return In(e)?e.get():e}function l3({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:c3(n,i,s,e),renderState:t()}}const PI=e=>(t,n)=>{const i=J.useContext(Zm),s=J.useContext(Km),o=()=>l3(e,t,i,s);return n?o():tb(o)};function c3(e,t,n,i){const s={},o=i(e,{});for(const _ in o)s[_]=zp(o[_]);let{initial:l,animate:u}=e;const h=Ym(e),f=EI(e);t&&f&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?u:l;if(y&&typeof y!="boolean"&&!Qm(y)){const _=Array.isArray(y)?y:[y];for(let b=0;b<_.length;b++){const S=Mb(e,_[b]);if(S){const{transitionEnd:C,transition:E,...I}=S;for(const j in I){let k=I[j];if(Array.isArray(k)){const N=p?k.length-1:0;k=k[N]}k!==null&&(s[j]=k)}for(const j in C)s[j]=C[j]}}}return s}function Ob(e,t,n){var o;const{style:i}=e,s={};for(const l in i)(In(i[l])||t.style&&In(t.style[l])||RI(l,e)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const u3={useVisualState:PI({scrapeMotionValuesFromProps:Ob,createRenderState:Ib})};function kI(e,t,n){const i=Ob(e,t,n);for(const s in e)if(In(e[s])||In(t[s])){const o=Cc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}const h3={useVisualState:PI({scrapeMotionValuesFromProps:kI,createRenderState:MI})};function f3(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Db(i)?h3:u3,preloadedFeatures:e,useRender:a3(s),createVisualElement:t,Component:i};return $5(l)}}function zh(e,t,n){const i=e.getProps();return Mb(i,t,n!==void 0?n:i.custom,e)}const Gv=e=>Array.isArray(e);function d3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,dc(n))}function p3(e){return Gv(e)?e[e.length-1]||0:e}function m3(e,t){const n=zh(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const u=p3(o[l]);d3(e,l,u)}}function g3(e){return!!(In(e)&&e.add)}function Wv(e,t){const n=e.getValue("willChange");if(g3(n))return n.add(t);if(!n&&mr.WillChange){const i=new mr.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function NI(e){return e.props[AI]}const y3=e=>e!==null;function _3(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(y3),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}const v3={type:"spring",stiffness:500,damping:25,restSpeed:10},b3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),T3={type:"keyframes",duration:.8},S3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},w3=(e,{keyframes:t})=>t.length>2?T3:Rc.has(e)?e.startsWith("scale")?b3(t[1]):v3:S3;function E3({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const Pb=(e,t,n,i={},s,o)=>l=>{const u=bb(i,e)||{},h=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-_s(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:_=>{t.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:o?void 0:s};E3(u)||Object.assign(p,w3(e,p)),p.duration&&(p.duration=_s(p.duration)),p.repeatDelay&&(p.repeatDelay=_s(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),(mr.instantAnimations||mr.skipAnimations)&&(y=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,y&&!o&&t.get()!==void 0){const _=_3(p.keyframes,u);if(_!==void 0){we.update(()=>{p.onUpdate(_),p.onComplete()});return}}return u.isSync?new yb(p):new i5(p)};function A3({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function VI(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:l,...u}=t;i&&(o=i);const h=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const p in u){const y=e.getValue(p,e.latestValues[p]??null),_=u[p];if(_===void 0||f&&A3(f,p))continue;const b={delay:n,...bb(o||{},p)},S=y.get();if(S!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===S&&!b.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const I=NI(e);if(I){const j=window.MotionHandoffAnimation(I,p,we);j!==null&&(b.startTime=j,C=!0)}}Wv(e,p),y.start(Pb(p,y,_,e.shouldReduceMotion&&hI.has(p)?{type:!1}:b,e,C));const E=y.animation;E&&h.push(E)}return l&&Promise.all(h).then(()=>{we.update(()=>{l&&m3(e,l)})}),h}function Kv(e,t,n={}){var h;const i=zh(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(VI(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=s;return x3(e,t,p+f,y,_,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,p]=u==="beforeChildren"?[o,l]:[l,o];return f().then(()=>p())}else return Promise.all([o(),l(n.delay)])}function x3(e,t,n=0,i=0,s=1,o){const l=[],u=(e.variantChildren.size-1)*i,h=s===1?(f=0)=>f*i:(f=0)=>u-f*i;return Array.from(e.variantChildren).sort(C3).forEach((f,p)=>{f.notify("AnimationStart",t),l.push(Kv(f,t,{...o,delay:n+h(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(l)}function C3(e,t){return e.sortNodePosition(t)}function R3(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>Kv(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=Kv(e,t,n);else{const s=typeof t=="function"?zh(e,t,n.custom):t;i=Promise.all(VI(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function LI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const I3=xb.length;function zI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?zI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<I3;n++){const i=xb[n],s=e.props[i];(Vh(s)||s===!1)&&(t[i]=s)}return t}const D3=[...Ab].reverse(),M3=Ab.length;function O3(e){return t=>Promise.all(t.map(({animation:n,options:i})=>R3(e,n,i)))}function P3(e){let t=O3(e),n=JE(),i=!0;const s=h=>(f,p)=>{var _;const y=zh(e,p,h==="exit"?(_=e.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:b,transitionEnd:S,...C}=y;f={...f,...C,...S}}return f};function o(h){t=h(e)}function l(h){const{props:f}=e,p=zI(e.parent)||{},y=[],_=new Set;let b={},S=1/0;for(let E=0;E<M3;E++){const I=D3[E],j=n[I],k=f[I]!==void 0?f[I]:p[I],N=Vh(k),V=I===h?j.isActive:null;V===!1&&(S=E);let B=k===p[I]&&k!==f[I]&&N;if(B&&i&&e.manuallyAnimateOnMount&&(B=!1),j.protectedKeys={...b},!j.isActive&&V===null||!k&&!j.prevProp||Qm(k)||typeof k=="boolean")continue;const D=k3(j.prevProp,k);let A=D||I===h&&j.isActive&&!B&&N||E>S&&N,R=!1;const M=Array.isArray(k)?k:[k];let O=M.reduce(s(I),{});V===!1&&(O={});const{prevResolvedValues:L={}}=j,P={...L,...O},Z=W=>{A=!0,_.has(W)&&(R=!0,_.delete(W)),j.needsAnimating[W]=!0;const st=e.getValue(W);st&&(st.liveStyle=!1)};for(const W in P){const st=O[W],dt=L[W];if(b.hasOwnProperty(W))continue;let F=!1;Gv(st)&&Gv(dt)?F=!LI(st,dt):F=st!==dt,F?st!=null?Z(W):_.add(W):st!==void 0&&_.has(W)?Z(W):j.protectedKeys[W]=!0}j.prevProp=k,j.prevResolvedValues=O,j.isActive&&(b={...b,...O}),i&&e.blockInitialAnimation&&(A=!1),A&&(!(B&&D)||R)&&y.push(...M.map(W=>({animation:W,options:{type:I}})))}if(_.size){const E={};if(typeof f.initial!="boolean"){const I=zh(e,Array.isArray(f.initial)?f.initial[0]:f.initial);I&&I.transition&&(E.transition=I.transition)}_.forEach(I=>{const j=e.getBaseTarget(I),k=e.getValue(I);k&&(k.liveStyle=!0),E[I]=j??null}),y.push({animation:E})}let C=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(C=!1),i=!1,C?t(y):Promise.resolve()}function u(h,f){var y;if(n[h].isActive===f)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(_=>{var b;return(b=_.animationState)==null?void 0:b.setActive(h,f)}),n[h].isActive=f;const p=l(h);for(const _ in n)n[_].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=JE(),i=!0}}}function k3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!LI(t,e):!1}function ua(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JE(){return{animate:ua(!0),whileInView:ua(),whileHover:ua(),whileTap:ua(),whileDrag:ua(),whileFocus:ua(),exit:ua()}}class Ro{constructor(t){this.isMounted=!1,this.node=t}update(){}}class N3 extends Ro{constructor(t){super(t),t.animationState||(t.animationState=P3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let V3=0;class L3 extends Ro{constructor(){super(...arguments),this.id=V3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const z3={animation:{Feature:N3},exit:{Feature:L3}};function Uh(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function ff(e){return{point:{x:e.pageX,y:e.pageY}}}const U3=e=>t=>wb(t)&&e(t,ff(t));function mh(e,t,n,i){return Uh(e,t,U3(n),i)}function UI({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function j3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function B3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const jI=1e-4,F3=1-jI,H3=1+jI,BI=.01,q3=0-BI,$3=0+BI;function Un(e){return e.max-e.min}function G3(e,t,n){return Math.abs(e-t)<=n}function tA(e,t,n,i=.5){e.origin=i,e.originPoint=Se(t.min,t.max,e.origin),e.scale=Un(n)/Un(t),e.translate=Se(n.min,n.max,e.origin)-e.originPoint,(e.scale>=F3&&e.scale<=H3||isNaN(e.scale))&&(e.scale=1),(e.translate>=q3&&e.translate<=$3||isNaN(e.translate))&&(e.translate=0)}function gh(e,t,n,i){tA(e.x,t.x,n.x,i?i.originX:void 0),tA(e.y,t.y,n.y,i?i.originY:void 0)}function eA(e,t,n){e.min=n.min+t.min,e.max=e.min+Un(t)}function W3(e,t,n){eA(e.x,t.x,n.x),eA(e.y,t.y,n.y)}function nA(e,t,n){e.min=t.min-n.min,e.max=e.min+Un(t)}function yh(e,t,n){nA(e.x,t.x,n.x),nA(e.y,t.y,n.y)}const iA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jl=()=>({x:iA(),y:iA()}),sA=()=>({min:0,max:0}),ke=()=>({x:sA(),y:sA()});function Si(e){return[e("x"),e("y")]}function $_(e){return e===void 0||e===1}function Zv({scale:e,scaleX:t,scaleY:n}){return!$_(e)||!$_(t)||!$_(n)}function ga(e){return Zv(e)||FI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function FI(e){return rA(e.x)||rA(e.y)}function rA(e){return e&&e!=="0%"}function om(e,t,n){const i=e-n,s=t*i;return n+s}function oA(e,t,n,i,s){return s!==void 0&&(e=om(e,s,i)),om(e,n,i)+t}function Qv(e,t=0,n=1,i,s){e.min=oA(e.min,t,n,i,s),e.max=oA(e.max,t,n,i,s)}function HI(e,{x:t,y:n}){Qv(e.x,t.translate,t.scale,t.originPoint),Qv(e.y,n.translate,n.scale,n.originPoint)}const aA=.999999999999,lA=1.0000000000001;function K3(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ec(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,HI(e,l)),i&&ga(o.latestValues)&&ec(e,o.latestValues))}t.x<lA&&t.x>aA&&(t.x=1),t.y<lA&&t.y>aA&&(t.y=1)}function tc(e,t){e.min=e.min+t,e.max=e.max+t}function cA(e,t,n,i,s=.5){const o=Se(e.min,e.max,s);Qv(e,t,n,o,i)}function ec(e,t){cA(e.x,t.x,t.scaleX,t.scale,t.originX),cA(e.y,t.y,t.scaleY,t.scale,t.originY)}function qI(e,t){return UI(B3(e.getBoundingClientRect(),t))}function Z3(e,t,n){const i=qI(e,n),{scroll:s}=t;return s&&(tc(i.x,s.offset.x),tc(i.y,s.offset.y)),i}const $I=({current:e})=>e?e.ownerDocument.defaultView:null,uA=(e,t)=>Math.abs(e-t);function Q3(e,t){const n=uA(e.x,t.x),i=uA(e.y,t.y);return Math.sqrt(n**2+i**2)}class GI{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=W_(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,b=Q3(y.offset,{x:0,y:0})>=3;if(!_&&!b)return;const{point:S}=y,{timestamp:C}=gn;this.history.push({...S,timestamp:C});const{onStart:E,onMove:I}=this.handlers;_||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=G_(_,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=W_(y.type==="pointercancel"?this.lastMoveEventInfo:G_(_,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,E),S&&S(y,E)},!wb(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=ff(t),u=G_(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=gn;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(t,W_(u,this.history)),this.removeListeners=cf(mh(this.contextWindow,"pointermove",this.handlePointerMove),mh(this.contextWindow,"pointerup",this.handlePointerUp),mh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),mo(this.updatePoint)}}function G_(e,t){return t?{point:t(e.point)}:e}function hA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function W_({point:e},t){return{point:e,delta:hA(e,WI(t)),offset:hA(e,Y3(t)),velocity:X3(t,.1)}}function Y3(e){return e[0]}function WI(e){return e[e.length-1]}function X3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=WI(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>_s(t)));)n--;if(!i)return{x:0,y:0};const o=vs(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function J3(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Se(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Se(n,e,i.max):Math.min(e,n)),e}function fA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function t6(e,{top:t,left:n,bottom:i,right:s}){return{x:fA(e.x,n,s),y:fA(e.y,t,i)}}function dA(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function e6(e,t){return{x:dA(e.x,t.x),y:dA(e.y,t.y)}}function n6(e,t){let n=.5;const i=Un(e),s=Un(t);return s>i?n=Ph(t.min,t.max-i,e.min):i>s&&(n=Ph(e.min,e.max-s,t.min)),pr(0,1,n)}function i6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Yv=.35;function s6(e=Yv){return e===!1?e=0:e===!0&&(e=Yv),{x:pA(e,"left","right"),y:pA(e,"top","bottom")}}function pA(e,t,n){return{min:mA(e,t),max:mA(e,n)}}function mA(e,t){return typeof e=="number"?e:e[t]||0}const r6=new WeakMap;class o6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ff(p).point)},o=(p,y)=>{const{drag:_,dragPropagation:b,onDragStart:S}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v5(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(E=>{let I=this.getAxisMotionValue(E).get()||0;if(bs.test(I)){const{projection:j}=this.visualElement;if(j&&j.layout){const k=j.layout.layoutBox[E];k&&(I=Un(k)*(parseFloat(I)/100))}}this.originPoint[E]=I}),S&&we.postRender(()=>S(p,y)),Wv(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(p,y)=>{const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:S,onDrag:C}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:E}=y;if(b&&this.currentDirection===null){this.currentDirection=a6(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,E),this.updateAxis("y",y.point,E),this.visualElement.render(),C&&C(p,y)},u=(p,y)=>this.stop(p,y),h=()=>Si(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new GI(t,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:$I(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&we.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!ip(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=J3(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;t&&Xl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=t6(i.layoutBox,t):this.constraints=!1,this.elastic=s6(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=i6(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xl(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Z3(i,s.root,this.visualElement.getTransformPagePoint());let l=e6(s.layout.layoutBox,o);if(n){const u=n(j3(l));this.hasMutatedConstraints=!!u,u&&(l=UI(u))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=Si(p=>{if(!ip(p,n,this.currentDirection))return;let y=h&&h[p]||{};l&&(y={min:0,max:0});const _=s?200:1e6,b=s?40:1e7,S={type:"inertia",velocity:i?t[p]:0,bounceStiffness:_,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(p,S)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Wv(this.visualElement,t),i.start(Pb(t,i,0,n,this.visualElement,!1))}stopAnimation(){Si(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Si(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Si(n=>{const{drag:i}=this.getProps();if(!ip(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(t[n]-Se(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Xl(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Si(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=n6({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Si(l=>{if(!ip(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(Se(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;r6.set(this.visualElement,this);const t=this.visualElement.current,n=mh(t,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Xl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),we.read(i);const l=Uh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Si(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Yv,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function ip(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function a6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class l6 extends Ro{constructor(t){super(t),this.removeGroupControls=Ci,this.removeListeners=Ci,this.controls=new o6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const gA=e=>(t,n)=>{e&&we.postRender(()=>e(t,n))};class c6 extends Ro{constructor(){super(...arguments),this.removePointerDownListener=Ci}onPointerDown(t){this.session=new GI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$I(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:gA(t),onStart:gA(n),onMove:i,onEnd:(o,l)=>{delete this.session,s&&we.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=mh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Up={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Dt.test(e))e=parseFloat(e);else return e;const n=yA(e,t.target.x),i=yA(e,t.target.y);return`${n}% ${i}%`}},u6={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=go.parse(e);if(s.length>5)return i;const o=go.createTransformer(e),l=typeof s[0]!="number"?1:0,u=n.x.scale*t.x,h=n.y.scale*t.y;s[0+l]/=u,s[1+l]/=h;const f=Se(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};class h6 extends J.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;Z5(f6),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Up.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||we.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Sb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KI(e){const[t,n]=TI(),i=J.useContext(J0);return Q.jsx(h6,{...e,layoutGroup:i,switchLayoutGroup:J.useContext(xI),isPresent:t,safeToRemove:n})}const f6={borderRadius:{...Wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wu,borderTopRightRadius:Wu,borderBottomLeftRadius:Wu,borderBottomRightRadius:Wu,boxShadow:u6};function d6(e,t,n){const i=In(e)?e:dc(e);return i.start(Pb("",i,t,n)),i.animation}const p6=(e,t)=>e.depth-t.depth;class m6{constructor(){this.children=[],this.isDirty=!1}add(t){nb(this.children,t),this.isDirty=!0}remove(t){ib(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(p6),this.isDirty=!1,this.children.forEach(t)}}function g6(e,t){const n=Kn.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(mo(i),e(o-t))};return we.setup(i,!0),()=>mo(i)}const ZI=["TopLeft","TopRight","BottomLeft","BottomRight"],y6=ZI.length,_A=e=>typeof e=="string"?parseFloat(e):e,vA=e=>typeof e=="number"||Dt.test(e);function _6(e,t,n,i,s,o){s?(e.opacity=Se(0,n.opacity??1,v6(i)),e.opacityExit=Se(t.opacity??1,0,b6(i))):o&&(e.opacity=Se(t.opacity??1,n.opacity??1,i));for(let l=0;l<y6;l++){const u=`border${ZI[l]}Radius`;let h=bA(t,u),f=bA(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||vA(h)===vA(f)?(e[u]=Math.max(Se(_A(h),_A(f),i),0),(bs.test(f)||bs.test(h))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=Se(t.rotate||0,n.rotate||0,i))}function bA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const v6=QI(0,.5,FR),b6=QI(.5,.95,Ci);function QI(e,t,n){return i=>i<e?0:i>t?1:n(Ph(e,t,i))}function TA(e,t){e.min=t.min,e.max=t.max}function bi(e,t){TA(e.x,t.x),TA(e.y,t.y)}function SA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function wA(e,t,n,i,s){return e-=t,e=om(e,1/n,i),s!==void 0&&(e=om(e,1/s,i)),e}function T6(e,t=0,n=1,i=.5,s,o=e,l=e){if(bs.test(t)&&(t=parseFloat(t),t=Se(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=Se(o.min,o.max,i);e===o&&(u-=t),e.min=wA(e.min,t,n,u,s),e.max=wA(e.max,t,n,u,s)}function EA(e,t,[n,i,s],o,l){T6(e,t[n],t[i],t[s],t.scale,o,l)}const S6=["x","scaleX","originX"],w6=["y","scaleY","originY"];function AA(e,t,n,i){EA(e.x,t,S6,n?n.x:void 0,i?i.x:void 0),EA(e.y,t,w6,n?n.y:void 0,i?i.y:void 0)}function xA(e){return e.translate===0&&e.scale===1}function YI(e){return xA(e.x)&&xA(e.y)}function CA(e,t){return e.min===t.min&&e.max===t.max}function E6(e,t){return CA(e.x,t.x)&&CA(e.y,t.y)}function RA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function XI(e,t){return RA(e.x,t.x)&&RA(e.y,t.y)}function IA(e){return Un(e.x)/Un(e.y)}function DA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class A6{constructor(){this.members=[]}add(t){nb(this.members,t),t.scheduleRender()}remove(t){if(ib(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x6(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:y,rotateY:_,skewX:b,skewY:S}=n;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),b&&(i+=`skewX(${b}deg) `),S&&(i+=`skewY(${S}deg) `)}const u=e.x.scale*t.x,h=e.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const K_=["","X","Y","Z"],C6={visibility:"hidden"},R6=1e3;let I6=0;function Z_(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function JI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=NI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",we,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&JI(i)}function tD({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=t==null?void 0:t()){this.id=I6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(O6),this.nodes.forEach(L6),this.nodes.forEach(z6),this.nodes.forEach(P6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new m6)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ob),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=bI(l)&&!A5(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),e){let p;const y=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=g6(y,250),Up.hasAnimatedSinceResize&&(Up.hasAnimatedSinceResize=!1,this.nodes.forEach(OA))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||H6,{onLayoutAnimationStart:C,onLayoutAnimationComplete:E}=f.getProps(),I=!this.targetLayout||!XI(this.targetLayout,b),j=!y&&_;if(this.options.layoutRoot||this.resumeFrom||j||y&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...bb(S,"layout"),onPlay:C,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(p,j)}else y||OA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MA);return}this.isUpdating||this.nodes.forEach(N6),this.isUpdating=!1,this.nodes.forEach(V6),this.nodes.forEach(D6),this.nodes.forEach(M6),this.clearAllSnapshots();const u=Kn.now();gn.delta=pr(0,1e3/60,u-gn.timestamp),gn.timestamp=u,gn.isProcessing=!0,j_.update.process(gn),j_.preRender.process(gn),j_.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k6),this.sharedNodes.forEach(j6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!YI(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||ga(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),q6(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return ke();const u=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some($6))){const{scroll:p}=this.root;p&&(tc(u.x,p.offset.x),tc(u.y,p.offset.y))}return u}removeElementScroll(l){var h;const u=ke();if(bi(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&bi(u,l),tc(u.x,y.offset.x),tc(u.y,y.offset.y))}return u}applyTransform(l,u=!1){const h=ke();bi(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ec(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ga(p.latestValues)&&ec(h,p.latestValues)}return ga(this.latestValues)&&ec(h,this.latestValues),h}removeTransform(l){const u=ke();bi(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!ga(f.latestValues))continue;Zv(f.latestValues)&&f.updateSnapshot();const p=ke(),y=f.measurePageBox();bi(p,y),AA(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return ga(this.latestValues)&&AA(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var _;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=gn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),yh(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),HI(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),yh(this.relativeTargetOrigin,this.target,b.target),bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zv(this.parent.latestValues)||FI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;bi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;K3(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ke());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SA(this.prevProjectionDelta.x,this.projectionDelta.x),SA(this.prevProjectionDelta.y,this.projectionDelta.y)),gh(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!DA(this.projectionDelta.x,this.prevProjectionDelta.x)||!DA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jl(),this.projectionDelta=Jl(),this.projectionDeltaWithTransform=Jl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},y=Jl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=ke(),b=h?h.source:void 0,S=this.layout?this.layout.source:void 0,C=b!==S,E=this.getStack(),I=!E||E.members.length<=1,j=!!(C&&!I&&this.options.crossfade===!0&&!this.path.some(F6));this.animationProgress=0;let k;this.mixTargetDelta=N=>{const V=N/1e3;PA(y.x,l.x,V),PA(y.y,l.y,V),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yh(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B6(this.relativeTarget,this.relativeTargetOrigin,_,V),k&&E6(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=ke()),bi(k,this.relativeTarget)),C&&(this.animationValues=p,_6(p,f,this.latestValues,V,j,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{Up.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dc(0)),this.currentAnimation=d6(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(R6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:p}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&eD(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||ke();const y=Un(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=Un(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}bi(u,h),ec(u,p),gh(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new A6),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&Z_("z",l,f,this.animationValues);for(let p=0;p<K_.length;p++)Z_(`rotate${K_[p]}`,l,f,this.animationValues),Z_(`skew${K_[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return C6;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=zp(l==null?void 0:l.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=zp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ga(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=x6(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:y,y:_}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,f.animationValues?u.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Lh){if(p[b]===void 0)continue;const{correct:S,applyTo:C,isCSSVariable:E}=Lh[b],I=u.transform==="none"?p[b]:S(p[b],f);if(C){const j=C.length;for(let k=0;k<j;k++)u[C[k]]=I}else E?this.options.visualElement.renderState.vars[b]=I:u[b]=I}return this.options.layoutId&&(u.pointerEvents=f===this?zp(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(MA),this.root.sharedNodes.clear()}}}function D6(e){e.updateLayout()}function M6(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:o}=e.options,l=t.source!==e.layout.source;o==="size"?Si(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=Un(_);_.min=i[y].min,_.max=_.min+b}):eD(o,t.layoutBox,i)&&Si(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],b=Un(i[y]);_.max=_.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const u=Jl();gh(u,i,t.layoutBox);const h=Jl();l?gh(h,e.applyTransform(s,!0),t.measuredBox):gh(h,i,t.layoutBox);const f=!YI(u);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const S=ke();yh(S,t.layoutBox,_.layoutBox);const C=ke();yh(C,i,b.layoutBox),XI(S,C)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function O6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function P6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function k6(e){e.clearSnapshot()}function MA(e){e.clearMeasurements()}function N6(e){e.isLayoutDirty=!1}function V6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function OA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function L6(e){e.resolveTargetDelta()}function z6(e){e.calcProjection()}function U6(e){e.resetSkewAndRotation()}function j6(e){e.removeLeadSnapshot()}function PA(e,t,n){e.translate=Se(t.translate,0,n),e.scale=Se(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kA(e,t,n,i){e.min=Se(t.min,n.min,i),e.max=Se(t.max,n.max,i)}function B6(e,t,n,i){kA(e.x,t.x,n.x,i),kA(e.y,t.y,n.y,i)}function F6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const H6={duration:.45,ease:[.4,0,.1,1]},NA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),VA=NA("applewebkit/")&&!NA("chrome/")?Math.round:Ci;function LA(e){e.min=VA(e.min),e.max=VA(e.max)}function q6(e){LA(e.x),LA(e.y)}function eD(e,t,n){return e==="position"||e==="preserve-aspect"&&!G3(IA(t),IA(n),.2)}function $6(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const G6=tD({attachResizeListener:(e,t)=>Uh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Q_={current:void 0},nD=tD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Q_.current){const e=new G6({});e.mount(window),e.setOptions({layoutScroll:!0}),Q_.current=e}return Q_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),W6={pan:{Feature:c6},drag:{Feature:l6,ProjectionNode:nD,MeasureLayout:KI}};function zA(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&we.postRender(()=>o(t,ff(t)))}class K6 extends Ro{mount(){const{current:t}=this.node;t&&(this.unmount=b5(t,(n,i)=>(zA(this.node,i,"Start"),s=>zA(this.node,s,"End"))))}unmount(){}}class Z6 extends Ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cf(Uh(this.node.current,"focus",()=>this.onFocus()),Uh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UA(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&we.postRender(()=>o(t,ff(t)))}class Q6 extends Ro{mount(){const{current:t}=this.node;t&&(this.unmount=E5(t,(n,i)=>(UA(this.node,i,"Start"),(s,{success:o})=>UA(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xv=new WeakMap,Y_=new WeakMap,Y6=e=>{const t=Xv.get(e.target);t&&t(e)},X6=e=>{e.forEach(Y6)};function J6({root:e,...t}){const n=e||document;Y_.has(n)||Y_.set(n,{});const i=Y_.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(X6,{root:e,...t})),i[s]}function t9(e,t,n){const i=J6(t);return Xv.set(e,n),i.observe(e),()=>{Xv.delete(e),i.unobserve(e)}}const e9={some:0,all:1};class n9 extends Ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:e9[s]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),_=f?p:y;_&&_(h)};return t9(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(i9(t,n))&&this.startObserver()}unmount(){}}function i9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const s9={inView:{Feature:n9},tap:{Feature:Q6},focus:{Feature:Z6},hover:{Feature:K6}},r9={layout:{ProjectionNode:nD,MeasureLayout:KI}},Jv={current:null},iD={current:!1};function o9(){if(iD.current=!0,!!eb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jv.current=e.matches;e.addListener(t),t()}else Jv.current=!1}const a9=new WeakMap;function l9(e,t,n){for(const i in t){const s=t[i],o=n[i];if(In(s))e.addValue(i,s);else if(In(o))e.addValue(i,dc(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,dc(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const jA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class c9{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_b,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Kn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,we.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Ym(n),this.isVariantNode=EI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const b=y[_];h[_]!==void 0&&In(b)&&b.set(h[_],!1)}}mount(t){this.current=t,a9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),iD.current||o9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),mo(this.notifyUpdate),mo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Rc.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&we.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pc){const n=pc[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<jA.length;i++){const s=jA[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=t[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=l9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=dc(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(OR(i)||kR(i))?i=parseFloat(i):!C5(i)&&go.test(n)&&(i=mI(t,n)),this.setBaseTarget(t,In(i)?i.get():i)),In(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Mb(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!In(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ob),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class sD extends c9{constructor(){super(...arguments),this.KeyframeResolver=m5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;In(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rD(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const o in n)e.style.setProperty(o,n[o])}function u9(e){return window.getComputedStyle(e)}class h9 extends sD{constructor(){super(...arguments),this.type="html",this.renderInstance=rD}readValueFromInstance(t,n){var i;if(Rc.has(n))return(i=this.projection)!=null&&i.isProjecting?jv(n):kV(t,n);{const s=u9(t),o=(cb(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return qI(t,n)}build(t,n,i){Rb(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Ob(t,n,i)}}const oD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function f9(e,t,n,i){rD(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(oD.has(s)?s:Cb(s),t.attrs[s])}class d9 extends sD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Rc.has(n)){const i=pI(n);return i&&i.default||0}return n=oD.has(n)?n:Cb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return kI(t,n,i)}build(t,n,i){DI(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){f9(t,n,i,s)}mount(t){this.isSVGTag=OI(t.tagName),super.mount(t)}}const p9=(e,t)=>Db(e)?new d9(t):new h9(t,{allowProjection:e!==J.Fragment}),m9=f3({...z3,...s9,...W6,...r9},p9),nc=L5(m9),g9="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.838%201.86523L1.76367%2013.9395'%20stroke='white'%20stroke-opacity='0.65'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2%202L14.0743%2014.0743'%20stroke='white'%20stroke-opacity='0.65'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function mn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var y9=typeof Symbol=="function"&&Symbol.observable||"@@observable",BA=y9,X_=()=>Math.random().toString(36).substring(7).split("").join("."),_9={INIT:`@@redux/INIT${X_()}`,REPLACE:`@@redux/REPLACE${X_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${X_()}`},am=_9;function yo(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function aD(e,t,n){if(typeof e!="function")throw new Error(mn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mn(1));return n(aD)(e,t)}let i=e,s=t,o=new Map,l=o,u=0,h=!1;function f(){l===o&&(l=new Map,o.forEach((E,I)=>{l.set(I,E)}))}function p(){if(h)throw new Error(mn(3));return s}function y(E){if(typeof E!="function")throw new Error(mn(4));if(h)throw new Error(mn(5));let I=!0;f();const j=u++;return l.set(j,E),function(){if(I){if(h)throw new Error(mn(6));I=!1,f(),l.delete(j),o=null}}}function _(E){if(!yo(E))throw new Error(mn(7));if(typeof E.type>"u")throw new Error(mn(8));if(typeof E.type!="string")throw new Error(mn(17));if(h)throw new Error(mn(9));try{h=!0,s=i(s,E)}finally{h=!1}return(o=l).forEach(j=>{j()}),E}function b(E){if(typeof E!="function")throw new Error(mn(10));i=E,_({type:am.REPLACE})}function S(){const E=y;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(mn(11));function j(){const N=I;N.next&&N.next(p())}return j(),{unsubscribe:E(j)}},[BA](){return this}}}return _({type:am.INIT}),{dispatch:_,subscribe:y,getState:p,replaceReducer:b,[BA]:S}}function v9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:am.INIT})>"u")throw new Error(mn(12));if(typeof n(void 0,{type:am.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mn(13))})}function lD(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const i=Object.keys(n);let s;try{v9(n)}catch(o){s=o}return function(l={},u){if(s)throw s;let h=!1;const f={};for(let p=0;p<i.length;p++){const y=i[p],_=n[y],b=l[y],S=_(b,u);if(typeof S>"u")throw u&&u.type,new Error(mn(14));f[y]=S,h=h||S!==b}return h=h||i.length!==Object.keys(l).length,h?f:l}}function lm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function b9(...e){return t=>(n,i)=>{const s=t(n,i);let o=()=>{throw new Error(mn(15))};const l={getState:s.getState,dispatch:(h,...f)=>o(h,...f)},u=e.map(h=>h(l));return o=lm(...u)(s.dispatch),{...s,dispatch:o}}}function cD(e){return yo(e)&&"type"in e&&typeof e.type=="string"}var kb=Symbol.for("immer-nothing"),_h=Symbol.for("immer-draftable"),Zn=Symbol.for("immer-state");function _n(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pa=Object.getPrototypeOf;function Cs(e){return!!e&&!!e[Zn]}function Wi(e){var t;return e?uD(e)||Array.isArray(e)||!!e[_h]||!!((t=e.constructor)!=null&&t[_h])||df(e)||pf(e):!1}var T9=Object.prototype.constructor.toString();function uD(e){if(!e||typeof e!="object")return!1;const t=Pa(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===T9}function S9(e){return Cs(e)||_n(15,e),e[Zn].base_}function jh(e,t){ka(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function ka(e){const t=e[Zn];return t?t.type_:Array.isArray(e)?1:df(e)?2:pf(e)?3:0}function Bh(e,t){return ka(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function J_(e,t){return ka(e)===2?e.get(t):e[t]}function hD(e,t,n){const i=ka(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function w9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function df(e){return e instanceof Map}function pf(e){return e instanceof Set}function ya(e){return e.copy_||e.base_}function t0(e,t){if(df(e))return new Map(e);if(pf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=uD(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[Zn];let s=Reflect.ownKeys(i);for(let o=0;o<s.length;o++){const l=s[o],u=i[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(i[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Pa(e),i)}else{const i=Pa(e);if(i!==null&&n)return{...e};const s=Object.create(i);return Object.assign(s,e)}}function Nb(e,t=!1){return Xm(e)||Cs(e)||!Wi(e)||(ka(e)>1&&(e.set=e.add=e.clear=e.delete=E9),Object.freeze(e),t&&Object.entries(e).forEach(([n,i])=>Nb(i,!0))),e}function E9(){_n(2)}function Xm(e){return Object.isFrozen(e)}var e0={};function Na(e){const t=e0[e];return t||_n(0,e),t}function A9(e,t){e0[e]||(e0[e]=t)}var Fh;function fD(){return Fh}function x9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FA(e,t){t&&(Na("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function n0(e){i0(e),e.drafts_.forEach(C9),e.drafts_=null}function i0(e){e===Fh&&(Fh=e.parent_)}function HA(e){return Fh=x9(Fh,e)}function C9(e){const t=e[Zn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Zn].modified_&&(n0(t),_n(4)),Wi(e)&&(e=cm(t,e),t.parent_||um(t,e)),t.patches_&&Na("Patches").generateReplacementPatches_(n[Zn].base_,e,t.patches_,t.inversePatches_)):e=cm(t,n,[]),n0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kb?e:void 0}function cm(e,t,n){if(Xm(t))return t;const i=t[Zn];if(!i)return jh(t,(s,o)=>$A(e,i,t,s,o,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return um(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,l=!1;i.type_===3&&(o=new Set(s),s.clear(),l=!0),jh(o,(u,h)=>$A(e,i,s,u,h,n,l)),um(e,s,!1),n&&e.patches_&&Na("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function $A(e,t,n,i,s,o,l){if(Cs(s)){const u=o&&t&&t.type_!==3&&!Bh(t.assigned_,i)?o.concat(i):void 0,h=cm(e,s,u);if(hD(n,i,h),Cs(h))e.canAutoFreeze_=!1;else return}else l&&n.add(s);if(Wi(s)&&!Xm(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;cm(e,s),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&um(e,s)}}function um(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Nb(t,n)}function R9(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:fD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,o=Vb;n&&(s=[i],o=Hh);const{revoke:l,proxy:u}=Proxy.revocable(s,o);return i.draft_=u,i.revoke_=l,u}var Vb={get(e,t){if(t===Zn)return e;const n=ya(e);if(!Bh(n,t))return I9(e,n,t);const i=n[t];return e.finalized_||!Wi(i)?i:i===tv(e.base_,t)?(ev(e),e.copy_[t]=r0(i,e)):i},has(e,t){return t in ya(e)},ownKeys(e){return Reflect.ownKeys(ya(e))},set(e,t,n){const i=dD(ya(e),t);if(i!=null&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const s=tv(ya(e),t),o=s==null?void 0:s[Zn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(w9(n,s)&&(n!==void 0||Bh(e.base_,t)))return!0;ev(e),s0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return tv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ev(e),s0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ya(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){_n(11)},getPrototypeOf(e){return Pa(e.base_)},setPrototypeOf(){_n(12)}},Hh={};jh(Vb,(e,t)=>{Hh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hh.deleteProperty=function(e,t){return Hh.set.call(this,e,t,void 0)};Hh.set=function(e,t,n){return Vb.set.call(this,e[0],t,n,e[0])};function tv(e,t){const n=e[Zn];return(n?ya(n):e)[t]}function I9(e,t,n){var s;const i=dD(t,n);return i?"value"in i?i.value:(s=i.get)==null?void 0:s.call(e.draft_):void 0}function dD(e,t){if(!(t in e))return;let n=Pa(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Pa(n)}}function s0(e){e.modified_||(e.modified_=!0,e.parent_&&s0(e.parent_))}function ev(e){e.copy_||(e.copy_=t0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var D9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(h=o,...f){return l.produce(h,p=>n.call(this,p,...f))}}typeof n!="function"&&_n(6),i!==void 0&&typeof i!="function"&&_n(7);let s;if(Wi(t)){const o=HA(this),l=r0(t,void 0);let u=!0;try{s=n(l),u=!1}finally{u?n0(o):i0(o)}return FA(o,i),qA(s,o)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===kb&&(s=void 0),this.autoFreeze_&&Nb(s,!0),i){const o=[],l=[];Na("Patches").generateReplacementPatches_(t,s,o,l),i(o,l)}return s}else _n(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,h=>t(h,...u));let i,s;return[this.produce(t,n,(l,u)=>{i=l,s=u}),i,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wi(e)||_n(8),Cs(e)&&(e=M9(e));const t=HA(this),n=r0(e,void 0);return n[Zn].isManual_=!0,i0(t),n}finishDraft(e,t){const n=e&&e[Zn];(!n||!n.isManual_)&&_n(9);const{scope_:i}=n;return FA(i,t),qA(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const i=Na("Patches").applyPatches_;return Cs(e)?i(e,t):this.produce(e,s=>i(s,t))}};function r0(e,t){const n=df(e)?Na("MapSet").proxyMap_(e,t):pf(e)?Na("MapSet").proxySet_(e,t):R9(e,t);return(t?t.scope_:fD()).drafts_.push(n),n}function M9(e){return Cs(e)||_n(10,e),pD(e)}function pD(e){if(!Wi(e)||Xm(e))return e;const t=e[Zn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=t0(e,t.scope_.immer_.useStrictShallowCopy_)}else n=t0(e,!0);return jh(n,(i,s)=>{hD(n,i,pD(s))}),t&&(t.finalized_=!1),n}function O9(){const t="replace",n="add",i="remove";function s(_,b,S,C){switch(_.type_){case 0:case 2:return l(_,b,S,C);case 1:return o(_,b,S,C);case 3:return u(_,b,S,C)}}function o(_,b,S,C){let{base_:E,assigned_:I}=_,j=_.copy_;j.length<E.length&&([E,j]=[j,E],[S,C]=[C,S]);for(let k=0;k<E.length;k++)if(I[k]&&j[k]!==E[k]){const N=b.concat([k]);S.push({op:t,path:N,value:y(j[k])}),C.push({op:t,path:N,value:y(E[k])})}for(let k=E.length;k<j.length;k++){const N=b.concat([k]);S.push({op:n,path:N,value:y(j[k])})}for(let k=j.length-1;E.length<=k;--k){const N=b.concat([k]);C.push({op:i,path:N})}}function l(_,b,S,C){const{base_:E,copy_:I}=_;jh(_.assigned_,(j,k)=>{const N=J_(E,j),V=J_(I,j),B=k?Bh(E,j)?t:n:i;if(N===V&&B===t)return;const D=b.concat(j);S.push(B===i?{op:B,path:D}:{op:B,path:D,value:V}),C.push(B===n?{op:i,path:D}:B===i?{op:n,path:D,value:y(N)}:{op:t,path:D,value:y(N)})})}function u(_,b,S,C){let{base_:E,copy_:I}=_,j=0;E.forEach(k=>{if(!I.has(k)){const N=b.concat([j]);S.push({op:i,path:N,value:k}),C.unshift({op:n,path:N,value:k})}j++}),j=0,I.forEach(k=>{if(!E.has(k)){const N=b.concat([j]);S.push({op:n,path:N,value:k}),C.unshift({op:i,path:N,value:k})}j++})}function h(_,b,S,C){S.push({op:t,path:[],value:b===kb?void 0:b}),C.push({op:t,path:[],value:_})}function f(_,b){return b.forEach(S=>{const{path:C,op:E}=S;let I=_;for(let V=0;V<C.length-1;V++){const B=ka(I);let D=C[V];typeof D!="string"&&typeof D!="number"&&(D=""+D),(B===0||B===1)&&(D==="__proto__"||D==="constructor")&&_n(19),typeof I=="function"&&D==="prototype"&&_n(19),I=J_(I,D),typeof I!="object"&&_n(18,C.join("/"))}const j=ka(I),k=p(S.value),N=C[C.length-1];switch(E){case t:switch(j){case 2:return I.set(N,k);case 3:_n(16);default:return I[N]=k}case n:switch(j){case 1:return N==="-"?I.push(k):I.splice(N,0,k);case 2:return I.set(N,k);case 3:return I.add(k);default:return I[N]=k}case i:switch(j){case 1:return I.splice(N,1);case 2:return I.delete(N);case 3:return I.delete(S.value);default:return delete I[N]}default:_n(17,E)}}),_}function p(_){if(!Wi(_))return _;if(Array.isArray(_))return _.map(p);if(df(_))return new Map(Array.from(_.entries()).map(([S,C])=>[S,p(C)]));if(pf(_))return new Set(Array.from(_).map(p));const b=Object.create(Pa(_));for(const S in _)b[S]=p(_[S]);return Bh(_,_h)&&(b[_h]=_[_h]),b}function y(_){return Cs(_)?p(_):_}A9("Patches",{applyPatches_:f,generatePatches_:s,generateReplacementPatches_:h})}var oi=new D9,mf=oi.produce,mD=oi.produceWithPatches.bind(oi);oi.setAutoFreeze.bind(oi);oi.setUseStrictShallowCopy.bind(oi);var GA=oi.applyPatches.bind(oi);oi.createDraft.bind(oi);oi.finishDraft.bind(oi);function P9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function k9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function N9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var WA=e=>Array.isArray(e)?e:[e];function V9(e){const t=Array.isArray(e[0])?e[0]:e;return N9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function L9(e,t){const n=[],{length:i}=e;for(let s=0;s<i;s++)n.push(e[s].apply(null,t));return n}var z9=class{constructor(e){this.value=e}deref(){return this.value}},U9=typeof WeakRef<"u"?WeakRef:z9,j9=0,KA=1;function sp(){return{s:j9,v:void 0,o:null,p:null}}function hm(e,t={}){let n=sp();const{resultEqualityCheck:i}=t;let s,o=0;function l(){var y;let u=n;const{length:h}=arguments;for(let _=0,b=h;_<b;_++){const S=arguments[_];if(typeof S=="function"||typeof S=="object"&&S!==null){let C=u.o;C===null&&(u.o=C=new WeakMap);const E=C.get(S);E===void 0?(u=sp(),C.set(S,u)):u=E}else{let C=u.p;C===null&&(u.p=C=new Map);const E=C.get(S);E===void 0?(u=sp(),C.set(S,u)):u=E}}const f=u;let p;if(u.s===KA)p=u.v;else if(p=e.apply(null,arguments),o++,i){const _=((y=s==null?void 0:s.deref)==null?void 0:y.call(s))??s;_!=null&&i(_,p)&&(p=_,o!==0&&o--),s=typeof p=="object"&&p!==null||typeof p=="function"?new U9(p):p}return f.s=KA,f.v=p,p}return l.clearCache=()=>{n=sp(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function B9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...s)=>{let o=0,l=0,u,h={},f=s.pop();typeof f=="object"&&(h=f,f=s.pop()),P9(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...h},{memoize:y,memoizeOptions:_=[],argsMemoize:b=hm,argsMemoizeOptions:S=[]}=p,C=WA(_),E=WA(S),I=V9(s),j=y(function(){return o++,f.apply(null,arguments)},...C),k=b(function(){l++;const V=L9(I,arguments);return u=j.apply(null,V),u},...E);return Object.assign(k,{resultFunc:f,memoizedResultFunc:j,dependencies:I,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:y,argsMemoize:b})};return Object.assign(i,{withTypes:()=>i}),i}var Lb=B9(hm),F9=Object.assign((e,t=Lb)=>{k9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(o=>e[o]);return t(i,(...o)=>o.reduce((l,u,h)=>(l[n[h]]=u,l),{}))},{withTypes:()=>F9});function gD(e){return({dispatch:n,getState:i})=>s=>o=>typeof o=="function"?o(n,i,e):s(o)}var H9=gD(),q9=gD,$9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lm:lm.apply(null,arguments)},G9=e=>e&&typeof e.match=="function";function qi(e,t){function n(...i){if(t){let s=t(...i);if(!s)throw new Error(Ri(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>cD(i)&&i.type===e,n}var yD=class ih extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ih.prototype)}static get[Symbol.species](){return ih}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ih(...t[0].concat(this)):new ih(...t.concat(this))}};function ZA(e){return Wi(e)?mf(e,()=>{}):e}function rp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function W9(e){return typeof e=="boolean"}var K9=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let l=new yD;return n&&(W9(n)?l.push(H9):l.push(q9(n.extraArgument))),l},Jm="RTK_autoBatch",Ku=()=>e=>({payload:e,meta:{[Jm]:!0}}),QA=e=>t=>{setTimeout(t,e)},Z9=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let s=!0,o=!1,l=!1;const u=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:QA(10):e.type==="callback"?e.queueNotification:QA(e.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},i,{subscribe(p){const y=()=>s&&p(),_=i.subscribe(y);return u.add(p),()=>{_(),u.delete(p)}},dispatch(p){var y;try{return s=!((y=p==null?void 0:p.meta)!=null&&y[Jm]),o=!s,o&&(l||(l=!0,h(f))),i.dispatch(p)}finally{s=!0}}})},Q9=e=>function(n){const{autoBatch:i=!0}=n??{};let s=new yD(e);return i&&s.push(Z9(typeof i=="object"?i:void 0)),s};function Y9(e){const t=K9(),{reducer:n=void 0,middleware:i,devTools:s=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(yo(n))u=lD(n);else throw new Error(Ri(1));let h;typeof i=="function"?h=i(t):h=t();let f=lm;s&&(f=$9({trace:!1,...typeof s=="object"&&s}));const p=b9(...h),y=Q9(p);let _=typeof l=="function"?l(y):y();const b=f(..._);return aD(u,o,b)}function _D(e){const t={},n=[];let i;const s={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Ri(28));if(u in t)throw new Error(Ri(29));return t[u]=l,s},addMatcher(o,l){return n.push({matcher:o,reducer:l}),s},addDefaultCase(o){return i=o,s}};return e(s),[t,n,i]}function X9(e){return typeof e=="function"}function J9(e,t){let[n,i,s]=_D(t),o;if(X9(e))o=()=>ZA(e());else{const u=ZA(e);o=()=>u}function l(u=o(),h){let f=[n[h.type],...i.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[s]),f.reduce((p,y)=>{if(y)if(Cs(p)){const b=y(p,h);return b===void 0?p:b}else{if(Wi(p))return mf(p,_=>y(_,h));{const _=y(p,h);if(_===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return p},u)}return l.getInitialState=o,l}var vD=(e,t)=>G9(e)?e.match(t):e(t);function gr(...e){return t=>e.some(n=>vD(n,t))}function vh(...e){return t=>e.every(n=>vD(n,t))}function tg(e,t){if(!e||!e.meta)return!1;const n=typeof e.meta.requestId=="string",i=t.indexOf(e.meta.requestStatus)>-1;return n&&i}function gf(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function zb(...e){return e.length===0?t=>tg(t,["pending"]):gf(e)?gr(...e.map(t=>t.pending)):zb()(e[0])}function mc(...e){return e.length===0?t=>tg(t,["rejected"]):gf(e)?gr(...e.map(t=>t.rejected)):mc()(e[0])}function eg(...e){const t=n=>n&&n.meta&&n.meta.rejectedWithValue;return e.length===0?vh(mc(...e),t):gf(e)?vh(mc(...e),t):eg()(e[0])}function _o(...e){return e.length===0?t=>tg(t,["fulfilled"]):gf(e)?gr(...e.map(t=>t.fulfilled)):_o()(e[0])}function o0(...e){return e.length===0?t=>tg(t,["pending","fulfilled","rejected"]):gf(e)?gr(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):o0()(e[0])}var tL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ub=(e=21)=>{let t="",n=e;for(;n--;)t+=tL[Math.random()*64|0];return t},eL=["name","message","stack","code"],nv=class{constructor(e,t){kt(this,"_type");this.payload=e,this.meta=t}},YA=class{constructor(e,t){kt(this,"_type");this.payload=e,this.meta=t}},nL=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of eL)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},XA="External signal was aborted",JA=(()=>{function e(t,n,i){const s=qi(t+"/fulfilled",(h,f,p,y)=>({payload:h,meta:{...y||{},arg:p,requestId:f,requestStatus:"fulfilled"}})),o=qi(t+"/pending",(h,f,p)=>({payload:void 0,meta:{...p||{},arg:f,requestId:h,requestStatus:"pending"}})),l=qi(t+"/rejected",(h,f,p,y,_)=>({payload:y,error:(i&&i.serializeError||nL)(h||"Rejected"),meta:{..._||{},arg:p,requestId:f,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"}}));function u(h,{signal:f}={}){return(p,y,_)=>{const b=i!=null&&i.idGenerator?i.idGenerator(h):Ub(),S=new AbortController;let C,E;function I(k){E=k,S.abort()}f&&(f.aborted?I(XA):f.addEventListener("abort",()=>I(XA),{once:!0}));const j=async function(){var V,B;let k;try{let D=(V=i==null?void 0:i.condition)==null?void 0:V.call(i,h,{getState:y,extra:_});if(sL(D)&&(D=await D),D===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((R,M)=>{C=()=>{M({name:"AbortError",message:E||"Aborted"})},S.signal.addEventListener("abort",C)});p(o(b,h,(B=i==null?void 0:i.getPendingMeta)==null?void 0:B.call(i,{requestId:b,arg:h},{getState:y,extra:_}))),k=await Promise.race([A,Promise.resolve(n(h,{dispatch:p,getState:y,extra:_,requestId:b,signal:S.signal,abort:I,rejectWithValue:(R,M)=>new nv(R,M),fulfillWithValue:(R,M)=>new YA(R,M)})).then(R=>{if(R instanceof nv)throw R;return R instanceof YA?s(R.payload,b,h,R.meta):s(R,b,h)})])}catch(D){k=D instanceof nv?l(null,b,h,D.payload,D.meta):l(D,b,h)}finally{C&&S.signal.removeEventListener("abort",C)}return i&&!i.dispatchConditionRejection&&l.match(k)&&k.meta.condition||p(k),k}();return Object.assign(j,{abort:I,requestId:b,arg:h,unwrap(){return j.then(iL)}})}}return Object.assign(u,{pending:o,rejected:l,fulfilled:s,settled:gr(l,s),typePrefix:t})}return e.withTypes=()=>e,e})();function iL(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function sL(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var rL=Symbol.for("rtk-slice-createasyncthunk");function oL(e,t){return`${e}/${t}`}function aL({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[rL];return function(s){const{name:o,reducerPath:l=o}=s;if(!o)throw new Error(Ri(11));const u=(typeof s.reducers=="function"?s.reducers(cL()):s.reducers)||{},h=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(N,V){const B=typeof N=="string"?N:N.type;if(!B)throw new Error(Ri(12));if(B in f.sliceCaseReducersByType)throw new Error(Ri(13));return f.sliceCaseReducersByType[B]=V,p},addMatcher(N,V){return f.sliceMatchers.push({matcher:N,reducer:V}),p},exposeAction(N,V){return f.actionCreators[N]=V,p},exposeCaseReducer(N,V){return f.sliceCaseReducersByName[N]=V,p}};h.forEach(N=>{const V=u[N],B={reducerName:N,type:oL(o,N),createNotation:typeof s.reducers=="function"};hL(V)?dL(B,V,p,t):uL(B,V,p)});function y(){const[N={},V=[],B=void 0]=typeof s.extraReducers=="function"?_D(s.extraReducers):[s.extraReducers],D={...N,...f.sliceCaseReducersByType};return J9(s.initialState,A=>{for(let R in D)A.addCase(R,D[R]);for(let R of f.sliceMatchers)A.addMatcher(R.matcher,R.reducer);for(let R of V)A.addMatcher(R.matcher,R.reducer);B&&A.addDefaultCase(B)})}const _=N=>N,b=new Map,S=new WeakMap;let C;function E(N,V){return C||(C=y()),C(N,V)}function I(){return C||(C=y()),C.getInitialState()}function j(N,V=!1){function B(A){let R=A[N];return typeof R>"u"&&V&&(R=rp(S,B,I)),R}function D(A=_){const R=rp(b,V,()=>new WeakMap);return rp(R,A,()=>{const M={};for(const[O,L]of Object.entries(s.selectors??{}))M[O]=lL(L,A,()=>rp(S,A,I),V);return M})}return{reducerPath:N,getSelectors:D,get selectors(){return D(B)},selectSlice:B}}const k={name:o,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:I,...j(l),injectInto(N,{reducerPath:V,...B}={}){const D=V??l;return N.inject({reducerPath:D,reducer:E},B),{...k,...j(D,!0)}}};return k}}function lL(e,t,n,i){function s(o,...l){let u=t(o);return typeof u>"u"&&i&&(u=n()),e(u,...l)}return s.unwrapped=e,s}var ys=aL();function cL(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function uL({type:e,reducerName:t,createNotation:n},i,s){let o,l;if("reducer"in i){if(n&&!fL(i))throw new Error(Ri(17));o=i.reducer,l=i.prepare}else o=i;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?qi(e,l):qi(e))}function hL(e){return e._reducerDefinitionType==="asyncThunk"}function fL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dL({type:e,reducerName:t},n,i,s){if(!s)throw new Error(Ri(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:h,settled:f,options:p}=n,y=s(e,o,p);i.exposeAction(t,y),l&&i.addCase(y.fulfilled,l),u&&i.addCase(y.pending,u),h&&i.addCase(y.rejected,h),f&&i.addMatcher(y.settled,f),i.exposeCaseReducer(t,{fulfilled:l||op,pending:u||op,rejected:h||op,settled:f||op})}function op(){}function Ri(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const pL={isOpen:!1,title:"",children:null},bD=ys({name:"popup",initialState:pL,reducers:{openPopup(e,t){e.isOpen=!0,e.title=t.payload.title,e.children=t.payload.children},closePopup(e){e.isOpen=!1,e.title="",e.children=null}}}),{openPopup:Va,closePopup:jb}=bD.actions,mL=bD.reducer,gL={scrollY:0,currentSectionId:null,isSnapping:!1,lastScrolledTime:null},TD=ys({name:"scroll",initialState:gL,reducers:{setScrollY:(e,t)=>{e.scrollY=t.payload},setCurrentSectionId:(e,t)=>{e.currentSectionId=t.payload},setIsSnapping:(e,t)=>{e.isSnapping=t.payload},setLastScrolledTime:(e,t)=>{e.lastScrolledTime=t.payload}}}),{setScrollY:yL,setCurrentSectionId:_L,setIsSnapping:tx,setLastScrolledTime:vL}=TD.actions,bL=TD.reducer,TL={theme:localStorage.getItem("theme-storage-coinradar")||"dark"},SD=ys({name:"theme",initialState:TL,reducers:{toggleTheme(e){e.theme=e.theme==="light"?"dark":"light",localStorage.setItem("theme-storage-coinradar",e.theme)},setTheme(e,t){e.theme=t.payload,localStorage.setItem("theme-storage-coinradar",e.theme)}}}),{toggleTheme:SL,setTheme:EX}=SD.actions,wL=SD.reducer,EL={allCoins:[],coinsPerPage:[],filteredCoins:[],page:1,perPage:10,isAPILoading:!0},wD=ys({name:"allCrypto",initialState:EL,reducers:{setPage(e,t){e.page=t.payload;const n=(e.page-1)*e.perPage;e.coinsPerPage=e.filteredCoins.slice(n,n+e.perPage)},setPerPage(e,t){e.perPage=t.payload;const n=(e.page-1)*e.perPage;e.coinsPerPage=e.filteredCoins.slice(n,n+e.perPage)},setIsAPILoading(e,t){e.isAPILoading=t.payload},filterCoins(e,t){const n=t.payload.toLowerCase().trim();e.filteredCoins=n?e.allCoins.filter(i=>i.name.toLowerCase().includes(n)||i.symbol.toLowerCase().includes(n)):e.allCoins,e.page=1,e.coinsPerPage=e.filteredCoins.slice(0,e.perPage)},sincronizeAllCoins(e,t){e.allCoins=t.payload,e.filteredCoins=t.payload,e.coinsPerPage=t.payload.slice(0,e.perPage)}}}),AL=wD.reducer,{setPage:ex,setPerPage:AX,filterCoins:xL,sincronizeAllCoins:CL,setIsAPILoading:nx}=wD.actions;var RL=class extends Error{constructor(t){super(t[0].message);kt(this,"issues");this.name="SchemaError",this.issues=t}},ED=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(ED||{});function ix(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var sx=yo;function AD(e,t){if(e===t||!(sx(e)&&sx(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),i=Object.keys(e);let s=n.length===i.length;const o=Array.isArray(t)?[]:{};for(const l of n)o[l]=AD(e[l],t[l]),s&&(s=e[l]===o[l]);return s?e:o}function rc(e){let t=0;for(const n in e)t++;return t}var rx=e=>[].concat(...e);function IL(e){return new RegExp("(^|:)//").test(e)}function DL(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function fm(e){return e!=null}function ML(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var OL=e=>e.replace(/\/$/,""),PL=e=>e.replace(/^\//,"");function kL(e,t){if(!e)return t;if(!t)return e;if(IL(t))return t;const n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=OL(e),t=PL(t),`${e}${n}${t}`}function NL(e,t,n){return e.has(t)?e.get(t):e.set(t,n).get(t)}var ox=(...e)=>fetch(...e),VL=e=>e.status>=200&&e.status<=299,LL=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function ax(e){if(!yo(e))return e;const t={...e};for(const[n,i]of Object.entries(t))i===void 0&&delete t[n];return t}function zL({baseUrl:e,prepareHeaders:t=y=>y,fetchFn:n=ox,paramsSerializer:i,isJsonContentType:s=LL,jsonContentType:o="application/json",jsonReplacer:l,timeout:u,responseHandler:h,validateStatus:f,...p}={}){return typeof fetch>"u"&&n===ox&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(_,b,S)=>{const{getState:C,extra:E,endpoint:I,forced:j,type:k}=b;let N,{url:V,headers:B=new Headers(p.headers),params:D=void 0,responseHandler:A=h??"json",validateStatus:R=f??VL,timeout:M=u,...O}=typeof _=="string"?{url:_}:_,L,P=b.signal;M&&(L=new AbortController,b.signal.addEventListener("abort",L.abort),P=L.signal);let Z={...p,signal:P,...O};B=new Headers(ax(B)),Z.headers=await t(B,{getState:C,arg:_,extra:E,endpoint:I,forced:j,type:k,extraOptions:S})||B;const rt=gt=>typeof gt=="object"&&(yo(gt)||Array.isArray(gt)||typeof gt.toJSON=="function");if(!Z.headers.has("content-type")&&rt(Z.body)&&Z.headers.set("content-type",o),rt(Z.body)&&s(Z.headers)&&(Z.body=JSON.stringify(Z.body,l)),D){const gt=~V.indexOf("?")?"&":"?",mt=i?i(D):new URLSearchParams(ax(D));V+=gt+mt}V=kL(e,V);const q=new Request(V,Z);N={request:new Request(V,Z)};let st,dt=!1,F=L&&setTimeout(()=>{dt=!0,L.abort()},M);try{st=await n(q)}catch(gt){return{error:{status:dt?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(gt)},meta:N}}finally{F&&clearTimeout(F),L==null||L.signal.removeEventListener("abort",L.abort)}const et=st.clone();N.response=et;let ct,at="";try{let gt;if(await Promise.all([y(st,A).then(mt=>ct=mt,mt=>gt=mt),et.text().then(mt=>at=mt,()=>{})]),gt)throw gt}catch(gt){return{error:{status:"PARSING_ERROR",originalStatus:st.status,data:at,error:String(gt)},meta:N}}return R(st,ct)?{data:ct,meta:N}:{error:{status:st.status,data:ct},meta:N}};async function y(_,b){if(typeof b=="function")return b(_);if(b==="content-type"&&(b=s(_.headers)?"json":"text"),b==="json"){const S=await _.text();return S.length?JSON.parse(S):null}return _.text()}}var lx=class{constructor(e,t=void 0){this.value=e,this.meta=t}},Bb=qi("__rtkq/focused"),xD=qi("__rtkq/unfocused"),Fb=qi("__rtkq/online"),CD=qi("__rtkq/offline");function ng(e){return e.type==="query"}function UL(e){return e.type==="mutation"}function ig(e){return e.type==="infinitequery"}function dm(e){return ng(e)||ig(e)}function Hb(e,t,n,i,s,o){return jL(e)?e(t,n,i,s).filter(fm).map(a0).map(o):Array.isArray(e)?e.map(a0).map(o):[]}function jL(e){return typeof e=="function"}function a0(e){return typeof e=="string"?{type:e}:e}function BL(e,t){return e.catch(t)}var qh=Symbol("forceQueryFn"),l0=e=>typeof e[qh]=="function";function FL({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:n,mutationThunk:i,api:s,context:o}){const l=new Map,u=new Map,{unsubscribeQueryResult:h,removeMutationResult:f,updateSubscriptionOptions:p}=s.internalActions;return{buildInitiateQuery:E,buildInitiateInfiniteQuery:I,buildInitiateMutation:j,getRunningQueryThunk:y,getRunningMutationThunk:_,getRunningQueriesThunk:b,getRunningMutationsThunk:S};function y(k,N){return V=>{var A;const B=o.endpointDefinitions[k],D=e({queryArgs:N,endpointDefinition:B,endpointName:k});return(A=l.get(V))==null?void 0:A[D]}}function _(k,N){return V=>{var B;return(B=u.get(V))==null?void 0:B[N]}}function b(){return k=>Object.values(l.get(k)||{}).filter(fm)}function S(){return k=>Object.values(u.get(k)||{}).filter(fm)}function C(k,N){const V=(B,{subscribe:D=!0,forceRefetch:A,subscriptionOptions:R,[qh]:M,...O}={})=>(L,P)=>{var _t;const Z=e({queryArgs:B,endpointDefinition:N,endpointName:k});let rt;const q={...O,type:"query",subscribe:D,forceRefetch:A,subscriptionOptions:R,endpointName:k,originalArgs:B,queryCacheKey:Z,[qh]:M};if(ng(N))rt=t(q);else{const{direction:xt,initialPageParam:Nt}=O;rt=n({...q,direction:xt,initialPageParam:Nt})}const W=s.endpoints[k].select(B),st=L(rt),dt=W(P()),{requestId:F,abort:et}=st,ct=dt.requestId!==F,at=(_t=l.get(L))==null?void 0:_t[Z],gt=()=>W(P()),mt=Object.assign(M?st.then(gt):ct&&!at?Promise.resolve(dt):Promise.all([at,st]).then(gt),{arg:B,requestId:F,subscriptionOptions:R,queryCacheKey:Z,abort:et,async unwrap(){const xt=await mt;if(xt.isError)throw xt.error;return xt.data},refetch:()=>L(V(B,{subscribe:!1,forceRefetch:!0})),unsubscribe(){D&&L(h({queryCacheKey:Z,requestId:F}))},updateSubscriptionOptions(xt){mt.subscriptionOptions=xt,L(p({endpointName:k,requestId:F,queryCacheKey:Z,options:xt}))}});if(!at&&!ct&&!M){const xt=NL(l,L,{});xt[Z]=mt,mt.then(()=>{delete xt[Z],rc(xt)||l.delete(L)})}return mt};return V}function E(k,N){return C(k,N)}function I(k,N){return C(k,N)}function j(k){return(N,{track:V=!0,fixedCacheKey:B}={})=>(D,A)=>{const R=i({type:"mutation",endpointName:k,originalArgs:N,track:V,fixedCacheKey:B}),M=D(R),{requestId:O,abort:L,unwrap:P}=M,Z=BL(M.unwrap().then(st=>({data:st})),st=>({error:st})),rt=()=>{D(f({requestId:O,fixedCacheKey:B}))},q=Object.assign(Z,{arg:M.arg,requestId:O,abort:L,unwrap:P,reset:rt}),W=u.get(D)||{};return u.set(D,W),W[O]=q,q.then(()=>{delete W[O],rc(W)||u.delete(D)}),B&&(W[B]=q,q.then(()=>{W[B]===q&&(delete W[B],rc(W)||u.delete(D))})),q}}}var RD=class extends RL{constructor(e,t,n,i){super(e),this.value=t,this.schemaName=n,this._bqMeta=i}};async function ha(e,t,n,i){const s=await e["~standard"].validate(t);if(s.issues)throw new RD(s.issues,t,n,i);return s.value}function HL(e){return e}var Zu=(e={})=>({...e,[Jm]:!0});function qL({reducerPath:e,baseQuery:t,context:{endpointDefinitions:n},serializeQueryArgs:i,api:s,assertTagType:o,selectors:l,onSchemaFailure:u,catchSchemaFailure:h,skipSchemaValidation:f}){const p=(O,L,P,Z)=>(rt,q)=>{const W=n[O],st=i({queryArgs:L,endpointDefinition:W,endpointName:O});if(rt(s.internalActions.queryResultPatched({queryCacheKey:st,patches:P})),!Z)return;const dt=s.endpoints[O].select(L)(q()),F=Hb(W.providesTags,dt.data,void 0,L,{},o);rt(s.internalActions.updateProvidedBy([{queryCacheKey:st,providedTags:F}]))};function y(O,L,P=0){const Z=[L,...O];return P&&Z.length>P?Z.slice(0,-1):Z}function _(O,L,P=0){const Z=[...O,L];return P&&Z.length>P?Z.slice(1):Z}const b=(O,L,P,Z=!0)=>(rt,q)=>{const st=s.endpoints[O].select(L)(q()),dt={patches:[],inversePatches:[],undo:()=>rt(s.util.patchQueryData(O,L,dt.inversePatches,Z))};if(st.status==="uninitialized")return dt;let F;if("data"in st)if(Wi(st.data)){const[et,ct,at]=mD(st.data,P);dt.patches.push(...ct),dt.inversePatches.push(...at),F=et}else F=P(st.data),dt.patches.push({op:"replace",path:[],value:F}),dt.inversePatches.push({op:"replace",path:[],value:st.data});return dt.patches.length===0||rt(s.util.patchQueryData(O,L,dt.patches,Z)),dt},S=(O,L,P)=>Z=>Z(s.endpoints[O].initiate(L,{subscribe:!1,forceRefetch:!0,[qh]:()=>({data:P})})),C=(O,L)=>O.query&&O[L]?O[L]:HL,E=async(O,{signal:L,abort:P,rejectWithValue:Z,fulfillWithValue:rt,dispatch:q,getState:W,extra:st})=>{var ct,at;const dt=n[O.endpointName],{metaSchema:F,skipSchemaValidation:et=f}=dt;try{let gt=C(dt,"transformResponse");const mt={signal:L,abort:P,dispatch:q,getState:W,extra:st,endpoint:O.endpointName,type:O.type,forced:O.type==="query"?I(O,W()):void 0,queryCacheKey:O.type==="query"?O.queryCacheKey:void 0},_t=O.type==="query"?O[qh]:void 0;let xt;const Nt=async(Yt,Ft,be,jn)=>{if(Ft==null&&Yt.pages.length)return Promise.resolve({data:Yt});const en={queryArg:O.originalArgs,pageParam:Ft},ai=await ze(en),Pn=jn?y:_;return{data:{pages:Pn(Yt.pages,ai.data,be),pageParams:Pn(Yt.pageParams,Ft,be)},meta:ai.meta}};async function ze(Yt){let Ft;const{extraOptions:be,argSchema:jn,rawResponseSchema:en,responseSchema:ai}=dt;if(jn&&!et&&(Yt=await ha(jn,Yt,"argSchema",{})),_t?Ft=_t():dt.query?Ft=await t(dt.query(Yt),mt,be):Ft=await dt.queryFn(Yt,mt,be,Os=>t(Os,mt,be)),typeof process<"u",Ft.error)throw new lx(Ft.error,Ft.meta);let{data:Pn}=Ft;en&&!et&&(Pn=await ha(en,Ft.data,"rawResponseSchema",Ft.meta));let De=await gt(Pn,Ft.meta,Yt);return ai&&!et&&(De=await ha(ai,De,"responseSchema",Ft.meta)),{...Ft,data:De}}if(O.type==="query"&&"infiniteQueryOptions"in dt){const{infiniteQueryOptions:Yt}=dt,{maxPages:Ft=1/0}=Yt;let be;const jn={pages:[],pageParams:[]},en=(ct=l.selectQueryEntry(W(),O.queryCacheKey))==null?void 0:ct.data,Pn=I(O,W())&&!O.direction||!en?jn:en;if("direction"in O&&O.direction&&Pn.pages.length){const De=O.direction==="backward",Ps=(De?ID:c0)(Yt,Pn,O.originalArgs);be=await Nt(Pn,Ps,Ft,De)}else{const{initialPageParam:De=Yt.initialPageParam}=O,Os=(en==null?void 0:en.pageParams)??[],Ps=Os[0]??De,Sr=Os.length;be=await Nt(Pn,Ps,Ft),_t&&(be={data:be.data.pages[0]});for(let Zi=1;Zi<Sr;Zi++){const zc=c0(Yt,be.data,O.originalArgs);be=await Nt(be.data,zc,Ft)}}xt=be}else xt=await ze(O.originalArgs);return F&&!et&&xt.meta&&(xt.meta=await ha(F,xt.meta,"metaSchema",xt.meta)),rt(xt.data,Zu({fulfilledTimeStamp:Date.now(),baseQueryMeta:xt.meta}))}catch(gt){let mt=gt;if(mt instanceof lx){let _t=C(dt,"transformErrorResponse");const{rawErrorResponseSchema:xt,errorResponseSchema:Nt}=dt;let{value:ze,meta:Yt}=mt;try{xt&&!et&&(ze=await ha(xt,ze,"rawErrorResponseSchema",Yt)),F&&!et&&(Yt=await ha(F,Yt,"metaSchema",Yt));let Ft=await _t(ze,Yt,O.originalArgs);return Nt&&!et&&(Ft=await ha(Nt,Ft,"errorResponseSchema",Yt)),Z(Ft,Zu({baseQueryMeta:Yt}))}catch(Ft){mt=Ft}}try{if(mt instanceof RD){const _t={endpoint:O.endpointName,arg:O.originalArgs,type:O.type,queryCacheKey:O.type==="query"?O.queryCacheKey:void 0};(at=dt.onSchemaFailure)==null||at.call(dt,mt,_t),u==null||u(mt,_t);const{catchSchemaFailure:xt=h}=dt;if(xt)return Z(xt(mt,_t),Zu({baseQueryMeta:mt._bqMeta}))}}catch(_t){mt=_t}throw console.error(mt),mt}};function I(O,L){const P=l.selectQueryEntry(L,O.queryCacheKey),Z=l.selectConfig(L).refetchOnMountOrArgChange,rt=P==null?void 0:P.fulfilledTimeStamp,q=O.forceRefetch??(O.subscribe&&Z);return q?q===!0||(Number(new Date)-Number(rt))/1e3>=q:!1}const j=()=>JA(`${e}/executeQuery`,E,{getPendingMeta({arg:L}){const P=n[L.endpointName];return Zu({startedTimeStamp:Date.now(),...ig(P)?{direction:L.direction}:{}})},condition(L,{getState:P}){var et;const Z=P(),rt=l.selectQueryEntry(Z,L.queryCacheKey),q=rt==null?void 0:rt.fulfilledTimeStamp,W=L.originalArgs,st=rt==null?void 0:rt.originalArgs,dt=n[L.endpointName],F=L.direction;return l0(L)?!0:(rt==null?void 0:rt.status)==="pending"?!1:I(L,Z)||ng(dt)&&((et=dt==null?void 0:dt.forceRefetch)!=null&&et.call(dt,{currentArg:W,previousArg:st,endpointState:rt,state:Z}))?!0:!(q&&!F)},dispatchConditionRejection:!0}),k=j(),N=j(),V=JA(`${e}/executeMutation`,E,{getPendingMeta(){return Zu({startedTimeStamp:Date.now()})}}),B=O=>"force"in O,D=O=>"ifOlderThan"in O,A=(O,L,P)=>(Z,rt)=>{const q=B(P)&&P.force,W=D(P)&&P.ifOlderThan,st=(F=!0)=>{const et={forceRefetch:F,isPrefetch:!0};return s.endpoints[O].initiate(L,et)},dt=s.endpoints[O].select(L)(rt());if(q)Z(st());else if(W){const F=dt==null?void 0:dt.fulfilledTimeStamp;if(!F){Z(st());return}(Number(new Date)-Number(new Date(F)))/1e3>=W&&Z(st())}else Z(st(!1))};function R(O){return L=>{var P,Z;return((Z=(P=L==null?void 0:L.meta)==null?void 0:P.arg)==null?void 0:Z.endpointName)===O}}function M(O,L){return{matchPending:vh(zb(O),R(L)),matchFulfilled:vh(_o(O),R(L)),matchRejected:vh(mc(O),R(L))}}return{queryThunk:k,mutationThunk:V,infiniteQueryThunk:N,prefetch:A,updateQueryData:b,upsertQueryData:S,patchQueryData:p,buildMatchThunkActions:M}}function c0(e,{pages:t,pageParams:n},i){const s=t.length-1;return e.getNextPageParam(t[s],t,n[s],n,i)}function ID(e,{pages:t,pageParams:n},i){var s;return(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n,i)}function DD(e,t,n,i){return Hb(n[e.meta.arg.endpointName][t],_o(e)?e.payload:void 0,eg(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,i)}function ap(e,t,n){const i=e[t];i&&n(i)}function $h(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function cx(e,t,n){const i=e[$h(t)];i&&n(i)}var lp={};function $L({reducerPath:e,queryThunk:t,mutationThunk:n,serializeQueryArgs:i,context:{endpointDefinitions:s,apiUid:o,extractRehydrationInfo:l,hasRehydrationInfo:u},assertTagType:h,config:f}){const p=qi(`${e}/resetApiState`);function y(R,M,O,L){var P;R[P=M.queryCacheKey]??(R[P]={status:"uninitialized",endpointName:M.endpointName}),ap(R,M.queryCacheKey,Z=>{Z.status="pending",Z.requestId=O&&Z.requestId?Z.requestId:L.requestId,M.originalArgs!==void 0&&(Z.originalArgs=M.originalArgs),Z.startedTimeStamp=L.startedTimeStamp;const rt=s[L.arg.endpointName];ig(rt)&&"direction"in M&&(Z.direction=M.direction)})}function _(R,M,O,L){ap(R,M.arg.queryCacheKey,P=>{if(P.requestId!==M.requestId&&!L)return;const{merge:Z}=s[M.arg.endpointName];if(P.status="fulfilled",Z)if(P.data!==void 0){const{fulfilledTimeStamp:rt,arg:q,baseQueryMeta:W,requestId:st}=M;let dt=mf(P.data,F=>Z(F,O,{arg:q.originalArgs,baseQueryMeta:W,fulfilledTimeStamp:rt,requestId:st}));P.data=dt}else P.data=O;else P.data=s[M.arg.endpointName].structuralSharing??!0?AD(Cs(P.data)?S9(P.data):P.data,O):O;delete P.error,P.fulfilledTimeStamp=M.fulfilledTimeStamp})}const b=ys({name:`${e}/queries`,initialState:lp,reducers:{removeQueryResult:{reducer(R,{payload:{queryCacheKey:M}}){delete R[M]},prepare:Ku()},cacheEntriesUpserted:{reducer(R,M){for(const O of M.payload){const{queryDescription:L,value:P}=O;y(R,L,!0,{arg:L,requestId:M.meta.requestId,startedTimeStamp:M.meta.timestamp}),_(R,{arg:L,requestId:M.meta.requestId,fulfilledTimeStamp:M.meta.timestamp,baseQueryMeta:{}},P,!0)}},prepare:R=>({payload:R.map(L=>{const{endpointName:P,arg:Z,value:rt}=L,q=s[P];return{queryDescription:{type:"query",endpointName:P,originalArgs:L.arg,queryCacheKey:i({queryArgs:Z,endpointDefinition:q,endpointName:P})},value:rt}}),meta:{[Jm]:!0,requestId:Ub(),timestamp:Date.now()}})},queryResultPatched:{reducer(R,{payload:{queryCacheKey:M,patches:O}}){ap(R,M,L=>{L.data=GA(L.data,O.concat())})},prepare:Ku()}},extraReducers(R){R.addCase(t.pending,(M,{meta:O,meta:{arg:L}})=>{const P=l0(L);y(M,L,P,O)}).addCase(t.fulfilled,(M,{meta:O,payload:L})=>{const P=l0(O.arg);_(M,O,L,P)}).addCase(t.rejected,(M,{meta:{condition:O,arg:L,requestId:P},error:Z,payload:rt})=>{ap(M,L.queryCacheKey,q=>{if(!O){if(q.requestId!==P)return;q.status="rejected",q.error=rt??Z}})}).addMatcher(u,(M,O)=>{const{queries:L}=l(O);for(const[P,Z]of Object.entries(L))((Z==null?void 0:Z.status)==="fulfilled"||(Z==null?void 0:Z.status)==="rejected")&&(M[P]=Z)})}}),S=ys({name:`${e}/mutations`,initialState:lp,reducers:{removeMutationResult:{reducer(R,{payload:M}){const O=$h(M);O in R&&delete R[O]},prepare:Ku()}},extraReducers(R){R.addCase(n.pending,(M,{meta:O,meta:{requestId:L,arg:P,startedTimeStamp:Z}})=>{P.track&&(M[$h(O)]={requestId:L,status:"pending",endpointName:P.endpointName,startedTimeStamp:Z})}).addCase(n.fulfilled,(M,{payload:O,meta:L})=>{L.arg.track&&cx(M,L,P=>{P.requestId===L.requestId&&(P.status="fulfilled",P.data=O,P.fulfilledTimeStamp=L.fulfilledTimeStamp)})}).addCase(n.rejected,(M,{payload:O,error:L,meta:P})=>{P.arg.track&&cx(M,P,Z=>{Z.requestId===P.requestId&&(Z.status="rejected",Z.error=O??L)})}).addMatcher(u,(M,O)=>{const{mutations:L}=l(O);for(const[P,Z]of Object.entries(L))((Z==null?void 0:Z.status)==="fulfilled"||(Z==null?void 0:Z.status)==="rejected")&&P!==(Z==null?void 0:Z.requestId)&&(M[P]=Z)})}}),C={tags:{},keys:{}},E=ys({name:`${e}/invalidation`,initialState:C,reducers:{updateProvidedBy:{reducer(R,M){var O,L,P;for(const{queryCacheKey:Z,providedTags:rt}of M.payload){I(R,Z);for(const{type:q,id:W}of rt){const st=(L=(O=R.tags)[q]??(O[q]={}))[P=W||"__internal_without_id"]??(L[P]=[]);st.includes(Z)||st.push(Z)}R.keys[Z]=rt}},prepare:Ku()}},extraReducers(R){R.addCase(b.actions.removeQueryResult,(M,{payload:{queryCacheKey:O}})=>{I(M,O)}).addMatcher(u,(M,O)=>{var P,Z,rt;const{provided:L}=l(O);for(const[q,W]of Object.entries(L))for(const[st,dt]of Object.entries(W)){const F=(Z=(P=M.tags)[q]??(P[q]={}))[rt=st||"__internal_without_id"]??(Z[rt]=[]);for(const et of dt)F.includes(et)||F.push(et)}}).addMatcher(gr(_o(t),eg(t)),(M,O)=>{j(M,[O])}).addMatcher(b.actions.cacheEntriesUpserted.match,(M,O)=>{const L=O.payload.map(({queryDescription:P,value:Z})=>({type:"UNKNOWN",payload:Z,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:P}}));j(M,L)})}});function I(R,M){var L;const O=R.keys[M]??[];for(const P of O){const Z=P.type,rt=P.id??"__internal_without_id",q=(L=R.tags[Z])==null?void 0:L[rt];q&&(R.tags[Z][rt]=q.filter(W=>W!==M))}delete R.keys[M]}function j(R,M){const O=M.map(L=>{const P=DD(L,"providesTags",s,h),{queryCacheKey:Z}=L.meta.arg;return{queryCacheKey:Z,providedTags:P}});E.caseReducers.updateProvidedBy(R,E.actions.updateProvidedBy(O))}const k=ys({name:`${e}/subscriptions`,initialState:lp,reducers:{updateSubscriptionOptions(R,M){},unsubscribeQueryResult(R,M){},internal_getRTKQSubscriptions(){}}}),N=ys({name:`${e}/internalSubscriptions`,initialState:lp,reducers:{subscriptionsUpdated:{reducer(R,M){return GA(R,M.payload)},prepare:Ku()}}}),V=ys({name:`${e}/config`,initialState:{online:ML(),focused:DL(),middlewareRegistered:!1,...f},reducers:{middlewareRegistered(R,{payload:M}){R.middlewareRegistered=R.middlewareRegistered==="conflict"||o!==M?"conflict":!0}},extraReducers:R=>{R.addCase(Fb,M=>{M.online=!0}).addCase(CD,M=>{M.online=!1}).addCase(Bb,M=>{M.focused=!0}).addCase(xD,M=>{M.focused=!1}).addMatcher(u,M=>({...M}))}}),B=lD({queries:b.reducer,mutations:S.reducer,provided:E.reducer,subscriptions:N.reducer,config:V.reducer}),D=(R,M)=>B(p.match(M)?void 0:R,M),A={...V.actions,...b.actions,...k.actions,...N.actions,...S.actions,...E.actions,resetApiState:p};return{reducer:D,actions:A}}var Ui=Symbol.for("RTKQ/skipToken"),MD={status:"uninitialized"},ux=mf(MD,()=>{}),hx=mf(MD,()=>{});function GL({serializeQueryArgs:e,reducerPath:t,createSelector:n}){const i=k=>ux,s=k=>hx;return{buildQuerySelector:_,buildInfiniteQuerySelector:b,buildMutationSelector:S,selectInvalidatedBy:C,selectCachedArgsForQuery:E,selectApiState:l,selectQueries:u,selectMutations:f,selectQueryEntry:h,selectConfig:p};function o(k){return{...k,...ix(k.status)}}function l(k){return k[t]}function u(k){var N;return(N=l(k))==null?void 0:N.queries}function h(k,N){var V;return(V=u(k))==null?void 0:V[N]}function f(k){var N;return(N=l(k))==null?void 0:N.mutations}function p(k){var N;return(N=l(k))==null?void 0:N.config}function y(k,N,V){return B=>{if(B===Ui)return n(i,V);const D=e({queryArgs:B,endpointDefinition:N,endpointName:k});return n(R=>h(R,D)??ux,V)}}function _(k,N){return y(k,N,o)}function b(k,N){const{infiniteQueryOptions:V}=N;function B(D){const A={...D,...ix(D.status)},{isLoading:R,isError:M,direction:O}=A,L=O==="forward",P=O==="backward";return{...A,hasNextPage:I(V,A.data,A.originalArgs),hasPreviousPage:j(V,A.data,A.originalArgs),isFetchingNextPage:R&&L,isFetchingPreviousPage:R&&P,isFetchNextPageError:M&&L,isFetchPreviousPageError:M&&P}}return y(k,N,B)}function S(){return k=>{let N;return typeof k=="object"?N=$h(k)??Ui:N=k,n(N===Ui?s:D=>{var A,R;return((R=(A=l(D))==null?void 0:A.mutations)==null?void 0:R[N])??hx},o)}}function C(k,N){const V=k[t],B=new Set;for(const D of N.filter(fm).map(a0)){const A=V.provided.tags[D.type];if(!A)continue;let R=(D.id!==void 0?A[D.id]:rx(Object.values(A)))??[];for(const M of R)B.add(M)}return rx(Array.from(B.values()).map(D=>{const A=V.queries[D];return A?[{queryCacheKey:D,endpointName:A.endpointName,originalArgs:A.originalArgs}]:[]}))}function E(k,N){return Object.values(u(k)).filter(V=>(V==null?void 0:V.endpointName)===N&&V.status!=="uninitialized").map(V=>V.originalArgs)}function I(k,N,V){return N?c0(k,N,V)!=null:!1}function j(k,N,V){return!N||!k.getPreviousPageParam?!1:ID(k,N,V)!=null}}var Hl=WeakMap?new WeakMap:void 0,pm=({endpointName:e,queryArgs:t})=>{let n="";const i=Hl==null?void 0:Hl.get(t);if(typeof i=="string")n=i;else{const s=JSON.stringify(t,(o,l)=>(l=typeof l=="bigint"?{$bigint:l.toString()}:l,l=yo(l)?Object.keys(l).sort().reduce((u,h)=>(u[h]=l[h],u),{}):l,l));yo(t)&&(Hl==null||Hl.set(t,s)),n=s}return`${e}(${n})`};function OD(...e){return function(n){const i=hm(f=>{var p;return(p=n.extractRehydrationInfo)==null?void 0:p.call(n,f,{reducerPath:n.reducerPath??"api"})}),s={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:i,serializeQueryArgs(f){let p=pm;if("serializeQueryArgs"in f.endpointDefinition){const y=f.endpointDefinition.serializeQueryArgs;p=_=>{const b=y(_);return typeof b=="string"?b:pm({..._,queryArgs:b})}}else n.serializeQueryArgs&&(p=n.serializeQueryArgs);return p(f)},tagTypes:[...n.tagTypes||[]]},o={endpointDefinitions:{},batch(f){f()},apiUid:Ub(),extractRehydrationInfo:i,hasRehydrationInfo:hm(f=>i(f)!=null)},l={injectEndpoints:h,enhanceEndpoints({addTagTypes:f,endpoints:p}){if(f)for(const y of f)s.tagTypes.includes(y)||s.tagTypes.push(y);if(p)for(const[y,_]of Object.entries(p))typeof _=="function"?_(o.endpointDefinitions[y]):Object.assign(o.endpointDefinitions[y]||{},_);return l}},u=e.map(f=>f.init(l,s,o));function h(f){const p=f.endpoints({query:y=>({...y,type:"query"}),mutation:y=>({...y,type:"mutation"}),infiniteQuery:y=>({...y,type:"infinitequery"})});for(const[y,_]of Object.entries(p)){if(f.overrideExisting!==!0&&y in o.endpointDefinitions){if(f.overrideExisting==="throw")throw new Error(Ri(39));continue}o.endpointDefinitions[y]=_;for(const b of u)b.injectEndpoint(y,_)}return l}return l.injectEndpoints({endpoints:n.endpoints})}}function PD(){return function(){throw new Error(Ri(33))}}function rr(e,...t){return Object.assign(e,...t)}var WL=({api:e,queryThunk:t,internalState:n})=>{const i=`${e.reducerPath}/subscriptions`;let s=null,o=null;const{updateSubscriptionOptions:l,unsubscribeQueryResult:u}=e.internalActions,h=(b,S)=>{var E,I,j;if(l.match(S)){const{queryCacheKey:k,requestId:N,options:V}=S.payload;return(E=b==null?void 0:b[k])!=null&&E[N]&&(b[k][N]=V),!0}if(u.match(S)){const{queryCacheKey:k,requestId:N}=S.payload;return b[k]&&delete b[k][N],!0}if(e.internalActions.removeQueryResult.match(S))return delete b[S.payload.queryCacheKey],!0;if(t.pending.match(S)){const{meta:{arg:k,requestId:N}}=S,V=b[I=k.queryCacheKey]??(b[I]={});return V[`${N}_running`]={},k.subscribe&&(V[N]=k.subscriptionOptions??V[N]??{}),!0}let C=!1;if(t.fulfilled.match(S)||t.rejected.match(S)){const k=b[S.meta.arg.queryCacheKey]||{},N=`${S.meta.requestId}_running`;C||(C=!!k[N]),delete k[N]}if(t.rejected.match(S)){const{meta:{condition:k,arg:N,requestId:V}}=S;if(k&&N.subscribe){const B=b[j=N.queryCacheKey]??(b[j]={});B[V]=N.subscriptionOptions??B[V]??{},C=!0}}return C},f=()=>n.currentSubscriptions,_={getSubscriptions:f,getSubscriptionCount:b=>{const C=f()[b]??{};return rc(C)},isRequestSubscribed:(b,S)=>{var E;const C=f();return!!((E=C==null?void 0:C[b])!=null&&E[S])}};return(b,S)=>{if(s||(s=JSON.parse(JSON.stringify(n.currentSubscriptions))),e.util.resetApiState.match(b))return s=n.currentSubscriptions={},o=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(b))return[!1,_];const C=h(n.currentSubscriptions,b);let E=!0;if(C){o||(o=setTimeout(()=>{const k=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,N]=mD(s,()=>k);S.next(e.internalActions.subscriptionsUpdated(N)),s=k,o=null},500));const I=typeof b.type=="string"&&!!b.type.startsWith(i),j=t.rejected.match(b)&&b.meta.condition&&!!b.meta.arg.subscribe;E=!I&&!j}return[E,!1]}};function KL(e){for(const t in e)return!1;return!0}var ZL=2147483647/1e3-1,QL=({reducerPath:e,api:t,queryThunk:n,context:i,internalState:s,selectors:{selectQueryEntry:o,selectConfig:l}})=>{const{removeQueryResult:u,unsubscribeQueryResult:h,cacheEntriesUpserted:f}=t.internalActions,p=gr(h.match,n.fulfilled,n.rejected,f.match);function y(E){const I=s.currentSubscriptions[E];return!!I&&!KL(I)}const _={},b=(E,I,j)=>{const k=I.getState(),N=l(k);if(p(E)){let V;if(f.match(E))V=E.payload.map(B=>B.queryDescription.queryCacheKey);else{const{queryCacheKey:B}=h.match(E)?E.payload:E.meta.arg;V=[B]}S(V,I,N)}if(t.util.resetApiState.match(E))for(const[V,B]of Object.entries(_))B&&clearTimeout(B),delete _[V];if(i.hasRehydrationInfo(E)){const{queries:V}=i.extractRehydrationInfo(E);S(Object.keys(V),I,N)}};function S(E,I,j){const k=I.getState();for(const N of E){const V=o(k,N);C(N,V==null?void 0:V.endpointName,I,j)}}function C(E,I,j,k){const N=i.endpointDefinitions[I],V=(N==null?void 0:N.keepUnusedDataFor)??k.keepUnusedDataFor;if(V===1/0)return;const B=Math.max(0,Math.min(V,ZL));if(!y(E)){const D=_[E];D&&clearTimeout(D),_[E]=setTimeout(()=>{y(E)||j.dispatch(u({queryCacheKey:E})),delete _[E]},B*1e3)}}return b},fx=new Error("Promise never resolved before cacheEntryRemoved."),YL=({api:e,reducerPath:t,context:n,queryThunk:i,mutationThunk:s,internalState:o,selectors:{selectQueryEntry:l,selectApiState:u}})=>{const h=o0(i),f=o0(s),p=_o(i,s),y={};function _(I,j,k){const N=y[I];N!=null&&N.valueResolved&&(N.valueResolved({data:j,meta:k}),delete N.valueResolved)}function b(I){const j=y[I];j&&(delete y[I],j.cacheEntryRemoved())}const S=(I,j,k)=>{const N=C(I);function V(B,D,A,R){const M=l(k,D),O=l(j.getState(),D);!M&&O&&E(B,R,D,j,A)}if(i.pending.match(I))V(I.meta.arg.endpointName,N,I.meta.requestId,I.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(I))for(const{queryDescription:B,value:D}of I.payload){const{endpointName:A,originalArgs:R,queryCacheKey:M}=B;V(A,M,I.meta.requestId,R),_(M,D,{})}else if(s.pending.match(I))j.getState()[t].mutations[N]&&E(I.meta.arg.endpointName,I.meta.arg.originalArgs,N,j,I.meta.requestId);else if(p(I))_(N,I.payload,I.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(I)||e.internalActions.removeMutationResult.match(I))b(N);else if(e.util.resetApiState.match(I))for(const B of Object.keys(y))b(B)};function C(I){return h(I)?I.meta.arg.queryCacheKey:f(I)?I.meta.arg.fixedCacheKey??I.meta.requestId:e.internalActions.removeQueryResult.match(I)?I.payload.queryCacheKey:e.internalActions.removeMutationResult.match(I)?$h(I.payload):""}function E(I,j,k,N,V){const B=n.endpointDefinitions[I],D=B==null?void 0:B.onCacheEntryAdded;if(!D)return;const A={},R=new Promise(rt=>{A.cacheEntryRemoved=rt}),M=Promise.race([new Promise(rt=>{A.valueResolved=rt}),R.then(()=>{throw fx})]);M.catch(()=>{}),y[k]=A;const O=e.endpoints[I].select(dm(B)?j:k),L=N.dispatch((rt,q,W)=>W),P={...N,getCacheEntry:()=>O(N.getState()),requestId:V,extra:L,updateCachedData:dm(B)?rt=>N.dispatch(e.util.updateQueryData(I,j,rt)):void 0,cacheDataLoaded:M,cacheEntryRemoved:R},Z=D(j,P);Promise.resolve(Z).catch(rt=>{if(rt!==fx)throw rt})}return S},XL=({api:e,context:{apiUid:t},reducerPath:n})=>(i,s)=>{e.util.resetApiState.match(i)&&s.dispatch(e.internalActions.middlewareRegistered(t))},JL=({reducerPath:e,context:t,context:{endpointDefinitions:n},mutationThunk:i,queryThunk:s,api:o,assertTagType:l,refetchQuery:u,internalState:h})=>{const{removeQueryResult:f}=o.internalActions,p=gr(_o(i),eg(i)),y=gr(_o(i,s),mc(i,s));let _=[];const b=(E,I)=>{p(E)?C(DD(E,"invalidatesTags",n,l),I):y(E)?C([],I):o.util.invalidateTags.match(E)&&C(Hb(E.payload,void 0,void 0,void 0,void 0,l),I)};function S(E){var k;const{queries:I,mutations:j}=E;for(const N of[I,j])for(const V in N)if(((k=N[V])==null?void 0:k.status)==="pending")return!0;return!1}function C(E,I){const j=I.getState(),k=j[e];if(_.push(...E),k.config.invalidationBehavior==="delayed"&&S(k))return;const N=_;if(_=[],N.length===0)return;const V=o.util.selectInvalidatedBy(j,N);t.batch(()=>{const B=Array.from(V.values());for(const{queryCacheKey:D}of B){const A=k.queries[D],R=h.currentSubscriptions[D]??{};A&&(rc(R)===0?I.dispatch(f({queryCacheKey:D})):A.status!=="uninitialized"&&I.dispatch(u(A)))}})}return b},tz=({reducerPath:e,queryThunk:t,api:n,refetchQuery:i,internalState:s})=>{const o={},l=(_,b)=>{(n.internalActions.updateSubscriptionOptions.match(_)||n.internalActions.unsubscribeQueryResult.match(_))&&h(_.payload,b),(t.pending.match(_)||t.rejected.match(_)&&_.meta.condition)&&h(_.meta.arg,b),(t.fulfilled.match(_)||t.rejected.match(_)&&!_.meta.condition)&&u(_.meta.arg,b),n.util.resetApiState.match(_)&&p()};function u({queryCacheKey:_},b){const S=b.getState()[e],C=S.queries[_],E=s.currentSubscriptions[_];if(!C||C.status==="uninitialized")return;const{lowestPollingInterval:I,skipPollingIfUnfocused:j}=y(E);if(!Number.isFinite(I))return;const k=o[_];k!=null&&k.timeout&&(clearTimeout(k.timeout),k.timeout=void 0);const N=Date.now()+I;o[_]={nextPollTimestamp:N,pollingInterval:I,timeout:setTimeout(()=>{(S.config.focused||!j)&&b.dispatch(i(C)),u({queryCacheKey:_},b)},I)}}function h({queryCacheKey:_},b){const C=b.getState()[e].queries[_],E=s.currentSubscriptions[_];if(!C||C.status==="uninitialized")return;const{lowestPollingInterval:I}=y(E);if(!Number.isFinite(I)){f(_);return}const j=o[_],k=Date.now()+I;(!j||k<j.nextPollTimestamp)&&u({queryCacheKey:_},b)}function f(_){const b=o[_];b!=null&&b.timeout&&clearTimeout(b.timeout),delete o[_]}function p(){for(const _ of Object.keys(o))f(_)}function y(_={}){let b=!1,S=Number.POSITIVE_INFINITY;for(let C in _)_[C].pollingInterval&&(S=Math.min(_[C].pollingInterval,S),b=_[C].skipPollingIfUnfocused||b);return{lowestPollingInterval:S,skipPollingIfUnfocused:b}}return l},ez=({api:e,context:t,queryThunk:n,mutationThunk:i})=>{const s=zb(n,i),o=mc(n,i),l=_o(n,i),u={};return(f,p)=>{var y,_;if(s(f)){const{requestId:b,arg:{endpointName:S,originalArgs:C}}=f.meta,E=t.endpointDefinitions[S],I=E==null?void 0:E.onQueryStarted;if(I){const j={},k=new Promise((D,A)=>{j.resolve=D,j.reject=A});k.catch(()=>{}),u[b]=j;const N=e.endpoints[S].select(dm(E)?C:b),V=p.dispatch((D,A,R)=>R),B={...p,getCacheEntry:()=>N(p.getState()),requestId:b,extra:V,updateCachedData:dm(E)?D=>p.dispatch(e.util.updateQueryData(S,C,D)):void 0,queryFulfilled:k};I(C,B)}}else if(l(f)){const{requestId:b,baseQueryMeta:S}=f.meta;(y=u[b])==null||y.resolve({data:f.payload,meta:S}),delete u[b]}else if(o(f)){const{requestId:b,rejectedWithValue:S,baseQueryMeta:C}=f.meta;(_=u[b])==null||_.reject({error:f.payload??f.error,isUnhandledError:!S,meta:C}),delete u[b]}}},nz=({reducerPath:e,context:t,api:n,refetchQuery:i,internalState:s})=>{const{removeQueryResult:o}=n.internalActions,l=(h,f)=>{Bb.match(h)&&u(f,"refetchOnFocus"),Fb.match(h)&&u(f,"refetchOnReconnect")};function u(h,f){const p=h.getState()[e],y=p.queries,_=s.currentSubscriptions;t.batch(()=>{for(const b of Object.keys(_)){const S=y[b],C=_[b];if(!C||!S)continue;(Object.values(C).some(I=>I[f]===!0)||Object.values(C).every(I=>I[f]===void 0)&&p.config[f])&&(rc(C)===0?h.dispatch(o({queryCacheKey:b})):S.status!=="uninitialized"&&h.dispatch(i(S)))}})}return l};function iz(e){const{reducerPath:t,queryThunk:n,api:i,context:s}=e,{apiUid:o}=s,l={invalidateTags:qi(`${t}/invalidateTags`)},u=y=>y.type.startsWith(`${t}/`),h=[XL,QL,JL,tz,YL,ez];return{middleware:y=>{let _=!1;const S={...e,internalState:{currentSubscriptions:{}},refetchQuery:p,isThisApiSliceAction:u},C=h.map(j=>j(S)),E=WL(S),I=nz(S);return j=>k=>{if(!cD(k))return j(k);_||(_=!0,y.dispatch(i.internalActions.middlewareRegistered(o)));const N={...y,next:j},V=y.getState(),[B,D]=E(k,N,V);let A;if(B?A=j(k):A=D,y.getState()[t]&&(I(k,N,V),u(k)||s.hasRehydrationInfo(k)))for(const R of C)R(k,N,V);return A}},actions:l};function p(y){return e.api.endpoints[y.endpointName].initiate(y.originalArgs,{subscribe:!1,forceRefetch:!0})}}var dx=Symbol(),kD=({createSelector:e=Lb}={})=>({name:dx,init(t,{baseQuery:n,tagTypes:i,reducerPath:s,serializeQueryArgs:o,keepUnusedDataFor:l,refetchOnMountOrArgChange:u,refetchOnFocus:h,refetchOnReconnect:f,invalidationBehavior:p,onSchemaFailure:y,catchSchemaFailure:_,skipSchemaValidation:b},S){O9();const C=mt=>mt;Object.assign(t,{reducerPath:s,endpoints:{},internalActions:{onOnline:Fb,onOffline:CD,onFocus:Bb,onFocusLost:xD},util:{}});const E=GL({serializeQueryArgs:o,reducerPath:s,createSelector:e}),{selectInvalidatedBy:I,selectCachedArgsForQuery:j,buildQuerySelector:k,buildInfiniteQuerySelector:N,buildMutationSelector:V}=E;rr(t.util,{selectInvalidatedBy:I,selectCachedArgsForQuery:j});const{queryThunk:B,infiniteQueryThunk:D,mutationThunk:A,patchQueryData:R,updateQueryData:M,upsertQueryData:O,prefetch:L,buildMatchThunkActions:P}=qL({baseQuery:n,reducerPath:s,context:S,api:t,serializeQueryArgs:o,assertTagType:C,selectors:E,onSchemaFailure:y,catchSchemaFailure:_,skipSchemaValidation:b}),{reducer:Z,actions:rt}=$L({context:S,queryThunk:B,mutationThunk:A,serializeQueryArgs:o,reducerPath:s,assertTagType:C,config:{refetchOnFocus:h,refetchOnReconnect:f,refetchOnMountOrArgChange:u,keepUnusedDataFor:l,reducerPath:s,invalidationBehavior:p}});rr(t.util,{patchQueryData:R,updateQueryData:M,upsertQueryData:O,prefetch:L,resetApiState:rt.resetApiState,upsertQueryEntries:rt.cacheEntriesUpserted}),rr(t.internalActions,rt);const{middleware:q,actions:W}=iz({reducerPath:s,context:S,queryThunk:B,mutationThunk:A,infiniteQueryThunk:D,api:t,assertTagType:C,selectors:E});rr(t.util,W),rr(t,{reducer:Z,middleware:q});const{buildInitiateQuery:st,buildInitiateInfiniteQuery:dt,buildInitiateMutation:F,getRunningMutationThunk:et,getRunningMutationsThunk:ct,getRunningQueriesThunk:at,getRunningQueryThunk:gt}=FL({queryThunk:B,mutationThunk:A,infiniteQueryThunk:D,api:t,serializeQueryArgs:o,context:S});return rr(t.util,{getRunningMutationThunk:et,getRunningMutationsThunk:ct,getRunningQueryThunk:gt,getRunningQueriesThunk:at}),{name:dx,injectEndpoint(mt,_t){var ze;const Nt=(ze=t.endpoints)[mt]??(ze[mt]={});ng(_t)&&rr(Nt,{name:mt,select:k(mt,_t),initiate:st(mt,_t)},P(B,mt)),UL(_t)&&rr(Nt,{name:mt,select:V(),initiate:F(mt)},P(A,mt)),ig(_t)&&rr(Nt,{name:mt,select:N(mt,_t),initiate:dt(mt,_t)},P(B,mt))}}}});kD();function cp(e){return e.replace(e[0],e[0].toUpperCase())}function sz(e){return e.type==="query"}function rz(e){return e.type==="mutation"}function ND(e){return e.type==="infinitequery"}function Qu(e,...t){return Object.assign(e,...t)}var iv=Symbol();function sv(e,t,n,i){const s=J.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:n,endpointName:i}):e}),[e,t,n,i]),o=J.useRef(s);return J.useEffect(()=>{o.current.serialized!==s.serialized&&(o.current=s)},[s]),o.current.serialized===s.serialized?o.current.queryArgs:e}function up(e){const t=J.useRef(e);return J.useEffect(()=>{fh(t.current,e)||(t.current=e)},[e]),fh(t.current,e)?t.current:e}var oz=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",az=oz(),lz=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cz=lz(),uz=()=>az||cz?J.useLayoutEffect:J.useEffect,hz=uz(),px=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:ED.pending}:e;function rv(e,...t){const n={};return t.forEach(i=>{n[i]=e[i]}),n}var ov=["data","status","isLoading","isSuccess","isError","error"];function fz({api:e,moduleOptions:{batch:t,hooks:{useDispatch:n,useSelector:i,useStore:s},unstable__sideEffectsInRender:o,createSelector:l},serializeQueryArgs:u,context:h}){const f=o?N=>N():J.useEffect;return{buildQueryHooks:I,buildInfiniteQueryHooks:j,buildMutationHook:k,usePrefetch:_};function p(N,V,B){if(V!=null&&V.endpointName&&N.isUninitialized){const{endpointName:L}=V,P=h.endpointDefinitions[L];B!==Ui&&u({queryArgs:V.originalArgs,endpointDefinition:P,endpointName:L})===u({queryArgs:B,endpointDefinition:P,endpointName:L})&&(V=void 0)}let D=N.isSuccess?N.data:V==null?void 0:V.data;D===void 0&&(D=N.data);const A=D!==void 0,R=N.isLoading,M=(!V||V.isLoading||V.isUninitialized)&&!A&&R,O=N.isSuccess||A&&(R&&!(V!=null&&V.isError)||N.isUninitialized);return{...N,data:D,currentData:N.data,isFetching:R,isLoading:M,isSuccess:O}}function y(N,V,B){if(V!=null&&V.endpointName&&N.isUninitialized){const{endpointName:L}=V,P=h.endpointDefinitions[L];B!==Ui&&u({queryArgs:V.originalArgs,endpointDefinition:P,endpointName:L})===u({queryArgs:B,endpointDefinition:P,endpointName:L})&&(V=void 0)}let D=N.isSuccess?N.data:V==null?void 0:V.data;D===void 0&&(D=N.data);const A=D!==void 0,R=N.isLoading,M=(!V||V.isLoading||V.isUninitialized)&&!A&&R,O=N.isSuccess||R&&A;return{...N,data:D,currentData:N.data,isFetching:R,isLoading:M,isSuccess:O}}function _(N,V){const B=n(),D=up(V);return J.useCallback((A,R)=>B(e.util.prefetch(N,A,{...D,...R})),[N,B,D])}function b(N,V,{refetchOnReconnect:B,refetchOnFocus:D,refetchOnMountOrArgChange:A,skip:R=!1,pollingInterval:M=0,skipPollingIfUnfocused:O=!1,...L}={}){const{initiate:P}=e.endpoints[N],Z=n(),rt=J.useRef(void 0);if(!rt.current){const mt=Z(e.internalActions.internal_getRTKQSubscriptions());rt.current=mt}const q=sv(R?Ui:V,pm,h.endpointDefinitions[N],N),W=up({refetchOnReconnect:B,refetchOnFocus:D,pollingInterval:M,skipPollingIfUnfocused:O}),st=L.initialPageParam,dt=up(st),F=J.useRef(void 0);let{queryCacheKey:et,requestId:ct}=F.current||{},at=!1;et&&ct&&(at=rt.current.isRequestSubscribed(et,ct));const gt=!at&&F.current!==void 0;return f(()=>{gt&&(F.current=void 0)},[gt]),f(()=>{var xt;const mt=F.current;if(q===Ui){mt==null||mt.unsubscribe(),F.current=void 0;return}const _t=(xt=F.current)==null?void 0:xt.subscriptionOptions;if(!mt||mt.arg!==q){mt==null||mt.unsubscribe();const Nt=Z(P(q,{subscriptionOptions:W,forceRefetch:A,...ND(h.endpointDefinitions[N])?{initialPageParam:dt}:{}}));F.current=Nt}else W!==_t&&mt.updateSubscriptionOptions(W)},[Z,P,A,q,W,gt,dt,N]),[F,Z,P,W]}function S(N,V){return(D,{skip:A=!1,selectFromResult:R}={})=>{const{select:M}=e.endpoints[N],O=sv(A?Ui:D,u,h.endpointDefinitions[N],N),L=J.useRef(void 0),P=J.useMemo(()=>l([M(O),(st,dt)=>dt,st=>O],V,{memoizeOptions:{resultEqualityCheck:fh}}),[M,O]),Z=J.useMemo(()=>R?l([P],R,{devModeChecks:{identityFunctionCheck:"never"}}):P,[P,R]),rt=i(st=>Z(st,L.current),fh),q=s(),W=P(q.getState(),L.current);return hz(()=>{L.current=W},[W]),rt}}function C(N){J.useEffect(()=>()=>{var V,B;(B=(V=N.current)==null?void 0:V.unsubscribe)==null||B.call(V),N.current=void 0},[N])}function E(N){if(!N.current)throw new Error(Ri(38));return N.current.refetch()}function I(N){const V=(A,R={})=>{const[M]=b(N,A,R);return C(M),J.useMemo(()=>({refetch:()=>E(M)}),[M])},B=({refetchOnReconnect:A,refetchOnFocus:R,pollingInterval:M=0,skipPollingIfUnfocused:O=!1}={})=>{const{initiate:L}=e.endpoints[N],P=n(),[Z,rt]=J.useState(iv),q=J.useRef(void 0),W=up({refetchOnReconnect:A,refetchOnFocus:R,pollingInterval:M,skipPollingIfUnfocused:O});f(()=>{var ct,at;const et=(ct=q.current)==null?void 0:ct.subscriptionOptions;W!==et&&((at=q.current)==null||at.updateSubscriptionOptions(W))},[W]);const st=J.useRef(W);f(()=>{st.current=W},[W]);const dt=J.useCallback(function(et,ct=!1){let at;return t(()=>{var gt;(gt=q.current)==null||gt.unsubscribe(),q.current=at=P(L(et,{subscriptionOptions:st.current,forceRefetch:!ct})),rt(et)}),at},[P,L]),F=J.useCallback(()=>{var et,ct;(et=q.current)!=null&&et.queryCacheKey&&P(e.internalActions.removeQueryResult({queryCacheKey:(ct=q.current)==null?void 0:ct.queryCacheKey}))},[P]);return J.useEffect(()=>()=>{var et;(et=q==null?void 0:q.current)==null||et.unsubscribe()},[]),J.useEffect(()=>{Z!==iv&&!q.current&&dt(Z,!0)},[Z,dt]),J.useMemo(()=>[dt,Z,{reset:F}],[dt,Z,F])},D=S(N,p);return{useQueryState:D,useQuerySubscription:V,useLazyQuerySubscription:B,useLazyQuery(A){const[R,M,{reset:O}]=B(A),L=D(M,{...A,skip:M===iv}),P=J.useMemo(()=>({lastArg:M}),[M]);return J.useMemo(()=>[R,{...L,reset:O},P],[R,L,O,P])},useQuery(A,R){const M=V(A,R),O=D(A,{selectFromResult:A===Ui||R!=null&&R.skip?void 0:px,...R}),L=rv(O,...ov);return J.useDebugValue(L),J.useMemo(()=>({...O,...M}),[O,M])}}}function j(N){const V=(D,A={})=>{const[R,M,O,L]=b(N,D,A),P=J.useRef(L);f(()=>{P.current=L},[L]);const Z=J.useCallback(function(W,st){let dt;return t(()=>{var F;(F=R.current)==null||F.unsubscribe(),R.current=dt=M(O(W,{subscriptionOptions:P.current,direction:st}))}),dt},[R,M,O]);C(R);const rt=sv(A.skip?Ui:D,pm,h.endpointDefinitions[N],N),q=J.useCallback(()=>E(R),[R]);return J.useMemo(()=>({trigger:Z,refetch:q,fetchNextPage:()=>Z(rt,"forward"),fetchPreviousPage:()=>Z(rt,"backward")}),[q,Z,rt])},B=S(N,y);return{useInfiniteQueryState:B,useInfiniteQuerySubscription:V,useInfiniteQuery(D,A){const{refetch:R,fetchNextPage:M,fetchPreviousPage:O}=V(D,A),L=B(D,{selectFromResult:D===Ui||A!=null&&A.skip?void 0:px,...A}),P=rv(L,...ov,"hasNextPage","hasPreviousPage");return J.useDebugValue(P),J.useMemo(()=>({...L,fetchNextPage:M,fetchPreviousPage:O,refetch:R}),[L,M,O,R])}}}function k(N){return({selectFromResult:V,fixedCacheKey:B}={})=>{const{select:D,initiate:A}=e.endpoints[N],R=n(),[M,O]=J.useState();J.useEffect(()=>()=>{M!=null&&M.arg.fixedCacheKey||M==null||M.reset()},[M]);const L=J.useCallback(function(et){const ct=R(A(et,{fixedCacheKey:B}));return O(ct),ct},[R,A,B]),{requestId:P}=M||{},Z=J.useMemo(()=>D({fixedCacheKey:B,requestId:M==null?void 0:M.requestId}),[B,M,D]),rt=J.useMemo(()=>V?l([Z],V):Z,[V,Z]),q=i(rt,fh),W=B==null?M==null?void 0:M.arg.originalArgs:void 0,st=J.useCallback(()=>{t(()=>{M&&O(void 0),B&&R(e.internalActions.removeMutationResult({requestId:P,fixedCacheKey:B}))})},[R,B,M,P]),dt=rv(q,...ov,"endpointName");J.useDebugValue(dt);const F=J.useMemo(()=>({...q,originalArgs:W,reset:st}),[q,W,st]);return J.useMemo(()=>[L,F],[L,F])}}}var dz=Symbol(),pz=({batch:e=RN,hooks:t={useDispatch:DR,useSelector:X0,useStore:Y0},createSelector:n=Lb,unstable__sideEffectsInRender:i=!1,...s}={})=>({name:dz,init(o,{serializeQueryArgs:l},u){const h=o,{buildQueryHooks:f,buildInfiniteQueryHooks:p,buildMutationHook:y,usePrefetch:_}=fz({api:o,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:i,createSelector:n},serializeQueryArgs:l,context:u});return Qu(h,{usePrefetch:_}),Qu(u,{batch:e}),{injectEndpoint(b,S){if(sz(S)){const{useQuery:C,useLazyQuery:E,useLazyQuerySubscription:I,useQueryState:j,useQuerySubscription:k}=f(b);Qu(h.endpoints[b],{useQuery:C,useLazyQuery:E,useLazyQuerySubscription:I,useQueryState:j,useQuerySubscription:k}),o[`use${cp(b)}Query`]=C,o[`useLazy${cp(b)}Query`]=E}if(rz(S)){const C=y(b);Qu(h.endpoints[b],{useMutation:C}),o[`use${cp(b)}Mutation`]=C}else if(ND(S)){const{useInfiniteQuery:C,useInfiniteQuerySubscription:E,useInfiniteQueryState:I}=p(b);Qu(h.endpoints[b],{useInfiniteQuery:C,useInfiniteQuerySubscription:E,useInfiniteQueryState:I}),o[`use${cp(b)}InfiniteQuery`]=C}}}}}),qb=OD(kD(),pz());const mz=()=>{};var mx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},gz=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=e[n++],l=e[n++],u=e[n++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const o=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return t.join("")},LD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const o=e[s],l=s+1<e.length,u=l?e[s+1]:0,h=s+2<e.length,f=h?e[s+2]:0,p=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|f>>6,b=f&63;h||(b=64,l||(_=64)),i.push(n[p],n[y],n[_],n[b])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(VD(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gz(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const o=n[e.charAt(s++)],u=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,o==null||u==null||f==null||y==null)throw new yz;const _=o<<2|u>>4;if(i.push(_),f!==64){const b=u<<4&240|f>>2;if(i.push(b),y!==64){const S=f<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class yz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _z=function(e){const t=VD(e);return LD.encodeByteArray(t,!0)},mm=function(e){return _z(e).replace(/\./g,"")},zD=function(e){try{return LD.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=()=>vz().__FIREBASE_DEFAULTS__,Tz=()=>{if(typeof process>"u"||typeof mx>"u")return;const e=mx.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Sz=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&zD(e[1]);return t&&JSON.parse(t)},sg=()=>{try{return mz()||bz()||Tz()||Sz()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},UD=e=>{var t,n;return(n=(t=sg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},wz=e=>{const t=UD(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},jD=()=>{var e;return(e=sg())===null||e===void 0?void 0:e.config},BD=e=>{var t;return(t=sg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FD(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mm(JSON.stringify(n)),mm(JSON.stringify(l)),""].join(".")}const bh={};function xz(){const e={prod:[],emulator:[]};for(const t of Object.keys(bh))bh[t]?e.emulator.push(t):e.prod.push(t);return e}function Cz(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let gx=!1;function HD(e,t){if(typeof window>"u"||typeof document>"u"||!Ic(window.location.host)||bh[e]===t||bh[e]||gx)return;bh[e]=t;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=xz().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,b){_.setAttribute("width","24"),_.setAttribute("id",b),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{gx=!0,l()},_}function p(_,b){_.setAttribute("id",b),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=Cz(i),b=n("text"),S=document.getElementById(b)||document.createElement("span"),C=n("learnmore"),E=document.getElementById(C)||document.createElement("a"),I=n("preprendIcon"),j=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const k=_.element;u(k),p(E,C);const N=f();h(j,I),k.append(j,S,E,N),document.body.appendChild(k)}o?(S.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function Iz(){var e;const t=(e=sg())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mz(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Oz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pz(){const e=Mn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function kz(){return!Iz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nz(){try{return typeof indexedDB=="object"}catch{return!1}}function Vz(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="FirebaseError";class Tr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Lz,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yf.prototype.create)}}class yf{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,o=this.errors[t],l=o?zz(o,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Tr(s,u,i)}}function zz(e,t){return e.replace(Uz,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const Uz=/\{\$([^}]+)}/g;function jz(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function La(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const o=e[s],l=t[s];if(yx(o)&&yx(l)){if(!La(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function yx(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Bz(e,t){const n=new Fz(e,t);return n.subscribe.bind(n)}class Fz{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Hz(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=av),s.error===void 0&&(s.error=av),s.complete===void 0&&(s.complete=av);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hz(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(e){return e&&e._delegate?e._delegate:e}class za{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Ez;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Gz(t))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=_a){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_a){return this.instances.has(t)}getOptions(t=_a){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&t(l,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$z(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=_a){return this.component?this.component.multipleInstances?t:_a:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $z(e){return e===_a?void 0:e}function Gz(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qz(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ht||(Ht={}));const Kz={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},Zz=Ht.INFO,Qz={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},Yz=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=Qz[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $b{constructor(t){this.name=t,this._logLevel=Zz,this._logHandler=Yz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Kz[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const Xz=(e,t)=>t.some(n=>e instanceof n);let _x,vx;function Jz(){return _x||(_x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t8(){return vx||(vx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qD=new WeakMap,u0=new WeakMap,$D=new WeakMap,lv=new WeakMap,Gb=new WeakMap;function e8(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",l)},o=()=>{n(ao(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&qD.set(n,e)}).catch(()=>{}),Gb.set(t,e),t}function n8(e){if(u0.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",l),e.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",l),e.addEventListener("abort",l)});u0.set(e,t)}let h0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return u0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||$D.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function i8(e){h0=e(h0)}function s8(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(cv(this),t,...n);return $D.set(i,t.sort?t.sort():[t]),ao(i)}:t8().includes(e)?function(...t){return e.apply(cv(this),t),ao(qD.get(this))}:function(...t){return ao(e.apply(cv(this),t))}}function r8(e){return typeof e=="function"?s8(e):(e instanceof IDBTransaction&&n8(e),Xz(e,Jz())?new Proxy(e,h0):e)}function ao(e){if(e instanceof IDBRequest)return e8(e);if(lv.has(e))return lv.get(e);const t=r8(e);return t!==e&&(lv.set(e,t),Gb.set(t,e)),t}const cv=e=>Gb.get(e);function o8(e,t,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(e,t),u=ao(l);return i&&l.addEventListener("upgradeneeded",h=>{i(ao(l.result),h.oldVersion,h.newVersion,ao(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const a8=["get","getKey","getAll","getAllKeys","count"],l8=["put","add","delete","clear"],uv=new Map;function bx(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uv.get(t))return uv.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=l8.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||a8.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),s&&h.done]))[0]};return uv.set(t,o),o}i8(e=>({...e,get:(t,n,i)=>bx(t,n)||e.get(t,n,i),has:(t,n)=>!!bx(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u8(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function u8(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const f0="@firebase/app",Tx="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new $b("@firebase/app"),h8="@firebase/app-compat",f8="@firebase/analytics-compat",d8="@firebase/analytics",p8="@firebase/app-check-compat",m8="@firebase/app-check",g8="@firebase/auth",y8="@firebase/auth-compat",_8="@firebase/database",v8="@firebase/data-connect",b8="@firebase/database-compat",T8="@firebase/functions",S8="@firebase/functions-compat",w8="@firebase/installations",E8="@firebase/installations-compat",A8="@firebase/messaging",x8="@firebase/messaging-compat",C8="@firebase/performance",R8="@firebase/performance-compat",I8="@firebase/remote-config",D8="@firebase/remote-config-compat",M8="@firebase/storage",O8="@firebase/storage-compat",P8="@firebase/firestore",k8="@firebase/ai",N8="@firebase/firestore-compat",V8="firebase",L8="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="[DEFAULT]",z8={[f0]:"fire-core",[h8]:"fire-core-compat",[d8]:"fire-analytics",[f8]:"fire-analytics-compat",[m8]:"fire-app-check",[p8]:"fire-app-check-compat",[g8]:"fire-auth",[y8]:"fire-auth-compat",[_8]:"fire-rtdb",[v8]:"fire-data-connect",[b8]:"fire-rtdb-compat",[T8]:"fire-fn",[S8]:"fire-fn-compat",[w8]:"fire-iid",[E8]:"fire-iid-compat",[A8]:"fire-fcm",[x8]:"fire-fcm-compat",[C8]:"fire-perf",[R8]:"fire-perf-compat",[I8]:"fire-rc",[D8]:"fire-rc-compat",[M8]:"fire-gcs",[O8]:"fire-gcs-compat",[P8]:"fire-fst",[N8]:"fire-fst-compat",[k8]:"fire-vertex","fire-js":"fire-js",[V8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map,U8=new Map,p0=new Map;function Sx(e,t){try{e.container.addComponent(t)}catch(n){yr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function gc(e){const t=e.name;if(p0.has(t))return yr.debug(`There were multiple attempts to register component ${t}.`),!1;p0.set(t,e);for(const n of gm.values())Sx(n,e);for(const n of U8.values())Sx(n,e);return!0}function Wb(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ji(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new yf("app","Firebase",j8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=L8;function GD(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:d0,automaticDataCollectionEnabled:!0},t),s=i.name;if(typeof s!="string"||!s)throw lo.create("bad-app-name",{appName:String(s)});if(n||(n=jD()),!n)throw lo.create("no-options");const o=gm.get(s);if(o){if(La(n,o.options)&&La(i,o.config))return o;throw lo.create("duplicate-app",{appName:s})}const l=new Wz(s);for(const h of p0.values())l.addComponent(h);const u=new B8(n,i,l);return gm.set(s,u),u}function WD(e=d0){const t=gm.get(e);if(!t&&e===d0&&jD())return GD();if(!t)throw lo.create("no-app",{appName:e});return t}function co(e,t,n){var i;let s=(i=z8[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${t}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yr.warn(u.join(" "));return}gc(new za(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="firebase-heartbeat-database",H8=1,Gh="firebase-heartbeat-store";let hv=null;function KD(){return hv||(hv=o8(F8,H8,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Gh)}catch(n){console.warn(n)}}}}).catch(e=>{throw lo.create("idb-open",{originalErrorMessage:e.message})})),hv}async function q8(e){try{const n=(await KD()).transaction(Gh),i=await n.objectStore(Gh).get(ZD(e));return await n.done,i}catch(t){if(t instanceof Tr)yr.warn(t.message);else{const n=lo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yr.warn(n.message)}}}async function wx(e,t){try{const i=(await KD()).transaction(Gh,"readwrite");await i.objectStore(Gh).put(t,ZD(e)),await i.done}catch(n){if(n instanceof Tr)yr.warn(n.message);else{const i=lo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(i.message)}}}function ZD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=1024,G8=30;class W8{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z8(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ex();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>G8){const l=Q8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){yr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ex(),{heartbeatsToSend:i,unsentEntries:s}=K8(this._heartbeatsCache.heartbeats),o=mm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return yr.warn(n),""}}}function Ex(){return new Date().toISOString().substring(0,10)}function K8(e,t=$8){const n=[];let i=e.slice();for(const s of e){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),Ax(n)>t){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ax(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Z8{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nz()?Vz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return wx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return wx(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Ax(e){return mm(JSON.stringify({version:2,heartbeats:e})).length}function Q8(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(e){gc(new za("platform-logger",t=>new c8(t),"PRIVATE")),gc(new za("heartbeat",t=>new W8(t),"PRIVATE")),co(f0,Tx,e),co(f0,Tx,"esm2017"),co("fire-js","")}Y8("");function Kb(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function QD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X8=QD,YD=new yf("auth","Firebase",QD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new $b("@firebase/auth");function J8(e,...t){ym.logLevel<=Ht.WARN&&ym.warn(`Auth (${Dc}): ${e}`,...t)}function jp(e,...t){ym.logLevel<=Ht.ERROR&&ym.error(`Auth (${Dc}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(e,...t){throw Qb(e,...t)}function $i(e,...t){return Qb(e,...t)}function Zb(e,t,n){const i=Object.assign(Object.assign({},X8()),{[t]:n});return new yf("auth","Firebase",i).create(t,{appName:e.name})}function Ia(e){return Zb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t7(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&Rs(e,"argument-error"),Zb(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qb(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return YD.create(e,...t)}function Mt(e,t,...n){if(!e)throw Qb(t,...n)}function hr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jp(t),new Error(t)}function _r(e,t){e||hr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function e7(){return xx()==="http:"||xx()==="https:"}function xx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e7()||Mz()||"connection"in navigator)?navigator.onLine:!0}function i7(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,n){this.shortDelay=t,this.longDelay=n,_r(n>t,"Short delay should be less than long delay!"),this.isMobile=Rz()||Oz()}get(){return n7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(e,t){_r(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o7=new vf(3e4,6e4);function Xb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Mc(e,t,n,i,s={}){return JD(e,s,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=_f(Object.assign({key:e.config.apiKey},l)).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const f=Object.assign({method:t,headers:h},o);return Dz()||(f.referrerPolicy="no-referrer"),e.emulatorConfig&&Ic(e.emulatorConfig.host)&&(f.credentials="include"),XD.fetch()(await tM(e,e.config.apiHost,n,u),f)})}async function JD(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},s7),t);try{const s=new l7(e),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw hp(e,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw hp(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw hp(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw hp(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Zb(e,p,f);Rs(e,p)}}catch(s){if(s instanceof Tr)throw s;Rs(e,"network-request-failed",{message:String(s)})}}async function a7(e,t,n,i,s={}){const o=await Mc(e,t,n,i,s);return"mfaPendingCredential"in o&&Rs(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function tM(e,t,n,i){const s=`${t}${n}?${i}`,o=e,l=o.config.emulator?Yb(e.config,s):`${e.config.apiScheme}://${s}`;return r7.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class l7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i($i(this.auth,"network-request-failed")),o7.get())})}}function hp(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=$i(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(e,t){return Mc(e,"POST","/v1/accounts:delete",t)}async function _m(e,t){return Mc(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function u7(e,t=!1){const n=Ki(e),i=await n.getIdToken(t),s=Jb(i);Mt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Th(fv(s.auth_time)),issuedAtTime:Th(fv(s.iat)),expirationTime:Th(fv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function fv(e){return Number(e)*1e3}function Jb(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return jp("JWT malformed, contained fewer than 3 sections"),null;try{const s=zD(n);return s?JSON.parse(s):(jp("Failed to decode base64 JWT payload"),null)}catch(s){return jp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Cx(e){const t=Jb(e);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Tr&&h7(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function h7({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(e){var t;const n=e.auth,i=await e.getIdToken(),s=await Wh(e,_m(n,{idToken:i}));Mt(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?eM(o.providerUserInfo):[],u=p7(e.providerData,l),h=e.isAnonymous,f=!(e.email&&o.passwordHash)&&!(u!=null&&u.length),p=h?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new g0(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function d7(e){const t=Ki(e);await vm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function p7(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function eM(e){return e.map(t=>{var{providerId:n}=t,i=Kb(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m7(e,t){const n=await JD(e,{},async()=>{const i=_f({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=e.config,l=await tM(e,s,"/v1/token",`key=${o}`),u=await e._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return e.emulatorConfig&&Ic(e.emulatorConfig.host)&&(h.credentials="include"),XD.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g7(e,t){return Mc(e,"POST","/v2/accounts:revokeToken",Xb(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Cx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Mt(t.length!==0,"internal-error");const n=Cx(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await m7(t,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new oc;return i&&(Mt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Mt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),o&&(Mt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oc,this.toJSON())}_performRefresh(){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(e,t){Mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Bi{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,o=Kb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new g0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Wh(this,this.stsTokenManager.getToken(this.auth,t));return Mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return u7(this,t)}reload(){return d7(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await vm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(Ia(this.auth));const t=await this.getIdToken();return await Wh(this,c7(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,o,l,u,h,f,p;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,E=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,j=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:k,emailVerified:N,isAnonymous:V,providerData:B,stsTokenManager:D}=n;Mt(k&&D,t,"internal-error");const A=oc.fromJSON(this.name,D);Mt(typeof k=="string",t,"internal-error"),Yr(y,t.name),Yr(_,t.name),Mt(typeof N=="boolean",t,"internal-error"),Mt(typeof V=="boolean",t,"internal-error"),Yr(b,t.name),Yr(S,t.name),Yr(C,t.name),Yr(E,t.name),Yr(I,t.name),Yr(j,t.name);const R=new Bi({uid:k,auth:t,email:_,emailVerified:N,displayName:y,isAnonymous:V,photoURL:S,phoneNumber:b,tenantId:C,stsTokenManager:A,createdAt:I,lastLoginAt:j});return B&&Array.isArray(B)&&(R.providerData=B.map(M=>Object.assign({},M))),E&&(R._redirectEventId=E),R}static async _fromIdTokenResponse(t,n,i=!1){const s=new oc;s.updateFromServerResponse(n);const o=new Bi({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await vm(o),o}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Mt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?eM(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new oc;u.updateFromIdToken(i);const h=new Bi({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new g0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Map;function fr(e){_r(e instanceof Function,"Expected a class definition");let t=Rx.get(e);return t?(_r(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rx.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nM.type="NONE";const Ix=nM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(e,t,n){return`firebase:${e}:${t}:${n}`}class ac{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Bp(this.userKey,s.apiKey,o),this.fullPersistenceKey=Bp("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await _m(this.auth,{idToken:t}).catch(()=>{});return n?Bi._fromGetAccountInfoResponse(this.auth,n,t):null}return Bi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new ac(fr(Ix),t,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||fr(Ix);const l=Bp(i,t.config.apiKey,t.name);let u=null;for(const f of n)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await _m(t,{idToken:p}).catch(()=>{});if(!_)break;y=await Bi._fromGetAccountInfoResponse(t,_,p)}else y=Bi._fromJSON(t,p);f!==o&&(u=y),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new ac(o,t,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new ac(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(oM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lM(t))return"Blackberry";if(cM(t))return"Webos";if(sM(t))return"Safari";if((t.includes("chrome/")||rM(t))&&!t.includes("edge/"))return"Chrome";if(aM(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function iM(e=Mn()){return/firefox\//i.test(e)}function sM(e=Mn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rM(e=Mn()){return/crios\//i.test(e)}function oM(e=Mn()){return/iemobile/i.test(e)}function aM(e=Mn()){return/android/i.test(e)}function lM(e=Mn()){return/blackberry/i.test(e)}function cM(e=Mn()){return/webos/i.test(e)}function tT(e=Mn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function y7(e=Mn()){var t;return tT(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _7(){return Pz()&&document.documentMode===10}function uM(e=Mn()){return tT(e)||aM(e)||cM(e)||lM(e)||/windows phone/i.test(e)||oM(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(e,t=[]){let n;switch(e){case"Browser":n=Dx(Mn());break;case"Worker":n=`${Dx(Mn())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=o=>new Promise((l,u)=>{try{const h=t(o);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(e,t={}){return Mc(e,"GET","/v2/passwordPolicy",Xb(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=6;class S7{constructor(t){var n,i,s,o;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:T7,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mx(this),this.idTokenSubscription=new Mx(this),this.beforeStateQueue=new v7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await ac.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await _m(this,{idToken:t}),i=await Bi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ji(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await vm(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=i7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ji(this.app))return Promise.reject(Ia(this));const n=t?Ki(t):null;return n&&Mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(Ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ji(this.app)?Promise.reject(Ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await b7(this),n=new S7(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new yf("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await g7(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&fr(t)||this._popupRedirectResolver;Mt(n,this,"argument-error"),this.redirectPersistenceManager=await ac.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;if(ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&J8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rg(e){return Ki(e)}class Mx{constructor(t){this.auth=t,this.observer=null,this.addObserver=Bz(n=>this.observer=n)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E7(e){eT=e}function A7(e){return eT.loadJS(e)}function x7(){return eT.gapiScript}function C7(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(e,t){const n=Wb(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(La(o,t??{}))return s;Rs(s,"already-initialized")}return n.initialize({options:t})}function I7(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(fr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function D7(e,t,n){const i=rg(e);Mt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,o=fM(t),{host:l,port:u}=M7(t),h=u===null?"":`:${u}`,f={url:`${o}//${l}${h}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Mt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Mt(La(f,i.config.emulator)&&La(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Ic(l)?(FD(`${o}//${l}${h}`),HD("Auth",!0)):O7()}function fM(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function M7(e){const t=fM(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:Ox(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:Ox(l)}}}function Ox(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function O7(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(t){return hr("not implemented")}_linkToIdToken(t,n){return hr("not implemented")}_getReauthenticationResolver(t){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(e,t){return a7(e,"POST","/v1/accounts:signInWithIdp",Xb(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7="http://localhost";class Ua extends dM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,o=Kb(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Ua(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return lc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,lc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,lc(t,n)}buildRequest(){const t={requestUri:P7,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=_f(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends nT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends bf{constructor(){super("facebook.com")}static credential(t){return Ua._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return to.credentialFromTaggedObject(t)}static credentialFromError(t){return to.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return to.credential(t.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends bf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ua._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return ur.credential(n,i)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends bf{constructor(){super("github.com")}static credential(t){return Ua._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return eo.credentialFromTaggedObject(t)}static credentialFromError(t){return eo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return eo.credential(t.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends bf{constructor(){super("twitter.com")}static credential(t,n){return Ua._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return no.credentialFromTaggedObject(t)}static credentialFromError(t){return no.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return no.credential(n,i)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const o=await Bi._fromIdTokenResponse(t,i,s),l=Px(i);return new yc({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=Px(i);return new yc({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function Px(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends Tr{constructor(t,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,bm.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new bm(t,n,i,s)}}function pM(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bm._fromErrorAndOperation(e,o,t,i):o})}async function k7(e,t,n=!1){const i=await Wh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return yc._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N7(e,t,n=!1){const{auth:i}=e;if(ji(i.app))return Promise.reject(Ia(i));const s="reauthenticate";try{const o=await Wh(e,pM(i,s,t,e),n);Mt(o.idToken,i,"internal-error");const l=Jb(o.idToken);Mt(l,i,"internal-error");const{sub:u}=l;return Mt(e.uid===u,i,"user-mismatch"),yc._forOperation(e,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rs(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V7(e,t,n=!1){if(ji(e.app))return Promise.reject(Ia(e));const i="signIn",s=await pM(e,i,t),o=await yc._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(o.user),o}function L7(e,t,n,i){return Ki(e).onIdTokenChanged(t,n,i)}function z7(e,t,n){return Ki(e).beforeAuthStateChanged(t,n)}const Tm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tm,"1"),this.storage.removeItem(Tm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=1e3,j7=10;class gM extends mM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);_7()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,j7):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},U7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}gM.type="LOCAL";const B7=gM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM extends mM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yM.type="SESSION";const _M=yM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new og(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await F7(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}og.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=iT("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return window}function q7(e){Ts().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function $7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G7(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function W7(){return vM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="firebaseLocalStorageDb",K7=1,Sm="firebaseLocalStorage",TM="fbase_key";class Tf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ag(e,t){return e.transaction([Sm],t?"readwrite":"readonly").objectStore(Sm)}function Z7(){const e=indexedDB.deleteDatabase(bM);return new Tf(e).toPromise()}function y0(){const e=indexedDB.open(bM,K7);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Sm,{keyPath:TM})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Sm)?t(i):(i.close(),await Z7(),t(await y0()))})})}async function kx(e,t,n){const i=ag(e,!0).put({[TM]:t,value:n});return new Tf(i).toPromise()}async function Q7(e,t){const n=ag(e,!1).get(t),i=await new Tf(n).toPromise();return i===void 0?null:i.value}function Nx(e,t){const n=ag(e,!0).delete(t);return new Tf(n).toPromise()}const Y7=800,X7=3;class SM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>X7)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=og._getInstance(W7()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await $7(),!this.activeServiceWorker)return;this.sender=new H7(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||G7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await y0();return await kx(t,Tm,"1"),await Nx(t,Tm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>kx(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>Q7(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nx(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=ag(s,!1).getAll();return new Tf(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SM.type="LOCAL";const J7=SM;new vf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(e,t){return t?fr(t):(Mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends dM{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return lc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return lc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tU(e){return V7(e.auth,new sT(e),e.bypassAuthState)}function eU(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),N7(n,new sT(e),e.bypassAuthState)}async function nU(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),k7(n,new sT(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t,n,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tU;case"linkViaPopup":case"linkViaRedirect":return nU;case"reauthViaPopup":case"reauthViaRedirect":return eU;default:Rs(this.auth,"internal-error")}}resolve(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new vf(2e3,1e4);async function sU(e,t,n){if(ji(e.app))return Promise.reject($i(e,"operation-not-supported-in-this-environment"));const i=rg(e);t7(e,t,nT);const s=wM(i,n);return new wa(i,"signInViaPopup",t,s).executeNotNull()}class wa extends EM{constructor(t,n,i,s,o){super(t,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const t=iT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iU.get())};t()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="pendingRedirect",Fp=new Map;class oU extends EM{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Fp.get(this.auth._key());if(!t){try{const i=await aU(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Fp.set(this.auth._key(),t)}return this.bypassAuthState||Fp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aU(e,t){const n=uU(t),i=cU(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function lU(e,t){Fp.set(e._key(),t)}function cU(e){return fr(e._redirectPersistence)}function uU(e){return Bp(rU,e.config.apiKey,e.name)}async function hU(e,t,n=!1){if(ji(e.app))return Promise.reject(Ia(e));const i=rg(e),s=wM(i,t),l=await new oU(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=10*60*1e3;class dU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!AM(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError($i(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vx(t))}saveEventToCache(t){this.cachedEventUids.add(Vx(t)),this.lastProcessedEventTime=Date.now()}}function Vx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function AM({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AM(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(e,t={}){return Mc(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yU=/^https?/;async function _U(e){if(e.config.emulator)return;const{authorizedDomains:t}=await mU(e);for(const n of t)try{if(vU(n))return}catch{}Rs(e,"unauthorized-domain")}function vU(e){const t=m0(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!yU.test(n))return!1;if(gU.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new vf(3e4,6e4);function Lx(){const e=Ts().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function TU(e){return new Promise((t,n)=>{var i,s,o;function l(){Lx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lx(),n($i(e,"network-request-failed"))},timeout:bU.get()})}if(!((s=(i=Ts().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((o=Ts().gapi)===null||o===void 0)&&o.load)l();else{const u=C7("iframefcb");return Ts()[u]=()=>{gapi.load?l():n($i(e,"network-request-failed"))},A7(`${x7()}?onload=${u}`).catch(h=>n(h))}}).catch(t=>{throw Hp=null,t})}let Hp=null;function SU(e){return Hp=Hp||TU(e),Hp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new vf(5e3,15e3),EU="__/auth/iframe",AU="emulator/auth/iframe",xU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RU(e){const t=e.config;Mt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Yb(t,AU):`https://${e.config.authDomain}/${EU}`,i={apiKey:t.apiKey,appName:e.name,v:Dc},s=CU.get(e.config.apiHost);s&&(i.eid=s);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${_f(i).slice(1)}`}async function IU(e){const t=await SU(e),n=Ts().gapi;return Mt(n,e,"internal-error"),t.open({where:document.body,url:RU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xU,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=$i(e,"network-request-failed"),u=Ts().setTimeout(()=>{o(l)},wU.get());function h(){Ts().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MU=500,OU=600,PU="_blank",kU="http://localhost";class zx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NU(e,t,n,i=MU,s=OU){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},DU),{width:i.toString(),height:s.toString(),top:o,left:l}),f=Mn().toLowerCase();n&&(u=rM(f)?PU:n),iM(f)&&(t=t||kU,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[b,S])=>`${_}${b}=${S},`,"");if(y7(f)&&u!=="_self")return VU(t||"",u),new zx(null);const y=window.open(t||"",u,p);Mt(y,e,"popup-blocked");try{y.focus()}catch{}return new zx(y)}function VU(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="__/auth/handler",zU="emulator/auth/handler",UU=encodeURIComponent("fac");async function Ux(e,t,n,i,s,o){Mt(e.config.authDomain,e,"auth-domain-config-required"),Mt(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Dc,eventId:s};if(t instanceof nT){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",jz(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof bf){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await e._getAppCheckToken(),f=h?`#${UU}=${encodeURIComponent(h)}`:"";return`${jU(e)}?${_f(u).slice(1)}${f}`}function jU({config:e}){return e.emulator?Yb(e,zU):`https://${e.authDomain}/${LU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="webStorageSupport";class BU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_M,this._completeRedirectFn=hU,this._overrideRedirectResult=lU}async _openPopup(t,n,i,s){var o;_r((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Ux(t,n,i,m0(),s);return NU(t,l,iT())}async _openRedirect(t,n,i,s){await this._originValidation(t);const o=await Ux(t,n,i,m0(),s);return q7(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(_r(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await IU(t),i=new dU(t);return n.register("authEvent",s=>(Mt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(dv,{type:dv},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[dv];l!==void 0&&n(!!l),Rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_U(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return uM()||sM()||tT()}}const FU=BU;var jx="@firebase/auth",Bx="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $U(e){gc(new za("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Mt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hM(e)},f=new w7(i,s,o,h);return I7(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),gc(new za("auth-internal",t=>{const n=rg(t.getProvider("auth").getImmediate());return(i=>new HU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(jx,Bx,qU(e)),co(jx,Bx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=5*60,WU=BD("authIdTokenMaxAge")||GU;let Fx=null;const KU=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>WU)return;const s=n==null?void 0:n.token;Fx!==s&&(Fx=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ZU(e=WD()){const t=Wb(e,"auth");if(t.isInitialized())return t.getImmediate();const n=R7(e,{popupRedirectResolver:FU,persistence:[J7,B7,_M]}),i=BD("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=KU(o.toString());z7(n,l,()=>l(n.currentUser)),L7(n,u=>l(u))}}const s=UD("auth");return s&&D7(n,`http://${s}`),n}function QU(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}E7({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const o=$i("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",QU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$U("Browser");var YU="firebase",XU="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(YU,XU,"app");var Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,xM;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,A){function R(){}R.prototype=A.prototype,D.D=A.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(M,O,L){for(var P=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)P[Z-2]=arguments[Z];return A.prototype[O].apply(M,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,A,R){R||(R=0);var M=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)M[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;16>O;++O)M[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=D.g[0],R=D.g[1],O=D.g[2];var L=D.g[3],P=A+(L^R&(O^L))+M[0]+3614090360&4294967295;A=R+(P<<7&4294967295|P>>>25),P=L+(O^A&(R^O))+M[1]+3905402710&4294967295,L=A+(P<<12&4294967295|P>>>20),P=O+(R^L&(A^R))+M[2]+606105819&4294967295,O=L+(P<<17&4294967295|P>>>15),P=R+(A^O&(L^A))+M[3]+3250441966&4294967295,R=O+(P<<22&4294967295|P>>>10),P=A+(L^R&(O^L))+M[4]+4118548399&4294967295,A=R+(P<<7&4294967295|P>>>25),P=L+(O^A&(R^O))+M[5]+1200080426&4294967295,L=A+(P<<12&4294967295|P>>>20),P=O+(R^L&(A^R))+M[6]+2821735955&4294967295,O=L+(P<<17&4294967295|P>>>15),P=R+(A^O&(L^A))+M[7]+4249261313&4294967295,R=O+(P<<22&4294967295|P>>>10),P=A+(L^R&(O^L))+M[8]+1770035416&4294967295,A=R+(P<<7&4294967295|P>>>25),P=L+(O^A&(R^O))+M[9]+2336552879&4294967295,L=A+(P<<12&4294967295|P>>>20),P=O+(R^L&(A^R))+M[10]+4294925233&4294967295,O=L+(P<<17&4294967295|P>>>15),P=R+(A^O&(L^A))+M[11]+2304563134&4294967295,R=O+(P<<22&4294967295|P>>>10),P=A+(L^R&(O^L))+M[12]+1804603682&4294967295,A=R+(P<<7&4294967295|P>>>25),P=L+(O^A&(R^O))+M[13]+4254626195&4294967295,L=A+(P<<12&4294967295|P>>>20),P=O+(R^L&(A^R))+M[14]+2792965006&4294967295,O=L+(P<<17&4294967295|P>>>15),P=R+(A^O&(L^A))+M[15]+1236535329&4294967295,R=O+(P<<22&4294967295|P>>>10),P=A+(O^L&(R^O))+M[1]+4129170786&4294967295,A=R+(P<<5&4294967295|P>>>27),P=L+(R^O&(A^R))+M[6]+3225465664&4294967295,L=A+(P<<9&4294967295|P>>>23),P=O+(A^R&(L^A))+M[11]+643717713&4294967295,O=L+(P<<14&4294967295|P>>>18),P=R+(L^A&(O^L))+M[0]+3921069994&4294967295,R=O+(P<<20&4294967295|P>>>12),P=A+(O^L&(R^O))+M[5]+3593408605&4294967295,A=R+(P<<5&4294967295|P>>>27),P=L+(R^O&(A^R))+M[10]+38016083&4294967295,L=A+(P<<9&4294967295|P>>>23),P=O+(A^R&(L^A))+M[15]+3634488961&4294967295,O=L+(P<<14&4294967295|P>>>18),P=R+(L^A&(O^L))+M[4]+3889429448&4294967295,R=O+(P<<20&4294967295|P>>>12),P=A+(O^L&(R^O))+M[9]+568446438&4294967295,A=R+(P<<5&4294967295|P>>>27),P=L+(R^O&(A^R))+M[14]+3275163606&4294967295,L=A+(P<<9&4294967295|P>>>23),P=O+(A^R&(L^A))+M[3]+4107603335&4294967295,O=L+(P<<14&4294967295|P>>>18),P=R+(L^A&(O^L))+M[8]+1163531501&4294967295,R=O+(P<<20&4294967295|P>>>12),P=A+(O^L&(R^O))+M[13]+2850285829&4294967295,A=R+(P<<5&4294967295|P>>>27),P=L+(R^O&(A^R))+M[2]+4243563512&4294967295,L=A+(P<<9&4294967295|P>>>23),P=O+(A^R&(L^A))+M[7]+1735328473&4294967295,O=L+(P<<14&4294967295|P>>>18),P=R+(L^A&(O^L))+M[12]+2368359562&4294967295,R=O+(P<<20&4294967295|P>>>12),P=A+(R^O^L)+M[5]+4294588738&4294967295,A=R+(P<<4&4294967295|P>>>28),P=L+(A^R^O)+M[8]+2272392833&4294967295,L=A+(P<<11&4294967295|P>>>21),P=O+(L^A^R)+M[11]+1839030562&4294967295,O=L+(P<<16&4294967295|P>>>16),P=R+(O^L^A)+M[14]+4259657740&4294967295,R=O+(P<<23&4294967295|P>>>9),P=A+(R^O^L)+M[1]+2763975236&4294967295,A=R+(P<<4&4294967295|P>>>28),P=L+(A^R^O)+M[4]+1272893353&4294967295,L=A+(P<<11&4294967295|P>>>21),P=O+(L^A^R)+M[7]+4139469664&4294967295,O=L+(P<<16&4294967295|P>>>16),P=R+(O^L^A)+M[10]+3200236656&4294967295,R=O+(P<<23&4294967295|P>>>9),P=A+(R^O^L)+M[13]+681279174&4294967295,A=R+(P<<4&4294967295|P>>>28),P=L+(A^R^O)+M[0]+3936430074&4294967295,L=A+(P<<11&4294967295|P>>>21),P=O+(L^A^R)+M[3]+3572445317&4294967295,O=L+(P<<16&4294967295|P>>>16),P=R+(O^L^A)+M[6]+76029189&4294967295,R=O+(P<<23&4294967295|P>>>9),P=A+(R^O^L)+M[9]+3654602809&4294967295,A=R+(P<<4&4294967295|P>>>28),P=L+(A^R^O)+M[12]+3873151461&4294967295,L=A+(P<<11&4294967295|P>>>21),P=O+(L^A^R)+M[15]+530742520&4294967295,O=L+(P<<16&4294967295|P>>>16),P=R+(O^L^A)+M[2]+3299628645&4294967295,R=O+(P<<23&4294967295|P>>>9),P=A+(O^(R|~L))+M[0]+4096336452&4294967295,A=R+(P<<6&4294967295|P>>>26),P=L+(R^(A|~O))+M[7]+1126891415&4294967295,L=A+(P<<10&4294967295|P>>>22),P=O+(A^(L|~R))+M[14]+2878612391&4294967295,O=L+(P<<15&4294967295|P>>>17),P=R+(L^(O|~A))+M[5]+4237533241&4294967295,R=O+(P<<21&4294967295|P>>>11),P=A+(O^(R|~L))+M[12]+1700485571&4294967295,A=R+(P<<6&4294967295|P>>>26),P=L+(R^(A|~O))+M[3]+2399980690&4294967295,L=A+(P<<10&4294967295|P>>>22),P=O+(A^(L|~R))+M[10]+4293915773&4294967295,O=L+(P<<15&4294967295|P>>>17),P=R+(L^(O|~A))+M[1]+2240044497&4294967295,R=O+(P<<21&4294967295|P>>>11),P=A+(O^(R|~L))+M[8]+1873313359&4294967295,A=R+(P<<6&4294967295|P>>>26),P=L+(R^(A|~O))+M[15]+4264355552&4294967295,L=A+(P<<10&4294967295|P>>>22),P=O+(A^(L|~R))+M[6]+2734768916&4294967295,O=L+(P<<15&4294967295|P>>>17),P=R+(L^(O|~A))+M[13]+1309151649&4294967295,R=O+(P<<21&4294967295|P>>>11),P=A+(O^(R|~L))+M[4]+4149444226&4294967295,A=R+(P<<6&4294967295|P>>>26),P=L+(R^(A|~O))+M[11]+3174756917&4294967295,L=A+(P<<10&4294967295|P>>>22),P=O+(A^(L|~R))+M[2]+718787259&4294967295,O=L+(P<<15&4294967295|P>>>17),P=R+(L^(O|~A))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+L&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var R=A-this.blockSize,M=this.B,O=this.h,L=0;L<A;){if(O==0)for(;L<=R;)s(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<A;)if(M[O++]=D.charCodeAt(L++),O==this.blockSize){s(this,M),O=0;break}}else for(;L<A;)if(M[O++]=D[L++],O==this.blockSize){s(this,M),O=0;break}}this.h=O,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var R=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=R&255,R/=256;for(this.u(D),D=Array(16),A=R=0;4>A;++A)for(var M=0;32>M;M+=8)D[R++]=this.g[A]>>>M&255;return D};function o(D,A){var R=u;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=A(D)}function l(D,A){this.h=A;for(var R=[],M=!0,O=D.length-1;0<=O;O--){var L=D[O]|0;M&&L==A||(R[O]=L,M=!1)}this.g=R}var u={};function h(D){return-128<=D&&128>D?o(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return E(f(-D));for(var A=[],R=1,M=0;D>=R;M++)A[M]=D/R|0,R*=4294967296;return new l(A,0)}function p(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return E(p(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(A,8)),M=y,O=0;O<D.length;O+=8){var L=Math.min(8,D.length-O),P=parseInt(D.substring(O,O+L),A);8>L?(L=f(Math.pow(A,L)),M=M.j(L).add(f(P))):(M=M.j(R),M=M.add(f(P)))}return M}var y=h(0),_=h(1),b=h(16777216);e=l.prototype,e.m=function(){if(C(this))return-E(this).m();for(var D=0,A=1,R=0;R<this.g.length;R++){var M=this.i(R);D+=(0<=M?M:4294967296+M)*A,A*=4294967296}return D},e.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(C(this))return"-"+E(this).toString(D);for(var A=f(Math.pow(D,6)),R=this,M="";;){var O=N(R,A).g;R=I(R,O.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=O,S(R))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},e.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function C(D){return D.h==-1}e.l=function(D){return D=I(this,D),C(D)?-1:S(D)?0:1};function E(D){for(var A=D.g.length,R=[],M=0;M<A;M++)R[M]=~D.g[M];return new l(R,~D.h).add(_)}e.abs=function(){return C(this)?E(this):this},e.add=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],M=0,O=0;O<=A;O++){var L=M+(this.i(O)&65535)+(D.i(O)&65535),P=(L>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);M=P>>>16,L&=65535,P&=65535,R[O]=P<<16|L}return new l(R,R[R.length-1]&-2147483648?-1:0)};function I(D,A){return D.add(E(A))}e.j=function(D){if(S(this)||S(D))return y;if(C(this))return C(D)?E(this).j(E(D)):E(E(this).j(D));if(C(D))return E(this.j(E(D)));if(0>this.l(b)&&0>D.l(b))return f(this.m()*D.m());for(var A=this.g.length+D.g.length,R=[],M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<D.g.length;O++){var L=this.i(M)>>>16,P=this.i(M)&65535,Z=D.i(O)>>>16,rt=D.i(O)&65535;R[2*M+2*O]+=P*rt,j(R,2*M+2*O),R[2*M+2*O+1]+=L*rt,j(R,2*M+2*O+1),R[2*M+2*O+1]+=P*Z,j(R,2*M+2*O+1),R[2*M+2*O+2]+=L*Z,j(R,2*M+2*O+2)}for(M=0;M<A;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=A;M<2*A;M++)R[M]=0;return new l(R,0)};function j(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function k(D,A){this.g=D,this.h=A}function N(D,A){if(S(A))throw Error("division by zero");if(S(D))return new k(y,y);if(C(D))return A=N(E(D),A),new k(E(A.g),E(A.h));if(C(A))return A=N(D,E(A)),new k(E(A.g),A.h);if(30<D.g.length){if(C(D)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var R=_,M=A;0>=M.l(D);)R=V(R),M=V(M);var O=B(R,1),L=B(M,1);for(M=B(M,2),R=B(R,2);!S(M);){var P=L.add(M);0>=P.l(D)&&(O=O.add(R),L=P),M=B(M,1),R=B(R,1)}return A=I(D,O.j(A)),new k(O,A)}for(O=y;0<=D.l(A);){for(R=Math.max(1,Math.floor(D.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=f(R),P=L.j(A);C(P)||0<P.l(D);)R-=M,L=f(R),P=L.j(A);S(L)&&(L=_),O=O.add(L),D=I(D,P)}return new k(O,D)}e.A=function(D){return N(this,D).h},e.and=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)&D.i(M);return new l(R,this.h&D.h)},e.or=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)|D.i(M);return new l(R,this.h|D.h)},e.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),R=[],M=0;M<A;M++)R[M]=this.i(M)^D.i(M);return new l(R,this.h^D.h)};function V(D){for(var A=D.g.length+1,R=[],M=0;M<A;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new l(R,D.h)}function B(D,A){var R=A>>5;A%=32;for(var M=D.g.length-R,O=[],L=0;L<M;L++)O[L]=0<A?D.i(L+R)>>>A|D.i(L+R+1)<<32-A:D.i(L+R);return new l(O,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,xM=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,uo=l}).apply(typeof Hx<"u"?Hx:typeof self<"u"?self:typeof window<"u"?window:{});var fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CM,sh,RM,qp,_0,IM,DM,MM;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,w){return m==Array.prototype||m==Object.prototype||(m[T]=w.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof fp=="object"&&fp];for(var T=0;T<m.length;++T){var w=m[T];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function s(m,T){if(T)t:{var w=i;m=m.split(".");for(var U=0;U<m.length-1;U++){var K=m[U];if(!(K in w))break t;w=w[K]}m=m[m.length-1],U=w[m],T=T(U),T!=U&&T!=null&&t(w,m,{configurable:!0,writable:!0,value:T})}}function o(m,T){m instanceof String&&(m+="");var w=0,U=!1,K={next:function(){if(!U&&w<m.length){var it=w++;return{value:T(it,m[it]),done:!1}}return U=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(m){return m||function(){return o(this,function(T,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function f(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function p(m,T,w){return m.call.apply(m.bind,arguments)}function y(m,T,w){if(!m)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,U),m.apply(T,K)}}return function(){return m.apply(T,arguments)}}function _(m,T,w){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function b(m,T){var w=Array.prototype.slice.call(arguments,1);return function(){var U=w.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function S(m,T){function w(){}w.prototype=T.prototype,m.aa=T.prototype,m.prototype=new w,m.prototype.constructor=m,m.Qb=function(U,K,it){for(var yt=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)yt[Gt-2]=arguments[Gt];return T.prototype[K].apply(U,yt)}}function C(m){const T=m.length;if(0<T){const w=Array(T);for(let U=0;U<T;U++)w[U]=m[U];return w}return[]}function E(m,T){for(let w=1;w<arguments.length;w++){const U=arguments[w];if(h(U)){const K=m.length||0,it=U.length||0;m.length=K+it;for(let yt=0;yt<it;yt++)m[K+yt]=U[yt]}else m.push(U)}}class I{constructor(T,w){this.i=T,this.j=w,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function j(m){return/^[\s\xa0]*$/.test(m)}function k(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function N(m){return N[" "](m),m}N[" "]=function(){};var V=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function B(m,T,w){for(const U in m)T.call(w,m[U],U,m)}function D(m,T){for(const w in m)T.call(void 0,m[w],w,m)}function A(m){const T={};for(const w in m)T[w]=m[w];return T}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,T){let w,U;for(let K=1;K<arguments.length;K++){U=arguments[K];for(w in U)m[w]=U[w];for(let it=0;it<R.length;it++)w=R[it],Object.prototype.hasOwnProperty.call(U,w)&&(m[w]=U[w])}}function O(m){var T=1;m=m.split(":");const w=[];for(;0<T&&m.length;)w.push(m.shift()),T--;return m.length&&w.push(m.join(":")),w}function L(m){u.setTimeout(()=>{throw m},0)}function P(){var m=dt;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class Z{constructor(){this.h=this.g=null}add(T,w){const U=rt.get();U.set(T,w),this.h?this.h.next=U:this.g=U,this.h=U}}var rt=new I(()=>new q,m=>m.reset());class q{constructor(){this.next=this.g=this.h=null}set(T,w){this.h=T,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let W,st=!1,dt=new Z,F=()=>{const m=u.Promise.resolve(void 0);W=()=>{m.then(et)}};var et=()=>{for(var m;m=P();){try{m.h.call(m.g)}catch(w){L(w)}var T=rt;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}st=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const w=()=>{};u.addEventListener("test",w,T),u.removeEventListener("test",w,T)}catch{}return m}();function mt(m,T){if(at.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var w=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(V){t:{try{N(T.nodeName);var K=!0;break t}catch{}K=!1}K||(T=null)}}else w=="mouseover"?T=m.fromElement:w=="mouseout"&&(T=m.toElement);this.relatedTarget=T,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:_t[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&mt.aa.h.call(this)}}S(mt,at);var _t={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function ze(m,T,w,U,K){this.listener=m,this.proxy=null,this.src=T,this.type=w,this.capture=!!U,this.ha=K,this.key=++Nt,this.da=this.fa=!1}function Yt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ft(m){this.src=m,this.g={},this.h=0}Ft.prototype.add=function(m,T,w,U,K){var it=m.toString();m=this.g[it],m||(m=this.g[it]=[],this.h++);var yt=jn(m,T,U,K);return-1<yt?(T=m[yt],w||(T.fa=!1)):(T=new ze(T,this.src,it,!!U,K),T.fa=w,m.push(T)),T};function be(m,T){var w=T.type;if(w in m.g){var U=m.g[w],K=Array.prototype.indexOf.call(U,T,void 0),it;(it=0<=K)&&Array.prototype.splice.call(U,K,1),it&&(Yt(T),m.g[w].length==0&&(delete m.g[w],m.h--))}}function jn(m,T,w,U){for(var K=0;K<m.length;++K){var it=m[K];if(!it.da&&it.listener==T&&it.capture==!!w&&it.ha==U)return K}return-1}var en="closure_lm_"+(1e6*Math.random()|0),ai={};function Pn(m,T,w,U,K){if(Array.isArray(T)){for(var it=0;it<T.length;it++)Pn(m,T[it],w,U,K);return null}return w=Mf(w),m&&m[xt]?m.K(T,w,f(U)?!!U.capture:!1,K):De(m,T,w,!1,U,K)}function De(m,T,w,U,K,it){if(!T)throw Error("Invalid event type");var yt=f(K)?!!K.capture:!!K,Gt=Xa(m);if(Gt||(m[en]=Gt=new Ft(m)),w=Gt.add(T,w,U,yt,it),w.proxy)return w;if(U=Os(),w.proxy=U,U.src=m,U.listener=w,m.addEventListener)gt||(K=yt),K===void 0&&(K=!1),m.addEventListener(T.toString(),U,K);else if(m.attachEvent)m.attachEvent(Zi(T.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Os(){function m(w){return T.call(m.src,m.listener,w)}const T=zc;return m}function Ps(m,T,w,U,K){if(Array.isArray(T))for(var it=0;it<T.length;it++)Ps(m,T[it],w,U,K);else U=f(U)?!!U.capture:!!U,w=Mf(w),m&&m[xt]?(m=m.i,T=String(T).toString(),T in m.g&&(it=m.g[T],w=jn(it,w,U,K),-1<w&&(Yt(it[w]),Array.prototype.splice.call(it,w,1),it.length==0&&(delete m.g[T],m.h--)))):m&&(m=Xa(m))&&(T=m.g[T.toString()],m=-1,T&&(m=jn(T,w,U,K)),(w=-1<m?T[m]:null)&&Sr(w))}function Sr(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[xt])be(T.i,m);else{var w=m.type,U=m.proxy;T.removeEventListener?T.removeEventListener(w,U,m.capture):T.detachEvent?T.detachEvent(Zi(w),U):T.addListener&&T.removeListener&&T.removeListener(U),(w=Xa(T))?(be(w,m),w.h==0&&(w.src=null,T[en]=null)):Yt(m)}}}function Zi(m){return m in ai?ai[m]:ai[m]="on"+m}function zc(m,T){if(m.da)m=!0;else{T=new mt(T,this);var w=m.listener,U=m.ha||m.src;m.fa&&Sr(m),m=w.call(U,T)}return m}function Xa(m){return m=m[en],m instanceof Ft?m:null}var Uc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mf(m){return typeof m=="function"?m:(m[Uc]||(m[Uc]=function(T){return m.handleEvent(T)}),m[Uc])}function xe(){ct.call(this),this.i=new Ft(this),this.M=this,this.F=null}S(xe,ct),xe.prototype[xt]=!0,xe.prototype.removeEventListener=function(m,T,w,U){Ps(this,m,T,w,U)};function ne(m,T){var w,U=m.F;if(U)for(w=[];U;U=U.F)w.push(U);if(m=m.M,U=T.type||T,typeof T=="string")T=new at(T,m);else if(T instanceof at)T.target=T.target||m;else{var K=T;T=new at(U,m),M(T,K)}if(K=!0,w)for(var it=w.length-1;0<=it;it--){var yt=T.g=w[it];K=Yn(yt,U,!0,T)&&K}if(yt=T.g=m,K=Yn(yt,U,!0,T)&&K,K=Yn(yt,U,!1,T)&&K,w)for(it=0;it<w.length;it++)yt=T.g=w[it],K=Yn(yt,U,!1,T)&&K}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var w=m.g[T],U=0;U<w.length;U++)Yt(w[U]);delete m.g[T],m.h--}}this.F=null},xe.prototype.K=function(m,T,w,U){return this.i.add(String(m),T,!1,w,U)},xe.prototype.L=function(m,T,w,U){return this.i.add(String(m),T,!0,w,U)};function Yn(m,T,w,U){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var K=!0,it=0;it<T.length;++it){var yt=T[it];if(yt&&!yt.da&&yt.capture==w){var Gt=yt.listener,We=yt.ha||yt.src;yt.fa&&be(m.i,yt),K=Gt.call(We,U)!==!1&&K}}return K&&!U.defaultPrevented}function Tn(m,T,w){if(typeof m=="function")w&&(m=_(m,w));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(m,T||0)}function Of(m){m.g=Tn(()=>{m.g=null,m.i&&(m.i=!1,Of(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Og extends ct{constructor(T,w){super(),this.m=T,this.l=w,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Of(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mo(m){ct.call(this),this.h=m,this.g={}}S(Mo,ct);var Oo=[];function Po(m){B(m.g,function(T,w){this.g.hasOwnProperty(w)&&Sr(T)},m),m.g={}}Mo.prototype.N=function(){Mo.aa.N.call(this),Po(this)},Mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=u.JSON.stringify,Ja=u.JSON.parse,ko=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function jc(){}jc.prototype.h=null;function Bc(m){return m.h||(m.h=m.i())}function Fc(){}var ks={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ns(){at.call(this,"d")}S(Ns,at);function Hc(){at.call(this,"c")}S(Hc,at);var Qi={},qc=null;function wr(){return qc=qc||new xe}Qi.La="serverreachability";function tl(m){at.call(this,Qi.La,m)}S(tl,at);function Er(m){const T=wr();ne(T,new tl(T))}Qi.STAT_EVENT="statevent";function Pf(m,T){at.call(this,Qi.STAT_EVENT,m),this.stat=T}S(Pf,at);function ye(m){const T=wr();ne(T,new Pf(T,m))}Qi.Ma="timingevent";function Ge(m,T){at.call(this,Qi.Ma,m),this.size=T}S(Ge,at);function Ue(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},T)}function li(){this.g=!0}li.prototype.xa=function(){this.g=!1};function $c(m,T,w,U,K,it){m.info(function(){if(m.g)if(it)for(var yt="",Gt=it.split("&"),We=0;We<Gt.length;We++){var Wt=Gt[We].split("=");if(1<Wt.length){var sn=Wt[0];Wt=Wt[1];var Ke=sn.split("_");yt=2<=Ke.length&&Ke[1]=="type"?yt+(sn+"="+Wt+"&"):yt+(sn+"=redacted&")}}else yt=null;else yt=it;return"XMLHTTP REQ ("+U+") [attempt "+K+"]: "+T+`
`+w+`
`+yt})}function Pg(m,T,w,U,K,it,yt){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+K+"]: "+T+`
`+w+`
`+it+" "+yt})}function Ar(m,T,w,U){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+No(m,w)+(U?" "+U:"")})}function kf(m,T){m.info(function(){return"TIMEOUT: "+T})}li.prototype.info=function(){};function No(m,T){if(!m.g)return T;if(!T)return null;try{var w=JSON.parse(T);if(w){for(m=0;m<w.length;m++)if(Array.isArray(w[m])){var U=w[m];if(!(2>U.length)){var K=U[1];if(Array.isArray(K)&&!(1>K.length)){var it=K[0];if(it!="noop"&&it!="stop"&&it!="close")for(var yt=1;yt<K.length;yt++)K[yt]=""}}}}return Mi(w)}catch{return T}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yi;function Xi(){}S(Xi,jc),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},Yi=new Xi;function kn(m,T,w,U){this.j=m,this.i=T,this.l=w,this.R=U||1,this.U=new Mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}var Gc={},el={};function Oi(m,T,w){m.L=1,m.v=jo(Xn(T)),m.m=w,m.P=!0,Ls(m,null)}function Ls(m,T){m.F=Date.now(),Vo(m),m.A=Xn(m.v);var w=m.A,U=m.R;Array.isArray(U)||(U=[String(U)]),Xc(w.i,"t",U),m.C=0,w=m.j.J,m.h=new Me,m.g=Qf(m.j,w?T:null,!m.m),0<m.O&&(m.M=new Og(_(m.Y,m,m.g),m.O)),T=m.U,w=m.g,U=m.ca;var K="readystatechange";Array.isArray(K)||(K&&(Oo[0]=K.toString()),K=Oo);for(var it=0;it<K.length;it++){var yt=Pn(w,K[it],U||T.handleEvent,!1,T.h||T);if(!yt)break;T.g[yt.key]=yt}T=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),Er(),$c(m.i,m.u,m.A,m.l,m.R,m.m)}kn.prototype.ca=function(m){m=m.target;const T=this.M;T&&fi(m)==3?T.j():this.Y(m)},kn.prototype.Y=function(m){try{if(m==this.g)t:{const Ke=fi(this.g);var T=this.g.Ba();const $s=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||Ff(this.g)))){this.J||Ke!=4||T==7||(T==8||0>=$s?Er(3):Er(2)),Cr(this);var w=this.g.Z();this.X=w;e:if(Nf(this)){var U=Ff(this.g);m="";var K=U.length,it=fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),Ji(this);var yt="";break e}this.h.i=new u.TextDecoder}for(T=0;T<K;T++)this.h.h=!0,m+=this.h.i.decode(U[T],{stream:!(it&&T==K-1)});U.length=0,this.h.g+=m,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=w==200,Pg(this.i,this.u,this.A,this.l,this.R,Ke,w),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,We=this.g;if((Gt=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Gt)){var Wt=Gt;break e}}Wt=null}if(w=Wt)Ar(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lo(this,w);else{this.o=!1,this.s=3,ye(12),un(this),Ji(this);break t}}if(this.P){w=!0;let hn;for(;!this.J&&this.C<yt.length;)if(hn=Vf(this,yt),hn==el){Ke==4&&(this.s=4,ye(14),w=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Gc){this.s=4,ye(15),Ar(this.i,this.l,yt,"[Invalid Chunk]"),w=!1;break}else Ar(this.i,this.l,hn,null),Lo(this,hn);if(Nf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||yt.length!=0||this.h.h||(this.s=1,ye(16),w=!1),this.o=this.o&&w,!w)Ar(this.i,this.l,yt,"[Invalid Chunked Response]"),un(this),Ji(this);else if(0<yt.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),Ko(sn),sn.M=!0,ye(11))}}else Ar(this.i,this.l,yt,null),Lo(this,yt);Ke==4&&un(this),this.o&&!this.J&&(Ke==4?Wf(this.j,this):(this.o=!1,Vo(this)))}else zg(this.g),w==400&&0<yt.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),un(this),Ji(this)}}}catch{}finally{}};function Nf(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Vf(m,T){var w=m.C,U=T.indexOf(`
`,w);return U==-1?el:(w=Number(T.substring(w,U)),isNaN(w)?Gc:(U+=1,U+w>T.length?el:(T=T.slice(U,U+w),m.C=U+w,T)))}kn.prototype.cancel=function(){this.J=!0,un(this)};function Vo(m){m.S=Date.now()+m.I,Lf(m,m.I)}function Lf(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ue(_(m.ba,m),T)}function Cr(m){m.B&&(u.clearTimeout(m.B),m.B=null)}kn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(kf(this.i,this.A),this.L!=2&&(Er(),ye(17)),un(this),this.s=2,Ji(this)):Lf(this,this.S-m)};function Ji(m){m.j.G==0||m.J||Wf(m.j,m)}function un(m){Cr(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,Po(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function Lo(m,T){try{var w=m.j;if(w.G!=0&&(w.g==m||Wc(w.h,m))){if(!m.K&&Wc(w.h,m)&&w.G==3){try{var U=w.Da.g.parse(T)}catch{U=null}if(Array.isArray(U)&&U.length==3){var K=U;if(K[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<m.F)dl(w),hl(w);else break t;iu(w),ye(18)}}else w.za=K[1],0<w.za-w.T&&37500>K[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ue(_(w.Za,w),6e3));if(1>=il(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else qs(w,11)}else if((m.K||w.g==m)&&dl(w),!j(T))for(K=w.Da.g.parse(T),T=0;T<K.length;T++){let Wt=K[T];if(w.T=Wt[0],Wt=Wt[1],w.G==2)if(Wt[0]=="c"){w.K=Wt[1],w.ia=Wt[2];const sn=Wt[3];sn!=null&&(w.la=sn,w.j.info("VER="+w.la));const Ke=Wt[4];Ke!=null&&(w.Aa=Ke,w.j.info("SVER="+w.Aa));const $s=Wt[5];$s!=null&&typeof $s=="number"&&0<$s&&(U=1.5*$s,w.L=U,w.j.info("backChannelRequestTimeoutMs_="+U)),U=w;const hn=m.g;if(hn){const os=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var it=U.h;it.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(sl(it,it.h),it.h=null))}if(U.D){const ru=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ru&&(U.ya=ru,oe(U.I,U.D,ru))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-m.F,w.j.info("Handshake RTT: "+w.R+"ms")),U=w;var yt=m;if(U.qa=Zf(U,U.J?U.ia:null,U.W),yt.K){Nn(U.h,yt);var Gt=yt,We=U.L;We&&(Gt.I=We),Gt.B&&(Cr(Gt),Vo(Gt)),U.g=yt}else $f(U);0<w.i.length&&fl(w)}else Wt[0]!="stop"&&Wt[0]!="close"||qs(w,7);else w.G==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?qs(w,7):eu(w):Wt[0]!="noop"&&w.l&&w.l.ta(Wt),w.v=0)}}Er(4)}catch{}}var zf=class{constructor(m,T){this.g=m,this.map=T}};function zs(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function il(m){return m.h?1:m.g?m.g.size:0}function Wc(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function sl(m,T){m.g?m.g.add(T):m.h=T}function Nn(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}zs.prototype.cancel=function(){if(this.i=Kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Kc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const w of m.g.values())T=T.concat(w.D);return T}return C(m.i)}function kg(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var T=[],w=m.length,U=0;U<w;U++)T.push(m[U]);return T}T=[],w=0;for(U in m)T[w++]=m[U];return T}function rl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var T=[];m=m.length;for(var w=0;w<m;w++)T.push(w);return T}T=[],w=0;for(const U in m)T[w++]=U;return T}}}function Zc(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var w=rl(m),U=kg(m),K=U.length,it=0;it<K;it++)T.call(void 0,U[it],w&&w[it],m)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ng(m,T){if(m){m=m.split("&");for(var w=0;w<m.length;w++){var U=m[w].indexOf("="),K=null;if(0<=U){var it=m[w].substring(0,U);K=m[w].substring(U+1)}else it=m[w];T(it,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function je(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof je){this.h=m.h,Uo(this,m.j),this.o=m.o,this.g=m.g,Rr(this,m.s),this.l=m.l;var T=m.i,w=new js;w.i=T.i,T.g&&(w.g=new Map(T.g),w.h=T.h),Us(this,w),this.m=m.m}else m&&(T=String(m).match(zo))?(this.h=!1,Uo(this,T[1]||"",!0),this.o=ci(T[2]||""),this.g=ci(T[3]||"",!0),Rr(this,T[4]),this.l=ci(T[5]||"",!0),Us(this,T[6]||"",!0),this.m=ci(T[7]||"")):(this.h=!1,this.i=new js(null,this.h))}je.prototype.toString=function(){var m=[],T=this.j;T&&m.push(Bo(T,Qc,!0),":");var w=this.g;return(w||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Bo(T,Qc,!0),"@"),m.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&m.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&m.push("/"),m.push(Bo(w,w.charAt(0)=="/"?Vg:Yc,!0))),(w=this.i.toString())&&m.push("?",w),(w=this.m)&&m.push("#",Bo(w,ol)),m.join("")};function Xn(m){return new je(m)}function Uo(m,T,w){m.j=w?ci(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Rr(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function Us(m,T,w){T instanceof js?(m.i=T,jf(m.i,m.h)):(w||(T=Bo(T,Lg)),m.i=new js(T,m.h))}function oe(m,T,w){m.i.set(T,w)}function jo(m){return oe(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ci(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Bo(m,T,w){return typeof m=="string"?(m=encodeURI(m).replace(T,Uf),w&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Uf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Qc=/[#\/\?@]/g,Yc=/[#\?:]/g,Vg=/[#\?]/g,Lg=/[#\?@]/g,ol=/#/g;function js(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function ui(m){m.g||(m.g=new Map,m.h=0,m.i&&Ng(m.i,function(T,w){m.add(decodeURIComponent(T.replace(/\+/g," ")),w)}))}e=js.prototype,e.add=function(m,T){ui(this),this.i=null,m=ts(this,m);var w=this.g.get(m);return w||this.g.set(m,w=[]),w.push(T),this.h+=1,this};function Bs(m,T){ui(m),T=ts(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function Fs(m,T){return ui(m),T=ts(m,T),m.g.has(T)}e.forEach=function(m,T){ui(this),this.g.forEach(function(w,U){w.forEach(function(K){m.call(T,K,U,this)},this)},this)},e.na=function(){ui(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),w=[];for(let U=0;U<T.length;U++){const K=m[U];for(let it=0;it<K.length;it++)w.push(T[U])}return w},e.V=function(m){ui(this);let T=[];if(typeof m=="string")Fs(this,m)&&(T=T.concat(this.g.get(ts(this,m))));else{m=Array.from(this.g.values());for(let w=0;w<m.length;w++)T=T.concat(m[w])}return T},e.set=function(m,T){return ui(this),this.i=null,m=ts(this,m),Fs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},e.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function Xc(m,T,w){Bs(m,T),0<w.length&&(m.i=null,m.g.set(ts(m,T),C(w)),m.h+=w.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var w=0;w<T.length;w++){var U=T[w];const it=encodeURIComponent(String(U)),yt=this.V(U);for(U=0;U<yt.length;U++){var K=it;yt[U]!==""&&(K+="="+encodeURIComponent(String(yt[U]))),m.push(K)}}return this.i=m.join("&")};function ts(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function jf(m,T){T&&!m.j&&(ui(m),m.i=null,m.g.forEach(function(w,U){var K=U.toLowerCase();U!=K&&(Bs(this,U),Xc(this,K,w))},m)),m.j=T}function Fo(m,T){const w=new li;if(u.Image){const U=new Image;U.onload=b(hi,w,"TestLoadImage: loaded",!0,T,U),U.onerror=b(hi,w,"TestLoadImage: error",!1,T,U),U.onabort=b(hi,w,"TestLoadImage: abort",!1,T,U),U.ontimeout=b(hi,w,"TestLoadImage: timeout",!1,T,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else T(!1)}function Pi(m,T){const w=new li,U=new AbortController,K=setTimeout(()=>{U.abort(),hi(w,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:U.signal}).then(it=>{clearTimeout(K),it.ok?hi(w,"TestPingServer: ok",!0,T):hi(w,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(K),hi(w,"TestPingServer: error",!1,T)})}function hi(m,T,w,U,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),U(w)}catch{}}function Ho(){this.g=new ko}function es(m,T,w){const U=w||"";try{Zc(m,function(K,it){let yt=K;f(K)&&(yt=Mi(K)),T.push(U+it+"="+encodeURIComponent(yt))})}catch(K){throw T.push(U+"type="+encodeURIComponent("_badmap")),K}}function Ir(m){this.l=m.Ub||null,this.j=m.eb||!1}S(Ir,jc),Ir.prototype.g=function(){return new Hs(this.l,this.j)},Ir.prototype.i=function(m){return function(){return m}}({});function Hs(m,T){xe.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Hs,xe),e=Hs.prototype,e.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,is(this)},e.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},e.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}e.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?ns(this):is(this),this.readyState==3&&Jc(this)}},e.Ra=function(m){this.g&&(this.response=this.responseText=m,ns(this))},e.Qa=function(m){this.g&&(this.response=m,ns(this))},e.ga=function(){this.g&&ns(this)};function ns(m){m.readyState=4,m.l=null,m.j=null,m.v=null,is(m)}e.setRequestHeader=function(m,T){this.u.append(m,T)},e.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var w=T.next();!w.done;)w=w.value,m.push(w[0]+": "+w[1]),w=T.next();return m.join(`\r
`)};function is(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function tu(m){let T="";return B(m,function(w,U){T+=U,T+=":",T+=w,T+=`\r
`}),T}function nn(m,T,w){t:{for(U in w){var U=!1;break t}U=!0}U||(w=tu(w),typeof m=="string"?w!=null&&encodeURIComponent(String(w)):oe(m,T,w))}function te(m){xe.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(te,xe);var al=/^https?$/i,qo=["POST","PUT"];e=te.prototype,e.Ha=function(m){this.J=m},e.ea=function(m,T,w,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yi.g(),this.v=this.o?Bc(this.o):Bc(Yi),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(it){Bf(this,it);return}if(m=w||"",w=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var K in U)w.set(K,U[K]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const it of U.keys())w.set(it,U.get(it));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(w.keys()).find(it=>it.toLowerCase()=="content-type"),K=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(qo,T,void 0))||U||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,yt]of w)this.g.setRequestHeader(it,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$o(this),this.u=!0,this.g.send(m),this.u=!1}catch(it){Bf(this,it)}};function Bf(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,ll(m),ss(m)}function ll(m){m.A||(m.A=!0,ne(m,"complete"),ne(m,"error"))}e.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ne(this,"complete"),ne(this,"abort"),ss(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),te.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?cl(this):this.bb())},e.bb=function(){cl(this)};function cl(m){if(m.h&&typeof l<"u"&&(!m.v[1]||fi(m)!=4||m.Z()!=2)){if(m.u&&fi(m)==4)Tn(m.Ea,0,m);else if(ne(m,"readystatechange"),fi(m)==4){m.h=!1;try{const yt=m.Z();t:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var w;if(!(w=T)){var U;if(U=yt===0){var K=String(m.D).match(zo)[1]||null;!K&&u.self&&u.self.location&&(K=u.self.location.protocol.slice(0,-1)),U=!al.test(K?K.toLowerCase():"")}w=U}if(w)ne(m,"complete"),ne(m,"success");else{m.m=6;try{var it=2<fi(m)?m.g.statusText:""}catch{it=""}m.l=it+" ["+m.Z()+"]",ll(m)}}finally{ss(m)}}}}function ss(m,T){if(m.g){$o(m);const w=m.g,U=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||ne(m,"ready");try{w.onreadystatechange=U}catch{}}}function $o(m){m.I&&(u.clearTimeout(m.I),m.I=null)}e.isActive=function(){return!!this.g};function fi(m){return m.g?m.g.readyState:0}e.Z=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Ja(T)}};function Ff(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function zg(m){const T={};m=(m.g&&2<=fi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(j(m[U]))continue;var w=O(m[U]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const it=T[K]||[];T[K]=it,it.push(w)}D(T,function(U){return U.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Go(m,T,w){return w&&w.internalChannelParams&&w.internalChannelParams[m]||T}function ul(m){this.Aa=0,this.i=[],this.j=new li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Go("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Go("baseRetryDelayMs",5e3,m),this.cb=Go("retryDelaySeedMs",1e4,m),this.Wa=Go("forwardChannelMaxRetries",2,m),this.wa=Go("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new zs(m&&m.concurrentRequestLimit),this.Da=new Ho,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ul.prototype,e.la=8,e.G=1,e.connect=function(m,T,w,U){ye(0),this.W=m,this.H=T||{},w&&U!==void 0&&(this.H.OSID=w,this.H.OAID=U),this.F=this.X,this.I=Zf(this,null,this.W),fl(this)};function eu(m){if(Hf(m),m.G==3){var T=m.U++,w=Xn(m.I);if(oe(w,"SID",m.K),oe(w,"RID",T),oe(w,"TYPE","terminate"),Wo(m,w),T=new kn(m,m.j,T),T.L=2,T.v=jo(Xn(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!w&&u.Image&&(new Image().src=T.v,w=!0),w||(T.g=Qf(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Vo(T)}Kf(m)}function hl(m){m.g&&(Ko(m),m.g.cancel(),m.g=null)}function Hf(m){hl(m),m.u&&(u.clearTimeout(m.u),m.u=null),dl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function fl(m){if(!nl(m.h)&&!m.s){m.s=!0;var T=m.Ga;W||F(),st||(W(),st=!0),dt.add(T,m),m.B=0}}function Ug(m,T){return il(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ue(_(m.Ga,m,T),su(m,m.B)),m.B++,!0)}e.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const K=new kn(this,this.j,m);let it=this.o;if(this.S&&(it?(it=A(it),M(it,this.S)):it=this.S),this.m!==null||this.O||(K.H=it,it=null),this.P)t:{for(var T=0,w=0;w<this.i.length;w++){e:{var U=this.i[w];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break e}U=void 0}if(U===void 0)break;if(T+=U,4096<T){T=w;break t}if(T===4096||w===this.i.length-1){T=w+1;break t}}T=1e3}else T=1e3;T=qf(this,K,T),w=Xn(this.I),oe(w,"RID",m),oe(w,"CVER",22),this.D&&oe(w,"X-HTTP-Session-Id",this.D),Wo(this,w),it&&(this.O?T="headers="+encodeURIComponent(String(tu(it)))+"&"+T:this.m&&nn(w,this.m,it)),sl(this.h,K),this.Ua&&oe(w,"TYPE","init"),this.P?(oe(w,"$req",T),oe(w,"SID","null"),K.T=!0,Oi(K,w,null)):Oi(K,w,T),this.G=2}}else this.G==3&&(m?nu(this,m):this.i.length==0||nl(this.h)||nu(this))};function nu(m,T){var w;T?w=T.l:w=m.U++;const U=Xn(m.I);oe(U,"SID",m.K),oe(U,"RID",w),oe(U,"AID",m.T),Wo(m,U),m.m&&m.o&&nn(U,m.m,m.o),w=new kn(m,m.j,w,m.B+1),m.m===null&&(w.H=m.o),T&&(m.i=T.D.concat(m.i)),T=qf(m,w,1e3),w.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),sl(m.h,w),Oi(w,U,T)}function Wo(m,T){m.H&&B(m.H,function(w,U){oe(T,U,w)}),m.l&&Zc({},function(w,U){oe(T,U,w)})}function qf(m,T,w){w=Math.min(m.i.length,w);var U=m.l?_(m.l.Na,m.l,m):null;t:{var K=m.i;let it=-1;for(;;){const yt=["count="+w];it==-1?0<w?(it=K[0].g,yt.push("ofs="+it)):it=0:yt.push("ofs="+it);let Gt=!0;for(let We=0;We<w;We++){let Wt=K[We].g;const sn=K[We].map;if(Wt-=it,0>Wt)it=Math.max(0,K[We].g-100),Gt=!1;else try{es(sn,yt,"req"+Wt+"_")}catch{U&&U(sn)}}if(Gt){U=yt.join("&");break t}}}return m=m.i.splice(0,w),T.D=m,U}function $f(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;W||F(),st||(W(),st=!0),dt.add(T,m),m.v=0}}function iu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ue(_(m.Fa,m),su(m,m.v)),m.v++,!0)}e.Fa=function(){if(this.u=null,Gf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ue(_(this.ab,this),m)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),hl(this),Gf(this))};function Ko(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Gf(m){m.g=new kn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=Xn(m.qa);oe(T,"RID","rpc"),oe(T,"SID",m.K),oe(T,"AID",m.T),oe(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&oe(T,"TO",m.ja),oe(T,"TYPE","xmlhttp"),Wo(m,T),m.m&&m.o&&nn(T,m.m,m.o),m.L&&(m.g.I=m.L);var w=m.g;m=m.ia,w.L=1,w.v=jo(Xn(T)),w.m=null,w.P=!0,Ls(w,m)}e.Za=function(){this.C!=null&&(this.C=null,hl(this),iu(this),ye(19))};function dl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Wf(m,T){var w=null;if(m.g==T){dl(m),Ko(m),m.g=null;var U=2}else if(Wc(m.h,T))w=T.D,Nn(m.h,T),U=1;else return;if(m.G!=0){if(T.o)if(U==1){w=T.m?T.m.length:0,T=Date.now()-T.F;var K=m.B;U=wr(),ne(U,new Ge(U,w)),fl(m)}else $f(m);else if(K=T.s,K==3||K==0&&0<T.X||!(U==1&&Ug(m,T)||U==2&&iu(m)))switch(w&&0<w.length&&(T=m.h,T.i=T.i.concat(w)),K){case 1:qs(m,5);break;case 4:qs(m,10);break;case 3:qs(m,6);break;default:qs(m,2)}}}function su(m,T){let w=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(w*=2),w*T}function qs(m,T){if(m.j.info("Error code "+T),T==2){var w=_(m.fb,m),U=m.Xa;const K=!U;U=new je(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Uo(U,"https"),jo(U),K?Fo(U.toString(),w):Pi(U.toString(),w)}else ye(2);m.G=0,m.l&&m.l.sa(T),Kf(m),Hf(m)}e.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Kf(m){if(m.G=0,m.ka=[],m.l){const T=Kc(m.h);(T.length!=0||m.i.length!=0)&&(E(m.ka,T),E(m.ka,m.i),m.h.i.length=0,C(m.i),m.i.length=0),m.l.ra()}}function Zf(m,T,w){var U=w instanceof je?Xn(w):new je(w);if(U.g!="")T&&(U.g=T+"."+U.g),Rr(U,U.s);else{var K=u.location;U=K.protocol,T=T?T+"."+K.hostname:K.hostname,K=+K.port;var it=new je(null);U&&Uo(it,U),T&&(it.g=T),K&&Rr(it,K),w&&(it.l=w),U=it}return w=m.D,T=m.ya,w&&T&&oe(U,w,T),oe(U,"VER",m.la),Wo(m,U),U}function Qf(m,T,w){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new te(new Ir({eb:w})):new te(m.pa),T.Ha(m.J),T}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yf(){}e=Yf.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function pl(){}pl.prototype.g=function(m,T){return new Vn(m,T)};function Vn(m,T){xe.call(this),this.g=new ul(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!j(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new rs(this)}S(Vn,xe),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){eu(this.g)},Vn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var w={};w.__data__=m,m=w}else this.u&&(w={},w.__data__=Mi(m),m=w);T.i.push(new zf(T.Ya++,m)),T.G==3&&fl(T)},Vn.prototype.N=function(){this.g.l=null,delete this.j,eu(this.g),delete this.g,Vn.aa.N.call(this)};function Xf(m){Ns.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){t:{for(const w in T){m=w;break t}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}S(Xf,Ns);function Jf(){Hc.call(this),this.status=1}S(Jf,Hc);function rs(m){this.g=m}S(rs,Yf),rs.prototype.ua=function(){ne(this.g,"a")},rs.prototype.ta=function(m){ne(this.g,new Xf(m))},rs.prototype.sa=function(m){ne(this.g,new Jf)},rs.prototype.ra=function(){ne(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,MM=function(){return new pl},DM=function(){return wr()},IM=Qi,_0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,qp=xr,Vs.COMPLETE="complete",RM=Vs,Fc.EventType=ks,ks.OPEN="a",ks.CLOSE="b",ks.ERROR="c",ks.MESSAGE="d",xe.prototype.listen=xe.prototype.K,sh=Fc,te.prototype.listenOnce=te.prototype.L,te.prototype.getLastError=te.prototype.Ka,te.prototype.getLastErrorCode=te.prototype.Ba,te.prototype.getStatus=te.prototype.Z,te.prototype.getResponseJson=te.prototype.Oa,te.prototype.getResponseText=te.prototype.oa,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Ha,CM=te}).apply(typeof fp<"u"?fp:typeof self<"u"?self:typeof window<"u"?window:{});const qx="@firebase/firestore",$x="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new $b("@firebase/firestore");function Wl(){return ja.logLevel}function vt(e,...t){if(ja.logLevel<=Ht.DEBUG){const n=t.map(rT);ja.debug(`Firestore (${Oc}): ${e}`,...n)}}function vr(e,...t){if(ja.logLevel<=Ht.ERROR){const n=t.map(rT);ja.error(`Firestore (${Oc}): ${e}`,...n)}}function vo(e,...t){if(ja.logLevel<=Ht.WARN){const n=t.map(rT);ja.warn(`Firestore (${Oc}): ${e}`,...n)}}function rT(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,OM(e,i,n)}function OM(e,t,n){let i=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw vr(i),new Error(i)}function ee(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||OM(t,s,i)}function Pt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends Tr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class JU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Cn.UNAUTHENTICATED))}shutdown(){}}class tj{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ej{constructor(t){this.t=t,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ee(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},u=h=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dr)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ee(typeof i.accessToken=="string",31837,{l:i}),new PM(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ee(t===null||typeof t=="string",2055,{h:t}),new Cn(t)}}class nj{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ij{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new nj(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sj{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ji(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ee(this.o===void 0,3512);const i=o=>{o.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=rj(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=t.charAt(s[o]%62))}return i}}function zt(e,t){return e<t?-1:e>t?1:0}function v0(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return zt(i,s);{const o=kM(),l=oj(o.encode(Wx(e,n)),o.encode(Wx(t,n)));return l!==0?l:zt(i,s)}}n+=i>65535?2:1}return zt(e.length,t.length)}function Wx(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function oj(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return zt(e[n],t[n]);return zt(e.length,t.length)}function _c(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="__name__";class ms{constructor(t,n,i){n===void 0?n=0:n>t.length&&Rt(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Rt(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return ms.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ms?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const o=ms.compareSegments(t.get(s),n.get(s));if(o!==0)return o}return zt(t.length,n.length)}static compareSegments(t,n){const i=ms.isNumericId(t),s=ms.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?ms.extractNumericId(t).compare(ms.extractNumericId(n)):v0(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return uo.fromString(t.substring(4,t.length-2))}}class me extends ms{construct(t,n,i){return new me(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Tt(pt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new me(n)}static emptyPath(){return new me([])}}const aj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ms{construct(t,n,i){return new vn(t,n,i)}static isValidIdentifier(t){return aj.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kx}static keyField(){return new vn([Kx])}static fromServerFormat(t){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new Tt(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new Tt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Tt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(o(),s++)}if(o(),l)throw new Tt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.path=t}static fromPath(t){return new wt(me.fromString(t))}static fromName(t){return new wt(me.fromString(t).popFirst(5))}static empty(){return new wt(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wt(new me(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(e,t,n){if(!n)throw new Tt(pt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function lj(e,t,n,i){if(t===!0&&i===!0)throw new Tt(pt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Zx(e){if(!wt.isDocumentKey(e))throw new Tt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Qx(e){if(wt.isDocumentKey(e))throw new Tt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function VM(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function aT(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Rt(12329,{type:typeof e})}function bo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=aT(e);throw new Tt(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sf(e,t){if(!VM(e))throw new Tt(pt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const l=e[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new Tt(pt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=-62135596800,Xx=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Xx);return new ge(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Tt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Yx)throw new Tt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xx}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sf(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:qe("string",ge._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new ge(0,0))}static max(){return new Ot(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=-1;function cj(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Ot.fromTimestamp(i===1e9?new ge(n+1,0):new ge(n,i));return new To(s,wt.empty(),t)}function uj(e){return new To(e.readTime,e.key,Kh)}class To{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new To(Ot.min(),wt.empty(),Kh)}static max(){return new To(Ot.max(),wt.empty(),Kh)}}function hj(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=wt.comparator(e.documentKey,t.documentKey),n!==0?n:zt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(e){if(e.code!==pt.FAILED_PRECONDITION||e.message!==fj)throw e;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ft((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ft?n:ft.resolve(n)}catch(n){return ft.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ft.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ft.reject(n)}static resolve(t){return new ft((n,i)=>{n(t)})}static reject(t){return new ft((n,i)=>{i(t)})}static waitFor(t){return new ft((n,i)=>{let s=0,o=0,l=!1;t.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&n()},h=>i(h))}),l=!0,o===s&&n()})}static or(t){let n=ft.resolve(!1);for(const i of t)n=n.next(s=>s?ft.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(t,n){return new ft((i,s)=>{const o=t.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(t[f]).next(p=>{l[f]=p,++u,u===o&&i(l)},p=>s(p))}})}static doWhile(t,n){return new ft((i,s)=>{const o=()=>{t()===!0?n().next(()=>{o()},s):i()};o()})}}function pj(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}lg.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=-1;function cg(e){return e==null}function wm(e){return e===0&&1/e==-1/0}function mj(e){return typeof e=="number"&&Number.isInteger(e)&&!wm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="";function gj(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Jx(t)),t=yj(e.get(n),t);return Jx(t)}function yj(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const o=e.charAt(s);switch(o){case"\0":n+="";break;case LM:n+="";break;default:n+=o}}return n}function Jx(e){return e+LM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ga(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,n){this.comparator=t,this.root=n||yn.EMPTY}insert(t,n){return new Ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dp(this.root,t,this.comparator,!1)}getReverseIterator(){return new dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dp(this.root,t,this.comparator,!0)}}class dp{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yn{constructor(t,n,i,s,o){this.key=t,this.value=n,this.color=i??yn.RED,this.left=s??yn.EMPTY,this.right=o??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,o){return new yn(t??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,n,i,s,o){return this}insert(t,n,i){return new yn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new e2(this.data.getIterator())}getIteratorFrom(t){return new e2(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new tn(this.comparator);return n.data=t,n}}class e2{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.fields=t,t.sort(vn.comparator)}static empty(){return new Fi([])}unionWith(t){let n=new tn(vn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Fi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return _c(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new UM("Invalid base64 string: "+o):o}}(t);return new bn(n)}static fromUint8Array(t){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(t);return new bn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const _j=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(e){if(ee(!!e,39018),typeof e=="string"){let t=0;const n=_j.exec(e);if(ee(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ne(e.seconds),nanos:Ne(e.nanos)}}function Ne(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function wo(e){return typeof e=="string"?bn.fromBase64String(e):bn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="server_timestamp",BM="__type__",FM="__previous_value__",HM="__local_write_time__";function cT(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[BM])===null||n===void 0?void 0:n.stringValue)===jM}function ug(e){const t=e.mapValue.fields[FM];return cT(t)?ug(t):t}function Zh(e){const t=So(e.mapValue.fields[HM].timestampValue);return new ge(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(t,n,i,s,o,l,u,h,f,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const Em="(default)";class Qh{constructor(t,n){this.projectId=t,this.database=n||Em}static empty(){return new Qh("","")}get isDefaultDatabase(){return this.database===Em}isEqual(t){return t instanceof Qh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="__type__",bj="__max__",pp={mapValue:{}},$M="__vector__",Am="value";function Eo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cT(e)?4:Sj(e)?9007199254740991:Tj(e)?10:11:Rt(28295,{value:e})}function Is(e,t){if(e===t)return!0;const n=Eo(e);if(n!==Eo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zh(e).isEqual(Zh(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=So(s.timestampValue),u=So(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,o){return wo(s.bytesValue).isEqual(wo(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,o){return Ne(s.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(s.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(e,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ne(s.integerValue)===Ne(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Ne(s.doubleValue),u=Ne(o.doubleValue);return l===u?wm(l)===wm(u):isNaN(l)&&isNaN(u)}return!1}(e,t);case 9:return _c(e.arrayValue.values||[],t.arrayValue.values||[],Is);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(t2(l)!==t2(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Is(l[h],u[h])))return!1;return!0}(e,t);default:return Rt(52216,{left:e})}}function Yh(e,t){return(e.values||[]).find(n=>Is(n,t))!==void 0}function vc(e,t){if(e===t)return 0;const n=Eo(e),i=Eo(t);if(n!==i)return zt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(e.booleanValue,t.booleanValue);case 2:return function(o,l){const u=Ne(o.integerValue||o.doubleValue),h=Ne(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(e,t);case 3:return n2(e.timestampValue,t.timestampValue);case 4:return n2(Zh(e),Zh(t));case 5:return v0(e.stringValue,t.stringValue);case 6:return function(o,l){const u=wo(o),h=wo(l);return u.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const p=zt(u[f],h[f]);if(p!==0)return p}return zt(u.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,l){const u=zt(Ne(o.latitude),Ne(l.latitude));return u!==0?u:zt(Ne(o.longitude),Ne(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return i2(e.arrayValue,t.arrayValue);case 10:return function(o,l){var u,h,f,p;const y=o.fields||{},_=l.fields||{},b=(u=y[Am])===null||u===void 0?void 0:u.arrayValue,S=(h=_[Am])===null||h===void 0?void 0:h.arrayValue,C=zt(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return C!==0?C:i2(b,S)}(e.mapValue,t.mapValue);case 11:return function(o,l){if(o===pp.mapValue&&l===pp.mapValue)return 0;if(o===pp.mapValue)return 1;if(l===pp.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=v0(h[y],p[y]);if(_!==0)return _;const b=vc(u[h[y]],f[p[y]]);if(b!==0)return b}return zt(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Rt(23264,{le:n})}}function n2(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return zt(e,t);const n=So(e),i=So(t),s=zt(n.seconds,i.seconds);return s!==0?s:zt(n.nanos,i.nanos)}function i2(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=vc(n[s],i[s]);if(o)return o}return zt(n.length,i.length)}function bc(e){return b0(e)}function b0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=So(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return wo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return wt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=b0(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${b0(n.fields[l])}`;return s+"}"}(e.mapValue):Rt(61005,{value:e})}function $p(e){switch(Eo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ug(e);return t?16+$p(t):16;case 5:return 2*e.stringValue.length;case 6:return wo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+$p(o),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Ga(i.fields,(o,l)=>{s+=o.length+$p(l)}),s}(e.mapValue);default:throw Rt(13486,{value:e})}}function T0(e){return!!e&&"integerValue"in e}function uT(e){return!!e&&"arrayValue"in e}function s2(e){return!!e&&"nullValue"in e}function r2(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gp(e){return!!e&&"mapValue"in e}function Tj(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[qM])===null||n===void 0?void 0:n.stringValue)===$M}function Sh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ga(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Sh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Sh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Sj(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===bj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this.value=t}static empty(){return new wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Gp(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sh(n)}setAll(t){let n=vn.emptyPath(),i={},s=[];t.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=u.popLast()}l?i[u.lastSegment()]=Sh(l):s.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(t){const n=this.field(t.popLast());Gp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Is(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Gp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Ga(n,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new wi(Sh(this.value))}}function GM(e){const t=[];return Ga(e.fields,(n,i)=>{const s=new vn([n]);if(Gp(i)){const o=GM(i.mapValue).fields;if(o.length===0)t.push(s);else for(const l of o)t.push(s.child(l))}else t.push(s)}),new Fi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t,n,i,s,o,l,u){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Rn(t,0,Ot.min(),Ot.min(),Ot.min(),wi.empty(),0)}static newFoundDocument(t,n,i,s){return new Rn(t,1,n,Ot.min(),i,s,0)}static newNoDocument(t,n){return new Rn(t,2,n,Ot.min(),Ot.min(),wi.empty(),0)}static newUnknownDocument(t,n){return new Rn(t,3,n,Ot.min(),Ot.min(),wi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n){this.position=t,this.inclusive=n}}function o2(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const o=t[s],l=e.position[s];if(o.field.isKeyField()?i=wt.comparator(wt.fromName(l.referenceValue),n.key):i=vc(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function a2(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Is(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n="asc"){this.field=t,this.dir=n}}function wj(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{}class Ye extends WM{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new Aj(t,n,i):n==="array-contains"?new Rj(t,i):n==="in"?new Ij(t,i):n==="not-in"?new Dj(t,i):n==="array-contains-any"?new Mj(t,i):new Ye(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new xj(t,i):new Cj(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vc(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(vc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends WM{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Ds(t,n)}matches(t){return KM(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function KM(e){return e.op==="and"}function ZM(e){return Ej(e)&&KM(e)}function Ej(e){for(const t of e.filters)if(t instanceof Ds)return!1;return!0}function S0(e){if(e instanceof Ye)return e.field.canonicalString()+e.op.toString()+bc(e.value);if(ZM(e))return e.filters.map(t=>S0(t)).join(",");{const t=e.filters.map(n=>S0(n)).join(",");return`${e.op}(${t})`}}function QM(e,t){return e instanceof Ye?function(i,s){return s instanceof Ye&&i.op===s.op&&i.field.isEqual(s.field)&&Is(i.value,s.value)}(e,t):e instanceof Ds?function(i,s){return s instanceof Ds&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,u)=>o&&QM(l,s.filters[u]),!0):!1}(e,t):void Rt(19439)}function YM(e){return e instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${bc(n.value)}`}(e):e instanceof Ds?function(n){return n.op.toString()+" {"+n.getFilters().map(YM).join(" ,")+"}"}(e):"Filter"}class Aj extends Ye{constructor(t,n,i){super(t,n,i),this.key=wt.fromName(i.referenceValue)}matches(t){const n=wt.comparator(t.key,this.key);return this.matchesComparison(n)}}class xj extends Ye{constructor(t,n){super(t,"in",n),this.keys=XM("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Cj extends Ye{constructor(t,n){super(t,"not-in",n),this.keys=XM("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function XM(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>wt.fromName(i.referenceValue))}class Rj extends Ye{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return uT(n)&&Yh(n.arrayValue,this.value)}}class Ij extends Ye{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Yh(this.value.arrayValue,n)}}class Dj extends Ye{constructor(t,n){super(t,"not-in",n)}matches(t){if(Yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yh(this.value.arrayValue,n)}}class Mj extends Ye{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!uT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Yh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(t,n=null,i=[],s=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Pe=null}}function l2(e,t=null,n=[],i=[],s=null,o=null,l=null){return new Oj(e,t,n,i,s,o,l)}function hT(e){const t=Pt(e);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>S0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),cg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>bc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>bc(i)).join(",")),t.Pe=n}return t.Pe}function fT(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wj(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!QM(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!a2(e.startAt,t.startAt)&&a2(e.endAt,t.endAt)}function w0(e){return wt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n=null,i=[],s=[],o=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Pj(e,t,n,i,s,o,l,u){return new hg(e,t,n,i,s,o,l,u)}function dT(e){return new hg(e)}function c2(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function kj(e){return e.collectionGroup!==null}function wh(e){const t=Pt(e);if(t.Te===null){t.Te=[];const n=new Set;for(const o of t.explicitOrderBy)t.Te.push(o),n.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new tn(vn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.Te.push(new Cm(o,i))}),n.has(vn.keyField().canonicalString())||t.Te.push(new Cm(vn.keyField(),i))}return t.Te}function Ss(e){const t=Pt(e);return t.Ie||(t.Ie=Nj(t,wh(e))),t.Ie}function Nj(e,t){if(e.limitType==="F")return l2(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Cm(s.field,o)});const n=e.endAt?new xm(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new xm(e.startAt.position,e.startAt.inclusive):null;return l2(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function E0(e,t,n){return new hg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fg(e,t){return fT(Ss(e),Ss(t))&&e.limitType===t.limitType}function JM(e){return`${hT(Ss(e))}|lt:${e.limitType}`}function Kl(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>YM(s)).join(", ")}]`),cg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>bc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>bc(s)).join(",")),`Target(${i})`}(Ss(e))}; limitType=${e.limitType})`}function dg(e,t){return t.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):wt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(e,t)&&function(i,s){for(const o of wh(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,u,h){const f=o2(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,wh(i),s)||i.endAt&&!function(l,u,h){const f=o2(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,wh(i),s))}(e,t)}function Vj(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tO(e){return(t,n)=>{let i=!1;for(const s of wh(e)){const o=Lj(s,t,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function Lj(e,t,n){const i=e.field.isKeyField()?wt.comparator(t.key,n.key):function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?vc(h,f):Rt(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ga(this.inner,(n,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return zM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Ee(wt.comparator);function br(){return zj}const eO=new Ee(wt.comparator);function rh(...e){let t=eO;for(const n of e)t=t.insert(n.key,n);return t}function nO(e){let t=eO;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ea(){return Eh()}function iO(){return Eh()}function Eh(){return new Wa(e=>e.toString(),(e,t)=>e.isEqual(t))}const Uj=new Ee(wt.comparator),jj=new tn(wt.comparator);function qt(...e){let t=jj;for(const n of e)t=t.add(n);return t}const Bj=new tn(zt);function Fj(){return Bj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wm(t)?"-0":t}}function sO(e){return{integerValue:""+e}}function Hj(e,t){return mj(t)?sO(t):pT(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this._=void 0}}function qj(e,t,n){return e instanceof Rm?function(s,o){const l={fields:{[BM]:{stringValue:jM},[HM]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&cT(o)&&(o=ug(o)),o&&(l.fields[FM]=o),{mapValue:l}}(n,t):e instanceof Xh?oO(e,t):e instanceof Jh?aO(e,t):function(s,o){const l=rO(s,o),u=u2(l)+u2(s.Ee);return T0(l)&&T0(s.Ee)?sO(u):pT(s.serializer,u)}(e,t)}function $j(e,t,n){return e instanceof Xh?oO(e,t):e instanceof Jh?aO(e,t):n}function rO(e,t){return e instanceof Im?function(i){return T0(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Rm extends pg{}class Xh extends pg{constructor(t){super(),this.elements=t}}function oO(e,t){const n=lO(t);for(const i of e.elements)n.some(s=>Is(s,i))||n.push(i);return{arrayValue:{values:n}}}class Jh extends pg{constructor(t){super(),this.elements=t}}function aO(e,t){let n=lO(t);for(const i of e.elements)n=n.filter(s=>!Is(s,i));return{arrayValue:{values:n}}}class Im extends pg{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function u2(e){return Ne(e.integerValue||e.doubleValue)}function lO(e){return uT(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Gj(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Xh&&s instanceof Xh||i instanceof Jh&&s instanceof Jh?_c(i.elements,s.elements,Is):i instanceof Im&&s instanceof Im?Is(i.Ee,s.Ee):i instanceof Rm&&s instanceof Rm}(e.transform,t.transform)}class Wj{constructor(t,n){this.version=t,this.transformResults=n}}class ws{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ws}static exists(t){return new ws(void 0,t)}static updateTime(t){return new ws(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class mg{}function cO(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new mT(e.key,ws.none()):new wf(e.key,e.data,ws.none());{const n=e.data,i=wi.empty();let s=new tn(vn.comparator);for(let o of t.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Ka(e.key,i,new Fi(s.toArray()),ws.none())}}function Kj(e,t,n){e instanceof wf?function(s,o,l){const u=s.value.clone(),h=f2(s.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(e,t,n):e instanceof Ka?function(s,o,l){if(!Wp(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=f2(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(uO(s)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function Ah(e,t,n,i){return e instanceof wf?function(o,l,u,h){if(!Wp(o.precondition,l))return u;const f=o.value.clone(),p=d2(o.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof Ka?function(o,l,u,h){if(!Wp(o.precondition,l))return u;const f=d2(o.fieldTransforms,h,l),p=l.data;return p.setAll(uO(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(o,l,u){return Wp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(e,t,n)}function Zj(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),o=rO(i.transform,s||null);o!=null&&(n===null&&(n=wi.empty()),n.set(i.field,o))}return n||null}function h2(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&_c(i,s,(o,l)=>Gj(o,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wf extends mg{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ka extends mg{constructor(t,n,i,s,o=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uO(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function f2(e,t,n){const i=new Map;ee(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let s=0;s<n.length;s++){const o=e[s],l=o.transform,u=t.data.field(o.field);i.set(o.field,$j(l,u,n[s]))}return i}function d2(e,t,n){const i=new Map;for(const s of e){const o=s.transform,l=n.data.field(s.field);i.set(s.field,qj(o,l,t))}return i}class mT extends mg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qj extends mg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&Kj(o,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ah(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ah(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=iO();return this.mutations.forEach(s=>{const o=t.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(s.key)?null:u;const h=cO(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ot.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),qt())}isEqual(t){return this.batchId===t.batchId&&_c(this.mutations,t.mutations,(n,i)=>h2(n,i))&&_c(this.baseMutations,t.baseMutations,(n,i)=>h2(n,i))}}class gT{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){ee(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let s=function(){return Uj}();const o=t.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new gT(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,Zt;function tB(e){switch(e){case pt.OK:return Rt(64938);case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return Rt(15467,{code:e})}}function hO(e){if(e===void 0)return vr("GRPC error has no .code"),pt.UNKNOWN;switch(e){case He.OK:return pt.OK;case He.CANCELLED:return pt.CANCELLED;case He.UNKNOWN:return pt.UNKNOWN;case He.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case He.INTERNAL:return pt.INTERNAL;case He.UNAVAILABLE:return pt.UNAVAILABLE;case He.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case He.NOT_FOUND:return pt.NOT_FOUND;case He.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case He.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case He.ABORTED:return pt.ABORTED;case He.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case He.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case He.DATA_LOSS:return pt.DATA_LOSS;default:return Rt(39323,{code:e})}}(Zt=He||(He={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=new uo([4294967295,4294967295],0);function p2(e){const t=kM().encode(e),n=new xM;return n.update(t),new Uint8Array(n.digest())}function m2(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new uo([n,i],0),new uo([s,o],0)]}class yT{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new oh(`Invalid padding: ${n}`);if(i<0)throw new oh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new oh(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=uo.fromNumber(this.fe)}pe(t,n,i){let s=t.add(n.multiply(uo.fromNumber(i)));return s.compare(eB)===1&&(s=new uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=p2(t),[i,s]=m2(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(i,s,o);if(!this.ye(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new yT(o,s,n);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.fe===0)return;const n=p2(t),[i,s]=m2(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(i,s,o);this.we(l)}}we(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,n,i,s,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Ef.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new gg(Ot.min(),s,new Ee(zt),br(),qt())}}class Ef{constructor(t,n,i,s,o){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Ef(i,n,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n,i,s){this.Se=t,this.removedTargetIds=n,this.key=i,this.be=s}}class fO{constructor(t,n){this.targetId=t,this.De=n}}class dO{constructor(t,n,i=bn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class g2{constructor(){this.ve=0,this.Ce=y2(),this.Fe=bn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=qt(),n=qt(),i=qt();return this.Ce.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Rt(38017,{changeType:o})}}),new Ef(this.Fe,this.Me,t,n,i)}ke(){this.xe=!1,this.Ce=y2()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,ee(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class nB{constructor(t){this.We=t,this.Ge=new Map,this.ze=br(),this.je=mp(),this.Je=mp(),this.He=new Ee(zt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const i=this.tt(n);switch(t.state){case 0:this.nt(n)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(t.resumeToken));break;default:Rt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((i,s)=>{this.nt(s)&&n(s)})}it(t){const n=t.targetId,i=t.De.count,s=this.st(n);if(s){const o=s.target;if(w0(o))if(i===0){const l=new wt(o.path);this.Xe(n,l,Rn.newNoDocument(l,Ot.min()))}else ee(i===1,20013,{expectedCount:i});else{const l=this.ot(n);if(l!==i){const u=this._t(t),h=u?this.ut(u,t,l):1;if(h!==0){this.rt(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,u;try{l=wo(i).toUint8Array()}catch(h){if(h instanceof UM)return vo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new yT(l,s,o)}catch(h){return vo(h instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.fe===0?null:u}ut(t,n,i){return n.De.count===i-this.ht(t,n.targetId)?0:2}ht(t,n){const i=this.We.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const l=this.We.lt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.Xe(n,o,null),s++)}),s}Pt(t){const n=new Map;this.Ge.forEach((o,l)=>{const u=this.st(l);if(u){if(o.current&&w0(u.target)){const h=new wt(u.target.path);this.Tt(h).has(l)||this.It(l,h)||this.Xe(l,h,Rn.newNoDocument(h,t))}o.Ne&&(n.set(l,o.Le()),o.ke())}});let i=qt();this.Je.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.st(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.ze.forEach((o,l)=>l.setReadTime(t));const s=new gg(t,n,this.He,this.ze,i);return this.ze=br(),this.je=mp(),this.Je=mp(),this.He=new Ee(zt),s}Ze(t,n){if(!this.nt(t))return;const i=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,i){if(!this.nt(t))return;const s=this.tt(t);this.It(t,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new g2,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new tn(zt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new tn(zt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||vt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new g2),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function mp(){return new Ee(wt.comparator)}function y2(){return new Ee(wt.comparator)}const iB={asc:"ASCENDING",desc:"DESCENDING"},sB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rB={and:"AND",or:"OR"};class oB{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function A0(e,t){return e.useProto3Json||cg(t)?t:{value:t}}function Dm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pO(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function aB(e,t){return Dm(e,t.toTimestamp())}function Es(e){return ee(!!e,49232),Ot.fromTimestamp(function(n){const i=So(n);return new ge(i.seconds,i.nanos)}(e))}function _T(e,t){return x0(e,t).canonicalString()}function x0(e,t){const n=function(s){return new me(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function mO(e){const t=me.fromString(e);return ee(bO(t),10190,{key:t.toString()}),t}function C0(e,t){return _T(e.databaseId,t.path)}function pv(e,t){const n=mO(t);if(n.get(1)!==e.databaseId.projectId)throw new Tt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wt(yO(n))}function gO(e,t){return _T(e.databaseId,t)}function lB(e){const t=mO(e);return t.length===4?me.emptyPath():yO(t)}function R0(e){return new me(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yO(e){return ee(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function _2(e,t,n){return{name:C0(e,t),fields:n.value.mapValue.fields}}function cB(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Rt(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(ee(p===void 0||typeof p=="string",58123),bn.fromBase64String(p||"")):(ee(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),bn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(f){const p=f.code===void 0?pt.UNKNOWN:hO(f.code);return new Tt(p,f.message||"")}(l);n=new dO(i,s,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=pv(e,i.document.name),o=Es(i.document.updateTime),l=i.document.createTime?Es(i.document.createTime):Ot.min(),u=new wi({mapValue:{fields:i.document.fields}}),h=Rn.newFoundDocument(s,o,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Kp(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=pv(e,i.document),o=i.readTime?Es(i.readTime):Ot.min(),l=Rn.newNoDocument(s,o),u=i.removedTargetIds||[];n=new Kp([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=pv(e,i.document),o=i.removedTargetIds||[];n=new Kp([],o,s,null)}else{if(!("filter"in t))return Rt(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new Jj(s,o),u=i.targetId;n=new fO(u,l)}}return n}function uB(e,t){let n;if(t instanceof wf)n={update:_2(e,t.key,t.value)};else if(t instanceof mT)n={delete:C0(e,t.key)};else if(t instanceof Ka)n={update:_2(e,t.key,t.data),updateMask:vB(t.fieldMask)};else{if(!(t instanceof Qj))return Rt(16599,{Rt:t.type});n={verify:C0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof Rm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Xh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Jh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Im)return{fieldPath:l.field.canonicalString(),increment:u.Ee};throw Rt(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:aB(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Rt(27497)}(e,t.precondition)),n}function hB(e,t){return e&&e.length>0?(ee(t!==void 0,14353),e.map(n=>function(s,o){let l=s.updateTime?Es(s.updateTime):Es(o);return l.isEqual(Ot.min())&&(l=Es(o)),new Wj(l,s.transformResults||[])}(n,t))):[]}function fB(e,t){return{documents:[gO(e,t.path)]}}function dB(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=gO(e,s);const o=function(f){if(f.length!==0)return vO(Ds.create(f,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:Zl(_.field),direction:gB(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const u=A0(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{Vt:n,parent:s}}function pB(e){let t=lB(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ee(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let o=[];n.where&&(o=function(y){const _=_O(y);return _ instanceof Ds&&ZM(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(S){return new Cm(Ql(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(y){let _;return _=typeof y=="object"?y.value:y,cg(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,b=y.values||[];return new xm(b,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,b=y.values||[];return new xm(b,_)}(n.endAt)),Pj(t,s,l,o,u,"F",h,f)}function mB(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _O(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ql(n.unaryFilter.field);return Ye.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ql(n.unaryFilter.field);return Ye.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ql(n.unaryFilter.field);return Ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ql(n.unaryFilter.field);return Ye.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ye.create(Ql(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ds.create(n.compositeFilter.filters.map(i=>_O(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}}(n.compositeFilter.op))}(e):Rt(30097,{filter:e})}function gB(e){return iB[e]}function yB(e){return sB[e]}function _B(e){return rB[e]}function Zl(e){return{fieldPath:e.canonicalString()}}function Ql(e){return vn.fromServerFormat(e.fieldPath)}function vO(e){return e instanceof Ye?function(n){if(n.op==="=="){if(r2(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NAN"}};if(s2(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r2(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NAN"}};if(s2(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(n.field),op:yB(n.op),value:n.value}}}(e):e instanceof Ds?function(n){const i=n.getFilters().map(s=>vO(s));return i.length===1?i[0]:{compositeFilter:{op:_B(n.op),filters:i}}}(e):Rt(54877,{filter:e})}function vB(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function bO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t,n,i,s,o=Ot.min(),l=Ot.min(),u=bn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new io(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(t){this.gt=t}}function TB(e){const t=pB({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?E0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.Dn=new wB}addToCollectionParentIndex(t,n){return this.Dn.add(n),ft.resolve()}getCollectionParents(t,n){return ft.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return ft.resolve()}deleteFieldIndex(t,n){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,n){return ft.resolve()}getDocumentsMatchingTarget(t,n){return ft.resolve(null)}getIndexType(t,n){return ft.resolve(0)}getFieldIndexes(t,n){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,n){return ft.resolve(To.min())}getMinOffsetFromCollectionGroup(t,n){return ft.resolve(To.min())}updateCollectionGroup(t,n,i){return ft.resolve()}updateIndexEntries(t,n){return ft.resolve()}}class wB{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new tn(me.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new tn(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TO=41943040;class Gn{static withCacheSize(t){return new Gn(t,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(TO,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Tc(0)}static ur(){return new Tc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="LruGarbageCollector",EB=1048576;function T2([e,t],[n,i]){const s=zt(e,n);return s===0?zt(t,i):s}class AB{constructor(t){this.Tr=t,this.buffer=new tn(T2),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();T2(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xB{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){vt(b2,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kc(n)?vt(b2,"Ignoring IndexedDB error during garbage collection: ",n):await Pc(n)}await this.Rr(3e5)})}}class CB{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return ft.resolve(lg.ue);const i=new AB(n);return this.Vr.forEachTarget(t,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(t,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(v2)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v2):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let i,s,o,l,u,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,u=Date.now(),this.removeTargets(t,i,n))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),Wl()<=Ht.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y})))}}function RB(e,t){return new CB(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this.changes=new Wa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ft.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Ah(i.mutation,s,Fi.empty(),ge.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,qt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=qt()){const s=Ea();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(o=>{let l=rh();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=Ea();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,qt()))}populateOverlays(t,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(t,n,i,s){let o=br();const l=Eh(),u=function(){return Eh()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Ka)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Ah(p.mutation,f,p.mutation.getFieldMask(),ge.now())):l.set(f.key,Fi.empty())}),this.recalculateAndSaveOverlays(t,o).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var y;return u.set(f,new DB(p,(y=l.get(f))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(t,n){const i=Eh();let s=new Ee((l,u)=>l-u),o=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||Fi.empty();p=u.applyToLocalView(f,p),i.set(h,p);const y=(s.get(u.batchId)||qt()).add(h);s=s.insert(u.batchId,y)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,p=h.value,y=iO();p.forEach(_=>{if(!o.has(_)){const b=cO(n.get(_),i.get(_));b!==null&&y.set(_,b),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return ft.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return wt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):kj(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-o.size):ft.resolve(Ea());let u=Kh,h=o;return l.next(f=>ft.forEach(f,(p,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(p)?ft.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,h,f,qt())).next(p=>({batchId:u,changes:nO(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new wt(n)).next(i=>{let s=rh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const o=n.collectionGroup;let l=rh();return this.indexManager.getCollectionParents(t,o).next(u=>ft.forEach(u,h=>{const f=function(y,_){return new hg(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,o,s))).next(l=>{o.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Rn.newInvalidDocument(p)))});let u=rh();return l.forEach((h,f)=>{const p=o.get(h);p!==void 0&&Ah(p.mutation,f,Fi.empty(),ge.now()),dg(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return ft.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Es(s.createTime)}}(n)),ft.resolve()}getNamedQuery(t,n){return ft.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:TB(s.bundledQuery),readTime:Es(s.readTime)}}(n)),ft.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.overlays=new Ee(wt.comparator),this.kr=new Map}getOverlay(t,n){return ft.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ea();return ft.forEach(n,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,o)=>{this.wt(t,n,o)}),ft.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),ft.resolve()}getOverlaysForCollection(t,n,i){const s=Ea(),o=n.length+1,l=new wt(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ft.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let o=new Ee((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=Ea(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=Ea(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=s)););return ft.resolve(u)}wt(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Xj(n,i));let o=this.kr.get(n);o===void 0&&(o=qt(),this.kr.set(n,o)),this.kr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ft.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.qr=new tn(ln.Qr),this.$r=new tn(ln.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const i=new ln(t,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new ln(t,n))}Gr(t,n){t.forEach(i=>this.removeReference(i,n))}zr(t){const n=new wt(new me([])),i=new ln(n,t),s=new ln(n,t+1),o=[];return this.$r.forEachInRange([i,s],l=>{this.Wr(l),o.push(l.key)}),o}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new wt(new me([])),i=new ln(n,t),s=new ln(n,t+1);let o=qt();return this.$r.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(t){const n=new ln(t,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class ln{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return wt.comparator(t.key,n.key)||zt(t.Hr,n.Hr)}static Ur(t,n){return zt(t.Hr,n.Hr)||wt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new tn(ln.Qr)}checkEmpty(t){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Yj(o,n,i,s);this.mutationQueue.push(l);for(const u of s)this.Yr=this.Yr.add(new ln(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ft.resolve(l)}lookupMutationBatch(t,n){return ft.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Xr(i),o=s<0?0:s;return ft.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?lT:this.er-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new ln(n,0),s=new ln(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,s],l=>{const u=this.Zr(l.Hr);o.push(u)}),ft.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new tn(zt);return n.forEach(s=>{const o=new ln(s,0),l=new ln(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],u=>{i=i.add(u.Hr)})}),ft.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let o=i;wt.isDocumentKey(o)||(o=o.child(""));const l=new ln(new wt(o),0);let u=new tn(zt);return this.Yr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(u=u.add(h.Hr)),!0)},l),ft.resolve(this.ei(u))}ei(t){const n=[];return t.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){ee(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ft.forEach(n.mutations,s=>{const o=new ln(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,n){const i=new ln(n,0),s=this.Yr.firstAfterOrEqual(i);return ft.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(t){this.ni=t,this.docs=function(){return new Ee(wt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return ft.resolve(i?i.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(t,n){let i=br();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Rn.newInvalidDocument(s))}),ft.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let o=br();const l=n.path,u=new wt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||hj(uj(p),i)<=0||(s.has(p.key)||dg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return ft.resolve(o)}getAllFromCollectionGroup(t,n,i,s){Rt(9500)}ri(t,n){return ft.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new LB(this)}getSize(t){return ft.resolve(this.size)}}class LB extends IB{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(t,s)):this.Or.removeEntry(i)}),ft.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(t){this.persistence=t,this.ii=new Wa(n=>hT(n),fT),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.si=0,this.oi=new vT,this.targetCount=0,this._i=Tc.ar()}forEachTarget(t,n){return this.ii.forEach((i,s)=>n(s)),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),ft.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Tc(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,ft.resolve()}updateTargetData(t,n){return this.hr(n),ft.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,n,i){let s=0;const o=[];return this.ii.forEach((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),ft.waitFor(o).next(()=>s)}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,n){const i=this.ii.get(n)||null;return ft.resolve(i)}addMatchingKeys(t,n,i){return this.oi.Kr(n,i),ft.resolve()}removeMatchingKeys(t,n,i){this.oi.Gr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(t,l))}),ft.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),ft.resolve()}getMatchingKeysForTargetId(t,n){const i=this.oi.Jr(n);return ft.resolve(i)}containsKey(t,n){return ft.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,n){this.ai={},this.overlays={},this.ui=new lg(0),this.ci=!1,this.ci=!0,this.li=new kB,this.referenceDelegate=t(this),this.hi=new zB(this),this.indexManager=new SB,this.remoteDocumentCache=function(s){return new VB(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new bB(n),this.Ti=new OB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new PB,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ai[t.toKey()];return i||(i=new NB(n,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,i){vt("MemoryPersistence","Starting transaction:",t);const s=new UB(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ei(t,n){return ft.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,n)))}}class UB extends dj{constructor(t){super(),this.currentSequenceNumber=t}}class bT{constructor(t){this.persistence=t,this.Ai=new vT,this.Ri=null}static Vi(t){return new bT(t)}get mi(){if(this.Ri)return this.Ri;throw Rt(60996)}addReference(t,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),ft.resolve()}removeReference(t,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),ft.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),ft.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.mi,i=>{const s=wt.fromPath(i);return this.fi(t,s).next(o=>{o||n.removeEntry(s,Ot.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return ft.or([()=>ft.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Mm{constructor(t,n){this.persistence=t,this.gi=new Wa(i=>gj(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=RB(this,n)}static Vi(t,n){return new Mm(t,n)}Ii(){}di(t){return ft.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}yr(t){let n=0;return this.gr(t,i=>{n++}).next(()=>n)}gr(t,n){return ft.forEach(this.gi,(i,s)=>this.Sr(t,i,s).next(o=>o?ft.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ri(t,l=>this.Sr(t,l,n).next(u=>{u||(i++,o.removeEntry(l,Ot.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),ft.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.gi.set(i,t.currentSequenceNumber),ft.resolve()}removeReference(t,n,i){return this.gi.set(i,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),ft.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=$p(t.data.value)),n}Sr(t,n,i){return ft.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.gi.get(n);return ft.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Is=i,this.ds=s}static Es(t,n){let i=qt(),s=qt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new TT(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return kz()?8:pj(Mn())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,i,s){const o={result:null};return this.ps(t,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ys(t,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new jB;return this.ws(t,n,l).next(u=>{if(o.result=u,this.Rs)return this.Ss(t,n,l,u.size)})}).next(()=>o.result)}Ss(t,n,i,s){return i.documentReadCount<this.Vs?(Wl()<=Ht.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",Kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ft.resolve()):(Wl()<=Ht.DEBUG&&vt("QueryEngine","Query:",Kl(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(Wl()<=Ht.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",Kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ss(n))):ft.resolve())}ps(t,n){if(c2(n))return ft.resolve(null);let i=Ss(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=E0(n,null,"F"),i=Ss(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=qt(...o);return this.gs.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.bs(n,u);return this.Ds(n,f,l,h.readTime)?this.ps(t,E0(n,null,"F")):this.vs(t,f,n,h)}))})))}ys(t,n,i,s){return c2(n)||s.isEqual(Ot.min())?ft.resolve(null):this.gs.getDocuments(t,i).next(o=>{const l=this.bs(n,o);return this.Ds(n,l,i,s)?ft.resolve(null):(Wl()<=Ht.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Kl(n)),this.vs(t,l,n,cj(s,Kh)).next(u=>u))})}bs(t,n){let i=new tn(tO(t));return n.forEach((s,o)=>{dg(t,o)&&(i=i.add(o))}),i}Ds(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ws(t,n,i){return Wl()<=Ht.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",Kl(n)),this.gs.getDocumentsMatchingQuery(t,n,To.min(),i)}vs(t,n,i,s){return this.gs.getDocumentsMatchingQuery(t,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="LocalStore",FB=3e8;class HB{constructor(t,n,i,s){this.persistence=t,this.Cs=n,this.serializer=s,this.Fs=new Ee(zt),this.Ms=new Wa(o=>hT(o),fT),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MB(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function qB(e,t,n,i){return new HB(e,t,n,i)}async function wO(e,t){const n=Pt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.Ns(t),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let h=qt();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of o){u.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Bs:f,removedBatchIds:l,addedBatchIds:u}))})})}function $B(e,t){const n=Pt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(u,h,f,p){const y=f.batch,_=y.keys();let b=ft.resolve();return _.forEach(S=>{b=b.next(()=>p.getEntry(h,S)).next(C=>{const E=f.docVersions.get(S);ee(E!==null,48541),C.version.compareTo(E)<0&&(y.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),p.addEntry(C)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(n,i,t,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=qt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function EO(e){const t=Pt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function GB(e,t){const n=Pt(e),i=t.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const u=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;u.push(n.hi.removeMatchingKeys(o,p.removedDocuments,y).next(()=>n.hi.addMatchingKeys(o,p.addedDocuments,y)));let b=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?b=b.withResumeToken(bn.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),s=s.insert(y,b),function(C,E,I){return C.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=FB?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(_,b,p)&&u.push(n.hi.updateTargetData(o,b))});let h=br(),f=qt();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push(WB(o,l,t.documentUpdates).next(p=>{h=p.Ls,f=p.ks})),!i.isEqual(Ot.min())){const p=n.hi.getLastRemoteSnapshotVersion(o).next(y=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(p)}return ft.waitFor(u).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.Fs=s,o))}function WB(e,t,n){let i=qt(),s=qt();return n.forEach(o=>i=i.add(o)),t.getEntries(e,i).next(o=>{let l=br();return n.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ot.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):vt(ST,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{Ls:l,ks:s}})}function KB(e,t){const n=Pt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=lT),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ZB(e,t){const n=Pt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.hi.getTargetData(i,t).next(o=>o?(s=o,ft.resolve(s)):n.hi.allocateTargetId(i).next(l=>(s=new io(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(t,i.targetId)),i})}async function I0(e,t,n){const i=Pt(e),s=i.Fs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!kc(l))throw l;vt(ST,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(s.target)}function S2(e,t,n){const i=Pt(e);let s=Ot.min(),o=qt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const y=Pt(h),_=y.Ms.get(p);return _!==void 0?ft.resolve(y.Fs.get(_)):y.hi.getTargetData(f,p)}(i,l,Ss(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>i.Cs.getDocumentsMatchingQuery(l,t,n?s:Ot.min(),n?o:qt())).next(u=>(QB(i,Vj(t),u),{documents:u,qs:o})))}function QB(e,t,n){let i=e.xs.get(t)||Ot.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),e.xs.set(t,i)}class w2{constructor(){this.activeTargetIds=Fj()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class YB{constructor(){this.Fo=new w2,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,i){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new w2,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="ConnectivityMonitor";class A2{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){vt(E2,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){vt(E2,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp=null;function D0(){return gp===null?gp=function(){return 268435456+Math.round(2147483648*Math.random())}():gp++,"0x"+gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="RestConnection",JB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tF{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===Em?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(t,n,i,s,o){const l=D0(),u=this.Go(t,n.toUriEncodedString());vt(mv,`Sending RPC '${t}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,s,o);const{host:f}=new URL(u),p=Ic(f);return this.jo(t,u,h,i,p).then(y=>(vt(mv,`Received RPC '${t}' ${l}: `,y),y),y=>{throw vo(mv,`RPC '${t}' ${l} failed with error: `,y,"url: ",u,"request:",i),y})}Jo(t,n,i,s,o,l){return this.Wo(t,n,i,s,o)}zo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}Go(t,n){const i=JB[t];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class nF extends tF{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,i,s,o){const l=D0();return new Promise((u,h)=>{const f=new CM;f.setWithCredentials(!0),f.listenOnce(RM.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case qp.NO_ERROR:const y=f.getResponseJson();vt(En,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),u(y);break;case qp.TIMEOUT:vt(En,`RPC '${t}' ${l} timed out`),h(new Tt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case qp.HTTP_ERROR:const _=f.getStatus();if(vt(En,`RPC '${t}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const C=function(I){const j=I.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(j)>=0?j:pt.UNKNOWN}(S.status);h(new Tt(C,S.message))}else h(new Tt(pt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Tt(pt.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{c_:t,streamId:l,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{vt(En,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);vt(En,`RPC '${t}' ${l} sending request:`,s),f.send(n,"POST",p,i,15)})}P_(t,n,i){const s=D0(),o=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=MM(),u=DM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=o.join("");vt(En,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);this.T_(y);let _=!1,b=!1;const S=new eF({Ho:E=>{b?vt(En,`Not sending because RPC '${t}' stream ${s} is closed:`,E):(_||(vt(En,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),vt(En,`RPC '${t}' stream ${s} sending:`,E),y.send(E))},Yo:()=>y.close()}),C=(E,I,j)=>{E.listen(I,k=>{try{j(k)}catch(N){setTimeout(()=>{throw N},0)}})};return C(y,sh.EventType.OPEN,()=>{b||(vt(En,`RPC '${t}' stream ${s} transport opened.`),S.s_())}),C(y,sh.EventType.CLOSE,()=>{b||(b=!0,vt(En,`RPC '${t}' stream ${s} transport closed`),S.__(),this.I_(y))}),C(y,sh.EventType.ERROR,E=>{b||(b=!0,vo(En,`RPC '${t}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.__(new Tt(pt.UNAVAILABLE,"The operation could not be completed")))}),C(y,sh.EventType.MESSAGE,E=>{var I;if(!b){const j=E.data[0];ee(!!j,16349);const k=j,N=(k==null?void 0:k.error)||((I=k[0])===null||I===void 0?void 0:I.error);if(N){vt(En,`RPC '${t}' stream ${s} received error:`,N);const V=N.status;let B=function(R){const M=He[R];if(M!==void 0)return hO(M)}(V),D=N.message;B===void 0&&(B=pt.INTERNAL,D="Unknown error status: "+V+" with message "+N.message),b=!0,S.__(new Tt(B,D)),y.close()}else vt(En,`RPC '${t}' stream ${s} received:`,j),S.a_(j)}}),C(u,IM.STAT_EVENT,E=>{E.stat===_0.PROXY?vt(En,`RPC '${t}' stream ${s} detected buffering proxy`):E.stat===_0.NOPROXY&&vt(En,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function gv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(e){return new oB(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t,n,i=1e3,s=1.5,o=6e4){this.Fi=t,this.timerId=n,this.d_=i,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-i);s>0&&vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="PersistentStream";class xO{constructor(t,n,i,s,o,l,u,h){this.Fi=t,this.w_=i,this.S_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new AO(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===pt.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===n&&this.W_(i,s)},i=>{t(()=>{const s=new Tt(pt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(t,n){const i=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return vt(x2,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(vt(x2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iF extends xO{constructor(t,n,i,s,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=cB(this.serializer,t),i=function(o){if(!("targetChange"in o))return Ot.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ot.min():l.readTime?Es(l.readTime):Ot.min()}(t);return this.listener.J_(n,i)}H_(t){const n={};n.database=R0(this.serializer),n.addTarget=function(o,l){let u;const h=l.target;if(u=w0(h)?{documents:fB(o,h)}:{query:dB(o,h).Vt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=pO(o,l.resumeToken);const f=A0(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ot.min())>0){u.readTime=Dm(o,l.snapshotVersion.toTimestamp());const f=A0(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,t);const i=mB(this.serializer,t);i&&(n.labels=i),this.k_(n)}Y_(t){const n={};n.database=R0(this.serializer),n.removeTarget=t,this.k_(n)}}class sF extends xO{constructor(t,n,i,s,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=hB(t.writeResults,t.commitTime),i=Es(t.commitTime);return this.listener.ta(i,n)}na(){const t={};t.database=R0(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>uB(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{}class oF extends rF{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new Tt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(t,x0(n,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Tt(pt.UNKNOWN,o.toString())})}Jo(t,n,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Jo(t,x0(n,i),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Tt(pt.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class aF{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vr(n),this._a=!1):vt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class lF{constructor(t,n,i,s,o){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(l=>{i.enqueueAndForget(async()=>{Za(this)&&(vt(Ba,"Restarting streams for network reachability change."),await async function(h){const f=Pt(h);f.Ia.add(4),await Af(f),f.Aa.set("Unknown"),f.Ia.delete(4),await _g(f)}(this))})}),this.Aa=new aF(i,s)}}async function _g(e){if(Za(e))for(const t of e.da)await t(!0)}async function Af(e){for(const t of e.da)await t(!1)}function CO(e,t){const n=Pt(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),xT(n)?AT(n):Nc(n).x_()&&ET(n,t))}function wT(e,t){const n=Pt(e),i=Nc(n);n.Ta.delete(t),i.x_()&&RO(n,t),n.Ta.size===0&&(i.x_()?i.B_():Za(n)&&n.Aa.set("Unknown"))}function ET(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Nc(e).H_(t)}function RO(e,t){e.Ra.$e(t),Nc(e).Y_(t)}function AT(e){e.Ra=new nB({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),Nc(e).start(),e.Aa.aa()}function xT(e){return Za(e)&&!Nc(e).M_()&&e.Ta.size>0}function Za(e){return Pt(e).Ia.size===0}function IO(e){e.Ra=void 0}async function cF(e){e.Aa.set("Online")}async function uF(e){e.Ta.forEach((t,n)=>{ET(e,t)})}async function hF(e,t){IO(e),xT(e)?(e.Aa.la(t),AT(e)):e.Aa.set("Unknown")}async function fF(e,t,n){if(e.Aa.set("Online"),t instanceof dO&&t.state===2&&t.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ta.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ta.delete(u),s.Ra.removeTarget(u))}(e,t)}catch(i){vt(Ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Om(e,i)}else if(t instanceof Kp?e.Ra.Ye(t):t instanceof fO?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Ot.min()))try{const i=await EO(e.localStore);n.compareTo(i)>=0&&await function(o,l){const u=o.Ra.Pt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=o.Ta.get(f);p&&o.Ta.set(f,p.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const p=o.Ta.get(h);if(!p)return;o.Ta.set(h,p.withResumeToken(bn.EMPTY_BYTE_STRING,p.snapshotVersion)),RO(o,h);const y=new io(p.target,h,f,p.sequenceNumber);ET(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(e,n)}catch(i){vt(Ba,"Failed to raise snapshot:",i),await Om(e,i)}}async function Om(e,t,n){if(!kc(t))throw t;e.Ia.add(1),await Af(e),e.Aa.set("Offline"),n||(n=()=>EO(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{vt(Ba,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await _g(e)})}function DO(e,t){return t().catch(n=>Om(e,n,t))}async function vg(e){const t=Pt(e),n=Ao(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:lT;for(;dF(t);)try{const s=await KB(t.localStore,i);if(s===null){t.Pa.length===0&&n.B_();break}i=s.batchId,pF(t,s)}catch(s){await Om(t,s)}MO(t)&&OO(t)}function dF(e){return Za(e)&&e.Pa.length<10}function pF(e,t){e.Pa.push(t);const n=Ao(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function MO(e){return Za(e)&&!Ao(e).M_()&&e.Pa.length>0}function OO(e){Ao(e).start()}async function mF(e){Ao(e).na()}async function gF(e){const t=Ao(e);for(const n of e.Pa)t.X_(n.mutations)}async function yF(e,t,n){const i=e.Pa.shift(),s=gT.from(i,t,n);await DO(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await vg(e)}async function _F(e,t){t&&Ao(e).Z_&&await async function(i,s){if(function(l){return tB(l)&&l!==pt.ABORTED}(s.code)){const o=i.Pa.shift();Ao(i).N_(),await DO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await vg(i)}}(e,t),MO(e)&&OO(e)}async function C2(e,t){const n=Pt(e);n.asyncQueue.verifyOperationInProgress(),vt(Ba,"RemoteStore received new credentials");const i=Za(n);n.Ia.add(3),await Af(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await _g(n)}async function vF(e,t){const n=Pt(e);t?(n.Ia.delete(2),await _g(n)):t||(n.Ia.add(2),await Af(n),n.Aa.set("Unknown"))}function Nc(e){return e.Va||(e.Va=function(n,i,s){const o=Pt(n);return o.ia(),new iF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(e.datastore,e.asyncQueue,{Zo:cF.bind(null,e),e_:uF.bind(null,e),n_:hF.bind(null,e),J_:fF.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),xT(e)?AT(e):e.Aa.set("Unknown")):(await e.Va.stop(),IO(e))})),e.Va}function Ao(e){return e.ma||(e.ma=function(n,i,s){const o=Pt(n);return o.ia(),new sF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:mF.bind(null,e),n_:_F.bind(null,e),ea:gF.bind(null,e),ta:yF.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await vg(e)):(await e.ma.stop(),e.Pa.length>0&&(vt(Ba,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t,n,i,s,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,o){const l=Date.now()+i,u=new CT(t,n,l,s,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function RT(e,t){if(vr("AsyncQueue",`${t}: ${e}`),kc(e))return new Tt(pt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{static emptySet(t){return new cc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||wt.comparator(n.key,i.key):(n,i)=>wt.comparator(n.key,i.key),this.keyedMap=rh(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof cc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new cc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.fa=new Ee(wt.comparator)}track(t){const n=t.doc.key,i=this.fa.get(n);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(n,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(n):t.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):Rt(63341,{At:t,ga:i}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,i)=>{t.push(i)}),t}}class Sc{constructor(t,n,i,s,o,l,u,h,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,s,o){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new Sc(t,n,cc.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class TF{constructor(){this.queries=I2(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const s=Pt(n),o=s.queries;s.queries=I2(),o.forEach((l,u)=>{for(const h of u.wa)h.onError(i)})})(this,new Tt(pt.ABORTED,"Firestore shutting down"))}}function I2(){return new Wa(e=>JM(e),fg)}async function PO(e,t){const n=Pt(e);let i=3;const s=t.query;let o=n.queries.get(s);o?!o.Sa()&&t.ba()&&(i=2):(o=new bF,i=t.ba()?0:1);try{switch(i){case 0:o.ya=await n.onListen(s,!0);break;case 1:o.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=RT(l,`Initialization of query '${Kl(t.query)}' failed`);return void t.onError(u)}n.queries.set(s,o),o.wa.push(t),t.va(n.onlineState),o.ya&&t.Ca(o.ya)&&IT(n)}async function kO(e,t){const n=Pt(e),i=t.query;let s=3;const o=n.queries.get(i);if(o){const l=o.wa.indexOf(t);l>=0&&(o.wa.splice(l,1),o.wa.length===0?s=t.ba()?0:1:!o.Sa()&&t.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function SF(e,t){const n=Pt(e);let i=!1;for(const s of t){const o=s.query,l=n.queries.get(o);if(l){for(const u of l.wa)u.Ca(s)&&(i=!0);l.ya=s}}i&&IT(n)}function wF(e,t,n){const i=Pt(e),s=i.queries.get(t);if(s)for(const o of s.wa)o.onError(n);i.queries.delete(t)}function IT(e){e.Da.forEach(t=>{t.next()})}var M0,D2;(D2=M0||(M0={})).Fa="default",D2.Cache="cache";class NO{constructor(t,n,i){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Sc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Sc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==M0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.key=t}}class LO{constructor(t){this.key=t}}class EF{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=qt(),this.mutatedKeys=qt(),this.Xa=tO(t),this.eu=new cc(this.Xa)}get tu(){return this.Ha}nu(t,n){const i=n?n.ru:new R2,s=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),b=dg(this.query,y)?y:null,S=!!_&&this.mutatedKeys.has(_.key),C=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;_&&b?_.data.isEqual(b.data)?S!==C&&(i.track({type:3,doc:b}),E=!0):this.iu(_,b)||(i.track({type:2,doc:b}),E=!0,(h&&this.Xa(b,h)>0||f&&this.Xa(b,f)<0)&&(u=!0)):!_&&b?(i.track({type:0,doc:b}),E=!0):_&&!b&&(i.track({type:1,doc:_}),E=!0,(h||f)&&(u=!0)),E&&(b?(l=l.add(b),o=C?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{eu:l,ru:i,Ds:u,mutatedKeys:o}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const o=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const l=t.ru.pa();l.sort((p,y)=>function(b,S){const C=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{At:E})}};return C(b)-C(S)}(p.type,y.type)||this.Xa(p.doc,y.doc)),this.su(i),s=s!=null&&s;const u=n&&!s?this.ou():[],h=this.Za.size===0&&this.current&&!s?1:0,f=h!==this.Ya;return this.Ya=h,l.length!==0||f?{snapshot:new Sc(this.query,t.eu,o,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:u}:{_u:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new R2,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=qt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return t.forEach(i=>{this.Za.has(i)||n.push(new LO(i))}),this.Za.forEach(i=>{t.has(i)||n.push(new VO(i))}),n}uu(t){this.Ha=t.qs,this.Za=qt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Sc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const DT="SyncEngine";class AF{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class xF{constructor(t){this.key=t,this.lu=!1}}class CF{constructor(t,n,i,s,o,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Wa(u=>JM(u),fg),this.Tu=new Map,this.Iu=new Set,this.du=new Ee(wt.comparator),this.Eu=new Map,this.Au=new vT,this.Ru={},this.Vu=new Map,this.mu=Tc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function RF(e,t,n=!0){const i=HO(e);let s;const o=i.Pu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.cu()):s=await zO(i,t,n,!0),s}async function IF(e,t){const n=HO(e);await zO(n,t,!0,!1)}async function zO(e,t,n,i){const s=await ZB(e.localStore,Ss(t)),o=s.targetId,l=e.sharedClientState.addLocalQueryTarget(o,n);let u;return i&&(u=await DF(e,t,o,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&CO(e.remoteStore,s),u}async function DF(e,t,n,i,s){e.gu=(y,_,b)=>async function(C,E,I,j){let k=E.view.nu(I);k.Ds&&(k=await S2(C.localStore,E.query,!1).then(({documents:D})=>E.view.nu(D,k)));const N=j&&j.targetChanges.get(E.targetId),V=j&&j.targetMismatches.get(E.targetId)!=null,B=E.view.applyChanges(k,C.isPrimaryClient,N,V);return O2(C,E.targetId,B._u),B.snapshot}(e,y,_,b);const o=await S2(e.localStore,t,!0),l=new EF(t,o.qs),u=l.nu(o.documents),h=Ef.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),f=l.applyChanges(u,e.isPrimaryClient,h);O2(e,n,f._u);const p=new AF(t,n,l);return e.Pu.set(t,p),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),f.snapshot}async function MF(e,t,n){const i=Pt(e),s=i.Pu.get(t),o=i.Tu.get(s.targetId);if(o.length>1)return i.Tu.set(s.targetId,o.filter(l=>!fg(l,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await I0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&wT(i.remoteStore,s.targetId),O0(i,s.targetId)}).catch(Pc)):(O0(i,s.targetId),await I0(i.localStore,s.targetId,!0))}async function OF(e,t){const n=Pt(e),i=n.Pu.get(t),s=n.Tu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),wT(n.remoteStore,i.targetId))}async function PF(e,t,n){const i=jF(e);try{const s=await function(l,u){const h=Pt(l),f=ge.now(),p=u.reduce((b,S)=>b.add(S.key),qt());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let S=br(),C=qt();return h.Os.getEntries(b,p).next(E=>{S=E,S.forEach((I,j)=>{j.isValidDocument()||(C=C.add(I))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,S)).next(E=>{y=E;const I=[];for(const j of u){const k=Zj(j,y.get(j.key).overlayedDocument);k!=null&&I.push(new Ka(j.key,k,GM(k.value.mapValue),ws.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,I,u)}).next(E=>{_=E;const I=E.applyToLocalDocumentSet(y,C);return h.documentOverlayCache.saveOverlays(b,E.batchId,I)})}).then(()=>({batchId:_.batchId,changes:nO(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,h){let f=l.Ru[l.currentUser.toKey()];f||(f=new Ee(zt)),f=f.insert(u,h),l.Ru[l.currentUser.toKey()]=f}(i,s.batchId,n),await xf(i,s.changes),await vg(i.remoteStore)}catch(s){const o=RT(s,"Failed to persist write");n.reject(o)}}async function UO(e,t){const n=Pt(e);try{const i=await GB(n.localStore,t);t.targetChanges.forEach((s,o)=>{const l=n.Eu.get(o);l&&(ee(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.lu=!0:s.modifiedDocuments.size>0?ee(l.lu,14607):s.removedDocuments.size>0&&(ee(l.lu,42227),l.lu=!1))}),await xf(n,i,t)}catch(i){await Pc(i)}}function M2(e,t,n){const i=Pt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Pu.forEach((o,l)=>{const u=l.view.va(t);u.snapshot&&s.push(u.snapshot)}),function(l,u){const h=Pt(l);h.onlineState=u;let f=!1;h.queries.forEach((p,y)=>{for(const _ of y.wa)_.va(u)&&(f=!0)}),f&&IT(h)}(i.eventManager,t),s.length&&i.hu.J_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function kF(e,t,n){const i=Pt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Eu.get(t),o=s&&s.key;if(o){let l=new Ee(wt.comparator);l=l.insert(o,Rn.newNoDocument(o,Ot.min()));const u=qt().add(o),h=new gg(Ot.min(),new Map,new Ee(zt),l,u);await UO(i,h),i.du=i.du.remove(o),i.Eu.delete(t),MT(i)}else await I0(i.localStore,t,!1).then(()=>O0(i,t,n)).catch(Pc)}async function NF(e,t){const n=Pt(e),i=t.batch.batchId;try{const s=await $B(n.localStore,t);BO(n,i,null),jO(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await xf(n,s)}catch(s){await Pc(s)}}async function VF(e,t,n){const i=Pt(e);try{const s=await function(l,u){const h=Pt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,u).next(y=>(ee(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,t);BO(i,t,n),jO(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await xf(i,s)}catch(s){await Pc(s)}}function jO(e,t){(e.Vu.get(t)||[]).forEach(n=>{n.resolve()}),e.Vu.delete(t)}function BO(e,t,n){const i=Pt(e);let s=i.Ru[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(n?o.reject(n):o.resolve(),s=s.remove(t)),i.Ru[i.currentUser.toKey()]=s}}function O0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Tu.get(t))e.Pu.delete(i),n&&e.hu.pu(i,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(i=>{e.Au.containsKey(i)||FO(e,i)})}function FO(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(wT(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),MT(e))}function O2(e,t,n){for(const i of n)i instanceof VO?(e.Au.addReference(i.key,t),LF(e,i)):i instanceof LO?(vt(DT,"Document no longer in limbo: "+i.key),e.Au.removeReference(i.key,t),e.Au.containsKey(i.key)||FO(e,i.key)):Rt(19791,{yu:i})}function LF(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Iu.has(i)||(vt(DT,"New document in limbo: "+n),e.Iu.add(i),MT(e))}function MT(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new wt(me.fromString(t)),i=e.mu.next();e.Eu.set(i,new xF(n)),e.du=e.du.insert(n,i),CO(e.remoteStore,new io(Ss(dT(n.path)),i,"TargetPurposeLimboResolution",lg.ue))}}async function xf(e,t,n){const i=Pt(e),s=[],o=[],l=[];i.Pu.isEmpty()||(i.Pu.forEach((u,h)=>{l.push(i.gu(h,t,n).then(f=>{var p;if((f||n)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=TT.Es(h.targetId,f);o.push(y)}}))}),await Promise.all(l),i.hu.J_(s),await async function(h,f){const p=Pt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ft.forEach(f,_=>ft.forEach(_.Is,b=>p.persistence.referenceDelegate.addReference(y,_.targetId,b)).next(()=>ft.forEach(_.ds,b=>p.persistence.referenceDelegate.removeReference(y,_.targetId,b)))))}catch(y){if(!kc(y))throw y;vt(ST,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const b=p.Fs.get(_),S=b.snapshotVersion,C=b.withLastLimboFreeSnapshotVersion(S);p.Fs=p.Fs.insert(_,C)}}}(i.localStore,o))}async function zF(e,t){const n=Pt(e);if(!n.currentUser.isEqual(t)){vt(DT,"User change. New user:",t.toKey());const i=await wO(n.localStore,t);n.currentUser=t,function(o,l){o.Vu.forEach(u=>{u.forEach(h=>{h.reject(new Tt(pt.CANCELLED,l))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await xf(n,i.Bs)}}function UF(e,t){const n=Pt(e),i=n.Eu.get(t);if(i&&i.lu)return qt().add(i.key);{let s=qt();const o=n.Tu.get(t);if(!o)return s;for(const l of o){const u=n.Pu.get(l);s=s.unionWith(u.view.tu)}return s}}function HO(e){const t=Pt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=UO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kF.bind(null,t),t.hu.J_=SF.bind(null,t.eventManager),t.hu.pu=wF.bind(null,t.eventManager),t}function jF(e){const t=Pt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VF.bind(null,t),t}class Pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return qB(this.persistence,new BB,t.initialUser,this.serializer)}Du(t){return new SO(bT.Vi,this.serializer)}bu(t){return new YB}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pm.provider={build:()=>new Pm};class BF extends Pm{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){ee(this.persistence.referenceDelegate instanceof Mm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new xB(i,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new SO(i=>Mm.Vi(i,n),this.serializer)}}class P0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>M2(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zF.bind(null,this.syncEngine),await vF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new TF}()}createDatastore(t){const n=yg(t.databaseInfo.databaseId),i=function(o){return new nF(o)}(t.databaseInfo);return function(o,l,u,h){return new oF(o,l,u,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,o,l,u){return new lF(i,s,o,l,u)}(this.localStore,this.datastore,t.asyncQueue,n=>M2(this.syncEngine,n,0),function(){return A2.C()?new A2:new XB}())}createSyncEngine(t,n){return function(s,o,l,u,h,f,p){const y=new CF(s,o,l,u,h,f);return p&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const o=Pt(s);vt(Ba,"RemoteStore shutting down."),o.Ia.add(5),await Af(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}P0.provider={build:()=>new P0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):vr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="FirestoreClient";class FF{constructor(t,n,i,s,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Cn.UNAUTHENTICATED,this.clientId=oT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{vt(xo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(vt(xo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=RT(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function yv(e,t){e.asyncQueue.verifyOperationInProgress(),vt(xo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await wO(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>{vo("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{vt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{vo("Terminating Firestore due to IndexedDb database deletion failed",s)})}),e._offlineComponents=t}async function P2(e,t){e.asyncQueue.verifyOperationInProgress();const n=await HF(e);vt(xo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>C2(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>C2(t.remoteStore,s)),e._onlineComponents=t}async function HF(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){vt(xo,"Using user provided OfflineComponentProvider");try{await yv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===pt.FAILED_PRECONDITION||s.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await yv(e,new Pm)}}else vt(xo,"Using default OfflineComponentProvider"),await yv(e,new BF(void 0));return e._offlineComponents}async function $O(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(vt(xo,"Using user provided OnlineComponentProvider"),await P2(e,e._uninitializedComponentsProvider._online)):(vt(xo,"Using default OnlineComponentProvider"),await P2(e,new P0))),e._onlineComponents}function qF(e){return $O(e).then(t=>t.syncEngine)}async function GO(e){const t=await $O(e),n=t.eventManager;return n.onListen=RF.bind(null,t.syncEngine),n.onUnlisten=MF.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IF.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=OF.bind(null,t.syncEngine),n}function $F(e,t,n={}){const i=new dr;return e.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const p=new qO({next:_=>{p.Ou(),l.enqueueAndForget(()=>kO(o,y));const b=_.docs.has(u);!b&&_.fromCache?f.reject(new Tt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&h&&h.source==="server"?f.reject(new Tt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new NO(dT(u.path),p,{includeMetadataChanges:!0,ka:!0});return PO(o,y)}(await GO(e),e.asyncQueue,t,n,i)),i.promise}function GF(e,t,n={}){const i=new dr;return e.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const p=new qO({next:_=>{p.Ou(),l.enqueueAndForget(()=>kO(o,y)),_.fromCache&&h.source==="server"?f.reject(new Tt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new NO(u,p,{includeMetadataChanges:!0,ka:!0});return PO(o,y)}(await GO(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="firestore.googleapis.com",N2=!0;class V2{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KO,this.ssl=N2}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:N2;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=TO;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<EB)throw new Tt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WO((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Tt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Tt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Tt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bg{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V2(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new JU;switch(i.type){case"firstParty":return new ij(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Tt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=k2.get(n);i&&(vt("ComponentProvider","Removing Datastore"),k2.delete(n),i.terminate())}(this),Promise.resolve()}}function WF(e,t,n,i={}){var s;e=bo(e,bg);const o=Ic(t),l=e._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),h=`${t}:${n}`;o&&(FD(`https://${h}`),HD("Firestore",!0)),l.host!==KO&&l.host!==h&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:i});if(!La(f,u)&&(e._setSettings(f),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=Cn.MOCK_USER;else{p=Az(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Tt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Cn(_)}e._authCredentials=new tj(new PM(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Tg(this.firestore,t,this._query)}}class Je{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Je(this.firestore,t,this._key)}toJSON(){return{type:Je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Sf(n,Je._jsonSchema))return new Je(t,i||null,new wt(me.fromString(n.referencePath)))}}Je._jsonSchemaVersion="firestore/documentReference/1.0",Je._jsonSchema={type:qe("string",Je._jsonSchemaVersion),referencePath:qe("string")};class ho extends Tg{constructor(t,n,i){super(t,n,dT(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Je(this.firestore,null,new wt(t))}withConverter(t){return new ho(this.firestore,t,this._path)}}function fa(e,t,...n){if(e=Ki(e),NM("collection","path",t),e instanceof bg){const i=me.fromString(t,...n);return Qx(i),new ho(e,null,i)}{if(!(e instanceof Je||e instanceof ho))throw new Tt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(me.fromString(t,...n));return Qx(i),new ho(e.firestore,null,i)}}function Li(e,t,...n){if(e=Ki(e),arguments.length===1&&(t=oT.newId()),NM("doc","path",t),e instanceof bg){const i=me.fromString(t,...n);return Zx(i),new Je(e,null,new wt(i))}{if(!(e instanceof Je||e instanceof ho))throw new Tt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(me.fromString(t,...n));return Zx(i),new Je(e.firestore,e instanceof ho?e.converter:null,new wt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="AsyncQueue";class z2{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new AO(this,"async_queue_retry"),this.oc=()=>{const i=gv();i&&vt(L2,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const n=gv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=gv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new dr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!kc(t))throw t;vt(L2,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,vr("INTERNAL UNHANDLED ERROR: ",U2(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(t,n,i){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const s=CT.createAndSchedule(this,t,n,i,o=>this.lc(o));return this.ec.push(s),s}ac(){this.tc&&Rt(47125,{hc:U2(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function U2(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Cf extends bg{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new z2,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new z2(t),this._firestoreClient=void 0,await t}}}function KF(e,t){const n=typeof e=="object"?e:WD(),i=typeof e=="string"?e:Em,s=Wb(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=wz("firestore");o&&WF(s,...o)}return s}function OT(e){if(e._terminated)throw new Tt(pt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ZF(e),e._firestoreClient}function ZF(e){var t,n,i;const s=e._freezeSettings(),o=function(u,h,f,p){return new vj(u,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,WO(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new FF(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ei(bn.fromBase64String(t))}catch(n){throw new Tt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ei(bn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sf(t,Ei._jsonSchema))return Ei.fromBase64String(t.bytes)}}Ei._jsonSchemaVersion="firestore/bytes/1.0",Ei._jsonSchema={type:qe("string",Ei._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Tt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Tt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:As._jsonSchemaVersion}}static fromJSON(t){if(Sf(t,As._jsonSchema))return new As(t.latitude,t.longitude)}}As._jsonSchemaVersion="firestore/geoPoint/1.0",As._jsonSchema={type:qe("string",As._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sf(t,xs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new xs(t.vectorValues);throw new Tt(pt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xs._jsonSchemaVersion="firestore/vectorValue/1.0",xs._jsonSchema={type:qe("string",xs._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=/^__.*__$/;class YF{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Ka(t,this.data,this.fieldMask,n,this.fieldTransforms):new wf(t,this.data,n,this.fieldTransforms)}}function QO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ec:e})}}class kT{constructor(t,n,i,s,o,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new kT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Rc({path:i,mc:!1});return s.fc(t),s}gc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return km(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(QO(this.Ec)&&QF.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class XF{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||yg(t)}Dc(t,n,i,s=!1){return new kT({Ec:t,methodName:n,bc:i,path:vn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JF(e){const t=e._freezeSettings(),n=yg(e._databaseId);return new XF(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tH(e,t,n,i,s,o={}){const l=e.Dc(o.merge||o.mergeFields?2:0,t,n,s);tP("Data must be an object, but it was:",l,i);const u=XO(i,l);let h,f;if(o.merge)h=new Fi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const _=eH(t,y,n);if(!l.contains(_))throw new Tt(pt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);iH(p,_)||p.push(_)}h=new Fi(p),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new YF(new wi(u),h,f)}function YO(e,t){if(JO(e=Ki(e)))return tP("Unsupported field value:",t,e),XO(e,t);if(e instanceof ZO)return function(i,s){if(!QO(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const u of i){let h=YO(u,s.yc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(e,t)}return function(i,s){if((i=Ki(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Hj(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ge.fromDate(i);return{timestampValue:Dm(s.serializer,o)}}if(i instanceof ge){const o=new ge(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Dm(s.serializer,o)}}if(i instanceof As)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ei)return{bytesValue:pO(s.serializer,i._byteString)};if(i instanceof Je){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_T(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof xs)return function(l,u){return{mapValue:{fields:{[qM]:{stringValue:$M},[Am]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.wc("VectorValues must only contain numeric values.");return pT(u.serializer,f)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${aT(i)}`)}(e,t)}function XO(e,t){const n={};return zM(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ga(e,(i,s)=>{const o=YO(s,t.Vc(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function JO(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ge||e instanceof As||e instanceof Ei||e instanceof Je||e instanceof ZO||e instanceof xs)}function tP(e,t,n){if(!JO(n)||!VM(n)){const i=aT(n);throw i==="an object"?t.wc(e+" a custom object"):t.wc(e+" "+i)}}function eH(e,t,n){if((t=Ki(t))instanceof PT)return t._internalPath;if(typeof t=="string")return eP(e,t);throw km("Field path arguments must be of type string or ",e,!1,void 0,n)}const nH=new RegExp("[~\\*/\\[\\]]");function eP(e,t,n){if(t.search(nH)>=0)throw km(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new PT(...t.split("."))._internalPath}catch{throw km(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function km(e,t,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${t}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new Tt(pt.INVALID_ARGUMENT,u+e+h)}function iH(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(t,n,i,s,o){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(iP("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sH extends nP{data(){return super.data()}}function iP(e,t){return typeof t=="string"?eP(e,t):t instanceof PT?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Tt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oH{convertValue(t,n="none"){switch(Eo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(wo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Ga(t,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertVectorValue(t){var n,i,s;const o=(s=(i=(n=t.fields)===null||n===void 0?void 0:n[Am].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Ne(l.doubleValue));return new xs(o)}convertGeoPoint(t){return new As(Ne(t.latitude),Ne(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=ug(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Zh(t));default:return null}}convertTimestamp(t){const n=So(t);return new ge(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=me.fromString(t);ee(bO(i),9688,{name:t});const s=new Qh(i.get(1),i.get(3)),o=new wt(i.popFirst(5));return s.isEqual(n)||vr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class ah{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Da extends nP{constructor(t,n,i,s,o,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(iP("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(pt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:qe("string",Da._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Zp extends Da{data(t={}){return super.data(t)}}class uc{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new ah(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Zp(this._firestore,this._userDataWriter,i.key,i,new ah(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Tt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const h=new Zp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ah(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new Zp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new ah(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:lH(u.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(pt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=uc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=oT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lH(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(e){e=bo(e,Je);const t=bo(e.firestore,Cf);return $F(OT(t),e._key).then(n=>cH(t,e,n))}uc._jsonSchemaVersion="firestore/querySnapshot/1.0",uc._jsonSchema={type:qe("string",uc._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class sP extends oH{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ei(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function ql(e){e=bo(e,Tg);const t=bo(e.firestore,Cf),n=OT(t),i=new sP(t);return rH(e._query),GF(n,e._query).then(s=>new uc(t,i,e,s))}function vv(e,t,n){e=bo(e,Je);const i=bo(e.firestore,Cf),s=aH(e.converter,t);return rP(i,[tH(JF(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,ws.none())])}function $l(e){return rP(bo(e.firestore,Cf),[new mT(e._key,ws.none())])}function rP(e,t){return function(i,s){const o=new dr;return i.asyncQueue.enqueueAndForget(async()=>PF(await qF(i),s,o)),o.promise}(OT(e),t)}function cH(e,t,n){const i=n.docs.get(t._key),s=new sP(e);return new Da(e,s,t._key,i,new ah(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){Oc=s})(Dc),gc(new za("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new Cf(new ej(i.getProvider("auth-internal")),new sj(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Tt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qh(f.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),co(qx,$x,t),co(qx,$x,"esm2017")})();const uH={apiKey:"AIzaSyBiZ3yqRbRvgtXIQXPfMBNipMwjJ7KYTVY",authDomain:"coinradar-55e01.firebaseapp.com",projectId:"coinradar-55e01",storageBucket:"coinradar-55e01.firebasestorage.app",messagingSenderId:"470104653956",appId:"1:470104653956:web:ad99fd8458307e1306c2d1",measurementId:"G-CTN4WWSZQD"},hH=GD(uH),qn=KF(hH),fH=new ur,dH=ZU();function ut(e,t,n){function i(u,h){var f;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(f=u._zod).traits??(f.traits=new Set),u._zod.traits.add(e),t(u,h);for(const p in l.prototype)p in u||Object.defineProperty(u,p,{value:l.prototype[p].bind(u)});u._zod.constr=l,u._zod.def=h}const s=(n==null?void 0:n.Parent)??Object;class o extends s{}Object.defineProperty(o,"name",{value:e});function l(u){var h;const f=n!=null&&n.Parent?new o:this;i(f,u),(h=f._zod).deferred??(h.deferred=[]);for(const p of f._zod.deferred)p();return f}return Object.defineProperty(l,"init",{value:i}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>{var h,f;return n!=null&&n.Parent&&u instanceof n.Parent?!0:(f=(h=u==null?void 0:u._zod)==null?void 0:h.traits)==null?void 0:f.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class hc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class oP extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const aP={};function Fa(e){return aP}function pH(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,s])=>t.indexOf(+i)===-1).map(([i,s])=>s)}function k0(e,t){return typeof t=="bigint"?t.toString():t}function NT(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function VT(e){return e==null}function LT(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function mH(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let s=(i.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(i)){const h=i.match(/\d?e-(\d?)/);h!=null&&h[1]&&(s=Number.parseInt(h[1]))}const o=n>s?n:s,l=Number.parseInt(e.toFixed(o).replace(".","")),u=Number.parseInt(t.toFixed(o).replace(".",""));return l%u/10**o}const j2=Symbol("evaluating");function de(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==j2)return i===void 0&&(i=j2,i=n()),i},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function gH(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Io(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Vc(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function B2(e){return JSON.stringify(e)}const lP="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Nm(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const yH=NT(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function tf(e){if(Nm(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Nm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function cP(e){return tf(e)?{...e}:e}const _H=new Set(["string","number","symbol"]);function Sg(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Do(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function Et(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function vH(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const bH={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function TH(e,t){const n=e._zod.def,i=Vc(e._zod.def,{get shape(){const s={};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(s[o]=n.shape[o])}return Io(this,"shape",s),s},checks:[]});return Do(e,i)}function SH(e,t){const n=e._zod.def,i=Vc(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete s[o]}return Io(this,"shape",s),s},checks:[]});return Do(e,i)}function wH(e,t){if(!tf(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=Vc(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return Io(this,"shape",o),o},checks:[]});return Do(e,s)}function EH(e,t){if(!tf(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const i={...e._zod.def.shape,...t};return Io(this,"shape",i),i},checks:e._zod.def.checks};return Do(e,n)}function AH(e,t){const n=Vc(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return Io(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return Do(e,n)}function xH(e,t,n){const i=Vc(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(n)for(const l in n){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(o[l]=e?new e({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)o[l]=e?new e({type:"optional",innerType:s[l]}):s[l];return Io(this,"shape",o),o},checks:[]});return Do(t,i)}function CH(e,t,n){const i=Vc(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(n)for(const l in n){if(!(l in o))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(o[l]=new e({type:"nonoptional",innerType:s[l]}))}else for(const l in s)o[l]=new e({type:"nonoptional",innerType:s[l]});return Io(this,"shape",o),o},checks:[]});return Do(t,i)}function ic(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function uP(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function yp(e){return typeof e=="string"?e:e==null?void 0:e.message}function Ha(e,t,n){var s,o,l,u,h,f;const i={...e,path:e.path??[]};if(!e.message){const p=yp((l=(o=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:o.error)==null?void 0:l.call(o,e))??yp((u=t==null?void 0:t.error)==null?void 0:u.call(t,e))??yp((h=n.customError)==null?void 0:h.call(n,e))??yp((f=n.localeError)==null?void 0:f.call(n,e))??"Invalid input";i.message=p}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function zT(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ef(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const hP=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,k0,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},fP=ut("$ZodError",hP),dP=ut("$ZodError",hP,{Parent:Error});function RH(e,t=n=>n.message){const n={},i=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:n}}function IH(e,t){const n=t||function(o){return o.message},i={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>s({issues:u}));else if(l.code==="invalid_key")s({issues:l.issues});else if(l.code==="invalid_element")s({issues:l.issues});else if(l.path.length===0)i._errors.push(n(l));else{let u=i,h=0;for(;h<l.path.length;){const f=l.path[h];h===l.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(l))):u[f]=u[f]||{_errors:[]},u=u[f],h++}}};return s(e),i}const UT=e=>(t,n,i,s)=>{const o=i?Object.assign(i,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},o);if(l instanceof Promise)throw new hc;if(l.issues.length){const u=new((s==null?void 0:s.Err)??e)(l.issues.map(h=>Ha(h,o,Fa())));throw lP(u,s==null?void 0:s.callee),u}return l.value},jT=e=>async(t,n,i,s)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},o);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new((s==null?void 0:s.Err)??e)(l.issues.map(h=>Ha(h,o,Fa())));throw lP(u,s==null?void 0:s.callee),u}return l.value},wg=e=>(t,n,i)=>{const s=i?{...i,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new hc;return o.issues.length?{success:!1,error:new(e??fP)(o.issues.map(l=>Ha(l,s,Fa())))}:{success:!0,data:o.value}},DH=wg(dP),Eg=e=>async(t,n,i)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(l=>Ha(l,s,Fa())))}:{success:!0,data:o.value}},MH=Eg(dP),OH=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return UT(e)(t,n,s)},PH=e=>(t,n,i)=>UT(e)(t,n,i),kH=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return jT(e)(t,n,s)},NH=e=>async(t,n,i)=>jT(e)(t,n,i),VH=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return wg(e)(t,n,s)},LH=e=>(t,n,i)=>wg(e)(t,n,i),zH=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Eg(e)(t,n,s)},UH=e=>async(t,n,i)=>Eg(e)(t,n,i),jH=/^[cC][^\s-]{8,}$/,BH=/^[0-9a-z]+$/,FH=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,HH=/^[0-9a-vA-V]{20}$/,qH=/^[A-Za-z0-9]{27}$/,$H=/^[a-zA-Z0-9_-]{21}$/,GH=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,WH=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,F2=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,KH=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ZH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function QH(){return new RegExp(ZH,"u")}const YH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,XH=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,JH=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,tq=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eq=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,pP=/^[A-Za-z0-9_-]*$/,nq=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,iq=/^\+(?:[0-9]){6,14}[0-9]$/,mP="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",sq=new RegExp(`^${mP}$`);function gP(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function rq(e){return new RegExp(`^${gP(e)}$`)}function oq(e){const t=gP({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${mP}T(?:${i})$`)}const aq=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},lq=/^\d+$/,cq=/^-?\d+(?:\.\d+)?/i,uq=/^[^A-Z]*$/,hq=/^[^a-z]*$/,Qn=ut("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),yP={number:"number",bigint:"bigint",object:"date"},_P=ut("$ZodCheckLessThan",(e,t)=>{Qn.init(e,t);const n=yP[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,o=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),vP=ut("$ZodCheckGreaterThan",(e,t)=>{Qn.init(e,t);const n=yP[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,o=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),fq=ut("$ZodCheckMultipleOf",(e,t)=>{Qn.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):mH(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),dq=ut("$ZodCheckNumberFormat",(e,t)=>{var l;Qn.init(e,t),t.format=t.format||"float64";const n=(l=t.format)==null?void 0:l.includes("int"),i=n?"int":"number",[s,o]=bH[t.format];e._zod.onattach.push(u=>{const h=u._zod.bag;h.format=t.format,h.minimum=s,h.maximum=o,n&&(h.pattern=lq)}),e._zod.check=u=>{const h=u.value;if(n){if(!Number.isInteger(h)){u.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:h,inst:e});return}if(!Number.isSafeInteger(h)){h>0?u.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):u.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort});return}}h<s&&u.issues.push({origin:"number",input:h,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),h>o&&u.issues.push({origin:"number",input:h,code:"too_big",maximum:o,inst:e})}}),pq=ut("$ZodCheckMaxLength",(e,t)=>{var n;Qn.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!VT(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const s=i.value;if(s.length<=t.maximum)return;const l=zT(s);i.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),mq=ut("$ZodCheckMinLength",(e,t)=>{var n;Qn.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!VT(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const s=i.value;if(s.length>=t.minimum)return;const l=zT(s);i.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),gq=ut("$ZodCheckLengthEquals",(e,t)=>{var n;Qn.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!VT(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=i=>{const s=i.value,o=s.length;if(o===t.length)return;const l=zT(s),u=o>t.length;i.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),Ag=ut("$ZodCheckStringFormat",(e,t)=>{var n,i;Qn.init(e,t),e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),yq=ut("$ZodCheckRegex",(e,t)=>{Ag.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),_q=ut("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=uq),Ag.init(e,t)}),vq=ut("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=hq),Ag.init(e,t)}),bq=ut("$ZodCheckIncludes",(e,t)=>{Qn.init(e,t);const n=Sg(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(i)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),Tq=ut("$ZodCheckStartsWith",(e,t)=>{Qn.init(e,t);const n=new RegExp(`^${Sg(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),Sq=ut("$ZodCheckEndsWith",(e,t)=>{Qn.init(e,t);const n=new RegExp(`.*${Sg(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),wq=ut("$ZodCheckOverwrite",(e,t)=>{Qn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Eq{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(l=>l),s=Math.min(...i.map(l=>l.length-l.trimStart().length)),o=i.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of o)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,s.join(`
`))}}const Aq={major:4,minor:1,patch:5},Le=ut("$ZodType",(e,t)=>{var s;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Aq;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const o of i)for(const l of o._zod.onattach)l(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const o=(u,h,f)=>{let p=ic(u),y;for(const _ of h){if(_._zod.def.when){if(!_._zod.def.when(u))continue}else if(p)continue;const b=u.issues.length,S=_._zod.check(u);if(S instanceof Promise&&(f==null?void 0:f.async)===!1)throw new hc;if(y||S instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await S,u.issues.length!==b&&(p||(p=ic(u,b)))});else{if(u.issues.length===b)continue;p||(p=ic(u,b))}}return y?y.then(()=>u):u},l=(u,h,f)=>{if(ic(u))return u.aborted=!0,u;const p=o(h,i,f);if(p instanceof Promise){if(f.async===!1)throw new hc;return p.then(y=>e._zod.parse(y,f))}return e._zod.parse(p,f)};e._zod.run=(u,h)=>{if(h.skipChecks)return e._zod.parse(u,h);if(h.direction==="backward"){const p=e._zod.parse({value:u.value,issues:[]},{...h,skipChecks:!0});return p instanceof Promise?p.then(y=>l(y,u,h)):l(p,u,h)}const f=e._zod.parse(u,h);if(f instanceof Promise){if(h.async===!1)throw new hc;return f.then(p=>o(p,i,h))}return o(f,i,h)}}e["~standard"]={validate:o=>{var l;try{const u=DH(e,o);return u.success?{value:u.data}:{issues:(l=u.error)==null?void 0:l.issues}}catch{return MH(e,o).then(h=>{var f;return h.success?{value:h.data}:{issues:(f=h.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}}),BT=ut("$ZodString",(e,t)=>{var n;Le.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??aq(e._zod.bag),e._zod.parse=(i,s)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),ve=ut("$ZodStringFormat",(e,t)=>{Ag.init(e,t),BT.init(e,t)}),xq=ut("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=WH),ve.init(e,t)}),Cq=ut("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=F2(i))}else t.pattern??(t.pattern=F2());ve.init(e,t)}),Rq=ut("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=KH),ve.init(e,t)}),Iq=ut("$ZodURL",(e,t)=>{ve.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),s=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:nq.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Dq=ut("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=QH()),ve.init(e,t)}),Mq=ut("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=$H),ve.init(e,t)}),Oq=ut("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=jH),ve.init(e,t)}),Pq=ut("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=BH),ve.init(e,t)}),kq=ut("$ZodULID",(e,t)=>{t.pattern??(t.pattern=FH),ve.init(e,t)}),Nq=ut("$ZodXID",(e,t)=>{t.pattern??(t.pattern=HH),ve.init(e,t)}),Vq=ut("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=qH),ve.init(e,t)}),Lq=ut("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=oq(t)),ve.init(e,t)}),zq=ut("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=sq),ve.init(e,t)}),Uq=ut("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=rq(t)),ve.init(e,t)}),jq=ut("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=GH),ve.init(e,t)}),Bq=ut("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=YH),ve.init(e,t),e._zod.onattach.push(n=>{const i=n._zod.bag;i.format="ipv4"})}),Fq=ut("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=XH),ve.init(e,t),e._zod.onattach.push(n=>{const i=n._zod.bag;i.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Hq=ut("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=JH),ve.init(e,t)}),qq=ut("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=tq),ve.init(e,t),e._zod.check=n=>{const[i,s]=n.value.split("/");try{if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function bP(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const $q=ut("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=eq),ve.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{bP(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Gq(e){if(!pP.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return bP(n)}const Wq=ut("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=pP),ve.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{Gq(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Kq=ut("$ZodE164",(e,t)=>{t.pattern??(t.pattern=iq),ve.init(e,t)});function Zq(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const s=JSON.parse(atob(i));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Qq=ut("$ZodJWT",(e,t)=>{ve.init(e,t),e._zod.check=n=>{Zq(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),TP=ut("$ZodNumber",(e,t)=>{Le.init(e,t),e._zod.pattern=e._zod.bag.pattern??cq,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...o?{received:o}:{}}),n}}),Yq=ut("$ZodNumber",(e,t)=>{dq.init(e,t),TP.init(e,t)}),Xq=ut("$ZodAny",(e,t)=>{Le.init(e,t),e._zod.parse=n=>n}),Jq=ut("$ZodUnknown",(e,t)=>{Le.init(e,t),e._zod.parse=n=>n}),t$=ut("$ZodNever",(e,t)=>{Le.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function H2(e,t,n){e.issues.length&&t.issues.push(...uP(n,e.issues)),t.value[n]=e.value}const e$=ut("$ZodArray",(e,t)=>{Le.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const o=[];for(let l=0;l<s.length;l++){const u=s[l],h=t.element._zod.run({value:u,issues:[]},i);h instanceof Promise?o.push(h.then(f=>H2(f,n,l))):H2(h,n,l)}return o.length?Promise.all(o).then(()=>n):n}});function Vm(e,t,n,i){e.issues.length&&t.issues.push(...uP(n,e.issues)),e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function SP(e){const t=Object.keys(e.shape);for(const i of t)if(!e.shape[i]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const n=vH(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function wP(e,t,n,i,s,o){const l=[],u=s.keySet,h=s.catchall._zod,f=h.def.type;for(const p of Object.keys(t)){if(u.has(p))continue;if(f==="never"){l.push(p);continue}const y=h.run({value:t[p],issues:[]},i);y instanceof Promise?e.push(y.then(_=>Vm(_,n,p,t))):Vm(y,n,p,t)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const n$=ut("$ZodObject",(e,t)=>{Le.init(e,t);const n=NT(()=>SP(t));de(e._zod,"propValues",()=>{const l=t.shape,u={};for(const h in l){const f=l[h]._zod;if(f.values){u[h]??(u[h]=new Set);for(const p of f.values)u[h].add(p)}}return u});const i=Nm,s=t.catchall;let o;e._zod.parse=(l,u)=>{o??(o=n.value);const h=l.value;if(!i(h))return l.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),l;l.value={};const f=[],p=o.shape;for(const y of o.keys){const b=p[y]._zod.run({value:h[y],issues:[]},u);b instanceof Promise?f.push(b.then(S=>Vm(S,l,y,h))):Vm(b,l,y,h)}return s?wP(f,h,l,u,n.value,e):f.length?Promise.all(f).then(()=>l):l}}),i$=ut("$ZodObjectJIT",(e,t)=>{n$.init(e,t);const n=e._zod.parse,i=NT(()=>SP(t)),s=_=>{const b=new Eq(["shape","payload","ctx"]),S=i.value,C=k=>{const N=B2(k);return`shape[${N}]._zod.run({ value: input[${N}], issues: [] }, ctx)`};b.write("const input = payload.value;");const E=Object.create(null);let I=0;for(const k of S.keys)E[k]=`key_${I++}`;b.write("const newResult = {}");for(const k of S.keys){const N=E[k],V=B2(k);b.write(`const ${N} = ${C(k)};`),b.write(`
        if (${N}.issues.length) {
          payload.issues = payload.issues.concat(${N}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${V}, ...iss.path] : [${V}]
          })));
        }
        
        if (${N}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${N}.value;
        }
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const j=b.compile();return(k,N)=>j(_,k,N)};let o;const l=Nm,u=!aP.jitless,f=u&&yH.value,p=t.catchall;let y;e._zod.parse=(_,b)=>{y??(y=i.value);const S=_.value;return l(S)?u&&f&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(o||(o=s(t.shape)),_=o(_,b),p?wP([],S,_,b,y,e):_):n(_,b):(_.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),_)}});function q2(e,t,n,i){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const s=e.filter(o=>!ic(o));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(o=>o.issues.map(l=>Ha(l,i,Fa())))}),t)}const s$=ut("$ZodUnion",(e,t)=>{Le.init(e,t),de(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),de(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),de(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),de(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>LT(o.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(s,o)=>{if(n)return i(s,o);let l=!1;const u=[];for(const h of t.options){const f=h._zod.run({value:s.value,issues:[]},o);if(f instanceof Promise)u.push(f),l=!0;else{if(f.issues.length===0)return f;u.push(f)}}return l?Promise.all(u).then(h=>q2(h,s,e,o)):q2(u,s,e,o)}}),r$=ut("$ZodIntersection",(e,t)=>{Le.init(e,t),e._zod.parse=(n,i)=>{const s=n.value,o=t.left._zod.run({value:s,issues:[]},i),l=t.right._zod.run({value:s,issues:[]},i);return o instanceof Promise||l instanceof Promise?Promise.all([o,l]).then(([h,f])=>$2(n,h,f)):$2(n,o,l)}});function N0(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(tf(e)&&tf(t)){const n=Object.keys(t),i=Object.keys(e).filter(o=>n.indexOf(o)!==-1),s={...e,...t};for(const o of i){const l=N0(e[o],t[o]);if(!l.valid)return{valid:!1,mergeErrorPath:[o,...l.mergeErrorPath]};s[o]=l.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const s=e[i],o=t[i],l=N0(s,o);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function $2(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),ic(e))return e;const i=N0(t.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const o$=ut("$ZodEnum",(e,t)=>{Le.init(e,t);const n=pH(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(s=>_H.has(typeof s)).map(s=>typeof s=="string"?Sg(s):s.toString()).join("|")})$`),e._zod.parse=(s,o)=>{const l=s.value;return i.has(l)||s.issues.push({code:"invalid_value",values:n,input:l,inst:e}),s}}),a$=ut("$ZodTransform",(e,t)=>{Le.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new oP(e.constructor.name);const s=t.transform(n.value,n);if(i.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(n.value=l,n));if(s instanceof Promise)throw new hc;return n.value=s,n}});function G2(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const l$=ut("$ZodOptional",(e,t)=>{Le.init(e,t),e._zod.optin="optional",e._zod.optout="optional",de(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),de(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${LT(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(o=>G2(o,n.value)):G2(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),c$=ut("$ZodNullable",(e,t)=>{Le.init(e,t),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),de(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${LT(n.source)}|null)$`):void 0}),de(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),u$=ut("$ZodDefault",(e,t)=>{Le.init(e,t),e._zod.optin="optional",de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(o=>W2(o,t)):W2(s,t)}});function W2(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const h$=ut("$ZodPrefault",(e,t)=>{Le.init(e,t),e._zod.optin="optional",de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),f$=ut("$ZodNonOptional",(e,t)=>{Le.init(e,t),de(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(o=>K2(o,e)):K2(s,e)}});function K2(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const d$=ut("$ZodCatch",(e,t)=>{Le.init(e,t),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),de(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(l=>Ha(l,i,Fa()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>Ha(o,i,Fa()))},input:n.value}),n.issues=[]),n)}}),p$=ut("$ZodPipe",(e,t)=>{Le.init(e,t),de(e._zod,"values",()=>t.in._zod.values),de(e._zod,"optin",()=>t.in._zod.optin),de(e._zod,"optout",()=>t.out._zod.optout),de(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const o=t.out._zod.run(n,i);return o instanceof Promise?o.then(l=>_p(l,t.in,i)):_p(o,t.in,i)}const s=t.in._zod.run(n,i);return s instanceof Promise?s.then(o=>_p(o,t.out,i)):_p(s,t.out,i)}});function _p(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const m$=ut("$ZodReadonly",(e,t)=>{Le.init(e,t),de(e._zod,"propValues",()=>t.innerType._zod.propValues),de(e._zod,"values",()=>t.innerType._zod.values),de(e._zod,"optin",()=>t.innerType._zod.optin),de(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(Z2):Z2(s)}});function Z2(e){return e.value=Object.freeze(e.value),e}const g$=ut("$ZodCustom",(e,t)=>{Qn.init(e,t),Le.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,s=t.fn(i);if(s instanceof Promise)return s.then(o=>Q2(o,n,i,e));Q2(s,n,i,e)}});function Q2(e,t,n,i){if(!e){const s={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(s.params=i._zod.def.params),t.issues.push(ef(s))}}class y${constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const i=n[0];if(this._map.set(t,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const s={...i,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function _$(){return new y$}const vp=_$();function v$(e,t){return new e({type:"string",...Et(t)})}function b$(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Et(t)})}function Y2(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Et(t)})}function T$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Et(t)})}function S$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Et(t)})}function w$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Et(t)})}function E$(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Et(t)})}function A$(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Et(t)})}function x$(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Et(t)})}function C$(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Et(t)})}function R$(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Et(t)})}function I$(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Et(t)})}function D$(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Et(t)})}function M$(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Et(t)})}function O$(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Et(t)})}function P$(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Et(t)})}function k$(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Et(t)})}function N$(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Et(t)})}function V$(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Et(t)})}function L$(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Et(t)})}function z$(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Et(t)})}function U$(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Et(t)})}function j$(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Et(t)})}function B$(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Et(t)})}function F$(e,t){return new e({type:"string",format:"date",check:"string_format",...Et(t)})}function H$(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Et(t)})}function q$(e,t){return new e({type:"string",format:"duration",check:"string_format",...Et(t)})}function $$(e,t){return new e({type:"number",checks:[],...Et(t)})}function G$(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Et(t)})}function W$(e){return new e({type:"any"})}function K$(e){return new e({type:"unknown"})}function Z$(e,t){return new e({type:"never",...Et(t)})}function X2(e,t){return new _P({check:"less_than",...Et(t),value:e,inclusive:!1})}function bv(e,t){return new _P({check:"less_than",...Et(t),value:e,inclusive:!0})}function J2(e,t){return new vP({check:"greater_than",...Et(t),value:e,inclusive:!1})}function Tv(e,t){return new vP({check:"greater_than",...Et(t),value:e,inclusive:!0})}function tC(e,t){return new fq({check:"multiple_of",...Et(t),value:e})}function EP(e,t){return new pq({check:"max_length",...Et(t),maximum:e})}function Lm(e,t){return new mq({check:"min_length",...Et(t),minimum:e})}function AP(e,t){return new gq({check:"length_equals",...Et(t),length:e})}function Q$(e,t){return new yq({check:"string_format",format:"regex",...Et(t),pattern:e})}function Y$(e){return new _q({check:"string_format",format:"lowercase",...Et(e)})}function X$(e){return new vq({check:"string_format",format:"uppercase",...Et(e)})}function J$(e,t){return new bq({check:"string_format",format:"includes",...Et(t),includes:e})}function tG(e,t){return new Tq({check:"string_format",format:"starts_with",...Et(t),prefix:e})}function eG(e,t){return new Sq({check:"string_format",format:"ends_with",...Et(t),suffix:e})}function Rf(e){return new wq({check:"overwrite",tx:e})}function nG(e){return Rf(t=>t.normalize(e))}function iG(){return Rf(e=>e.trim())}function sG(){return Rf(e=>e.toLowerCase())}function rG(){return Rf(e=>e.toUpperCase())}function oG(e,t,n){return new e({type:"array",element:t,...Et(n)})}function aG(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Et(n)})}function lG(e){const t=cG(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(ef(i,n.value,t._zod.def));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(ef(s))}},e(n.value,n)));return t}function cG(e,t){const n=new Qn({check:"custom",...Et(t)});return n._zod.check=e,n}const uG=ut("ZodISODateTime",(e,t)=>{Lq.init(e,t),Ae.init(e,t)});function hG(e){return B$(uG,e)}const fG=ut("ZodISODate",(e,t)=>{zq.init(e,t),Ae.init(e,t)});function dG(e){return F$(fG,e)}const pG=ut("ZodISOTime",(e,t)=>{Uq.init(e,t),Ae.init(e,t)});function mG(e){return H$(pG,e)}const gG=ut("ZodISODuration",(e,t)=>{jq.init(e,t),Ae.init(e,t)});function yG(e){return q$(gG,e)}const _G=(e,t)=>{fP.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>IH(e,n)},flatten:{value:n=>RH(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,k0,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,k0,2)}},isEmpty:{get(){return e.issues.length===0}}})},Di=ut("ZodError",_G,{Parent:Error}),vG=UT(Di),bG=jT(Di),TG=wg(Di),SG=Eg(Di),wG=OH(Di),EG=PH(Di),AG=kH(Di),xG=NH(Di),CG=VH(Di),RG=LH(Di),IG=zH(Di),DG=UH(Di),$e=ut("ZodType",(e,t)=>(Le.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),e.clone=(n,i)=>Do(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>vG(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>TG(e,n,i),e.parseAsync=async(n,i)=>bG(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>SG(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>wG(e,n,i),e.decode=(n,i)=>EG(e,n,i),e.encodeAsync=async(n,i)=>AG(e,n,i),e.decodeAsync=async(n,i)=>xG(e,n,i),e.safeEncode=(n,i)=>CG(e,n,i),e.safeDecode=(n,i)=>RG(e,n,i),e.safeEncodeAsync=async(n,i)=>IG(e,n,i),e.safeDecodeAsync=async(n,i)=>DG(e,n,i),e.refine=(n,i)=>e.check(bW(n,i)),e.superRefine=n=>e.check(TW(n)),e.overwrite=n=>e.check(Rf(n)),e.optional=()=>sC(e),e.nullable=()=>rC(e),e.nullish=()=>sC(rC(e)),e.nonoptional=n=>dW(e,n),e.array=()=>If(e),e.or=n=>sW([e,n]),e.and=n=>oW(e,n),e.transform=n=>L0(e,IP(n)),e.default=n=>uW(e,n),e.prefault=n=>fW(e,n),e.catch=n=>mW(e,n),e.pipe=n=>L0(e,n),e.readonly=()=>_W(e),e.describe=n=>{const i=e.clone();return vp.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=vp.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return vp.get(e);const i=e.clone();return vp.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),xP=ut("_ZodString",(e,t)=>{BT.init(e,t),$e.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(Q$(...i)),e.includes=(...i)=>e.check(J$(...i)),e.startsWith=(...i)=>e.check(tG(...i)),e.endsWith=(...i)=>e.check(eG(...i)),e.min=(...i)=>e.check(Lm(...i)),e.max=(...i)=>e.check(EP(...i)),e.length=(...i)=>e.check(AP(...i)),e.nonempty=(...i)=>e.check(Lm(1,...i)),e.lowercase=i=>e.check(Y$(i)),e.uppercase=i=>e.check(X$(i)),e.trim=()=>e.check(iG()),e.normalize=(...i)=>e.check(nG(...i)),e.toLowerCase=()=>e.check(sG()),e.toUpperCase=()=>e.check(rG())}),MG=ut("ZodString",(e,t)=>{BT.init(e,t),xP.init(e,t),e.email=n=>e.check(b$(OG,n)),e.url=n=>e.check(A$(PG,n)),e.jwt=n=>e.check(j$(KG,n)),e.emoji=n=>e.check(x$(kG,n)),e.guid=n=>e.check(Y2(eC,n)),e.uuid=n=>e.check(T$(bp,n)),e.uuidv4=n=>e.check(S$(bp,n)),e.uuidv6=n=>e.check(w$(bp,n)),e.uuidv7=n=>e.check(E$(bp,n)),e.nanoid=n=>e.check(C$(NG,n)),e.guid=n=>e.check(Y2(eC,n)),e.cuid=n=>e.check(R$(VG,n)),e.cuid2=n=>e.check(I$(LG,n)),e.ulid=n=>e.check(D$(zG,n)),e.base64=n=>e.check(L$($G,n)),e.base64url=n=>e.check(z$(GG,n)),e.xid=n=>e.check(M$(UG,n)),e.ksuid=n=>e.check(O$(jG,n)),e.ipv4=n=>e.check(P$(BG,n)),e.ipv6=n=>e.check(k$(FG,n)),e.cidrv4=n=>e.check(N$(HG,n)),e.cidrv6=n=>e.check(V$(qG,n)),e.e164=n=>e.check(U$(WG,n)),e.datetime=n=>e.check(hG(n)),e.date=n=>e.check(dG(n)),e.time=n=>e.check(mG(n)),e.duration=n=>e.check(yG(n))});function zn(e){return v$(MG,e)}const Ae=ut("ZodStringFormat",(e,t)=>{ve.init(e,t),xP.init(e,t)}),OG=ut("ZodEmail",(e,t)=>{Rq.init(e,t),Ae.init(e,t)}),eC=ut("ZodGUID",(e,t)=>{xq.init(e,t),Ae.init(e,t)}),bp=ut("ZodUUID",(e,t)=>{Cq.init(e,t),Ae.init(e,t)}),PG=ut("ZodURL",(e,t)=>{Iq.init(e,t),Ae.init(e,t)}),kG=ut("ZodEmoji",(e,t)=>{Dq.init(e,t),Ae.init(e,t)}),NG=ut("ZodNanoID",(e,t)=>{Mq.init(e,t),Ae.init(e,t)}),VG=ut("ZodCUID",(e,t)=>{Oq.init(e,t),Ae.init(e,t)}),LG=ut("ZodCUID2",(e,t)=>{Pq.init(e,t),Ae.init(e,t)}),zG=ut("ZodULID",(e,t)=>{kq.init(e,t),Ae.init(e,t)}),UG=ut("ZodXID",(e,t)=>{Nq.init(e,t),Ae.init(e,t)}),jG=ut("ZodKSUID",(e,t)=>{Vq.init(e,t),Ae.init(e,t)}),BG=ut("ZodIPv4",(e,t)=>{Bq.init(e,t),Ae.init(e,t)}),FG=ut("ZodIPv6",(e,t)=>{Fq.init(e,t),Ae.init(e,t)}),HG=ut("ZodCIDRv4",(e,t)=>{Hq.init(e,t),Ae.init(e,t)}),qG=ut("ZodCIDRv6",(e,t)=>{qq.init(e,t),Ae.init(e,t)}),$G=ut("ZodBase64",(e,t)=>{$q.init(e,t),Ae.init(e,t)}),GG=ut("ZodBase64URL",(e,t)=>{Wq.init(e,t),Ae.init(e,t)}),WG=ut("ZodE164",(e,t)=>{Kq.init(e,t),Ae.init(e,t)}),KG=ut("ZodJWT",(e,t)=>{Qq.init(e,t),Ae.init(e,t)}),CP=ut("ZodNumber",(e,t)=>{TP.init(e,t),$e.init(e,t),e.gt=(i,s)=>e.check(J2(i,s)),e.gte=(i,s)=>e.check(Tv(i,s)),e.min=(i,s)=>e.check(Tv(i,s)),e.lt=(i,s)=>e.check(X2(i,s)),e.lte=(i,s)=>e.check(bv(i,s)),e.max=(i,s)=>e.check(bv(i,s)),e.int=i=>e.check(nC(i)),e.safe=i=>e.check(nC(i)),e.positive=i=>e.check(J2(0,i)),e.nonnegative=i=>e.check(Tv(0,i)),e.negative=i=>e.check(X2(0,i)),e.nonpositive=i=>e.check(bv(0,i)),e.multipleOf=(i,s)=>e.check(tC(i,s)),e.step=(i,s)=>e.check(tC(i,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function so(e){return $$(CP,e)}const ZG=ut("ZodNumberFormat",(e,t)=>{Yq.init(e,t),CP.init(e,t)});function nC(e){return G$(ZG,e)}const QG=ut("ZodAny",(e,t)=>{Xq.init(e,t),$e.init(e,t)});function YG(){return W$(QG)}const XG=ut("ZodUnknown",(e,t)=>{Jq.init(e,t),$e.init(e,t)});function iC(){return K$(XG)}const JG=ut("ZodNever",(e,t)=>{t$.init(e,t),$e.init(e,t)});function tW(e){return Z$(JG,e)}const eW=ut("ZodArray",(e,t)=>{e$.init(e,t),$e.init(e,t),e.element=t.element,e.min=(n,i)=>e.check(Lm(n,i)),e.nonempty=n=>e.check(Lm(1,n)),e.max=(n,i)=>e.check(EP(n,i)),e.length=(n,i)=>e.check(AP(n,i)),e.unwrap=()=>e.element});function If(e,t){return oG(eW,e,t)}const nW=ut("ZodObject",(e,t)=>{i$.init(e,t),$e.init(e,t),de(e,"shape",()=>t.shape),e.keyof=()=>RP(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:iC()}),e.loose=()=>e.clone({...e._zod.def,catchall:iC()}),e.strict=()=>e.clone({...e._zod.def,catchall:tW()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>wH(e,n),e.safeExtend=n=>EH(e,n),e.merge=n=>AH(e,n),e.pick=n=>TH(e,n),e.omit=n=>SH(e,n),e.partial=(...n)=>xH(DP,e,n[0]),e.required=(...n)=>CH(MP,e,n[0])});function qa(e,t){const n={type:"object",get shape(){return Io(this,"shape",e?gH(e):{}),this.shape},...Et(t)};return new nW(n)}const iW=ut("ZodUnion",(e,t)=>{s$.init(e,t),$e.init(e,t),e.options=t.options});function sW(e,t){return new iW({type:"union",options:e,...Et(t)})}const rW=ut("ZodIntersection",(e,t)=>{r$.init(e,t),$e.init(e,t)});function oW(e,t){return new rW({type:"intersection",left:e,right:t})}const V0=ut("ZodEnum",(e,t)=>{o$.init(e,t),$e.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,s)=>{const o={};for(const l of i)if(n.has(l))o[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new V0({...t,checks:[],...Et(s),entries:o})},e.exclude=(i,s)=>{const o={...t.entries};for(const l of i)if(n.has(l))delete o[l];else throw new Error(`Key ${l} not found in enum`);return new V0({...t,checks:[],...Et(s),entries:o})}});function RP(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new V0({type:"enum",entries:n,...Et(t)})}const aW=ut("ZodTransform",(e,t)=>{a$.init(e,t),$e.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new oP(e.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(ef(o,n.value,t));else{const l=o;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(ef(l))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(o=>(n.value=o,n)):(n.value=s,n)}});function IP(e){return new aW({type:"transform",transform:e})}const DP=ut("ZodOptional",(e,t)=>{l$.init(e,t),$e.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sC(e){return new DP({type:"optional",innerType:e})}const lW=ut("ZodNullable",(e,t)=>{c$.init(e,t),$e.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rC(e){return new lW({type:"nullable",innerType:e})}const cW=ut("ZodDefault",(e,t)=>{u$.init(e,t),$e.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function uW(e,t){return new cW({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():cP(t)}})}const hW=ut("ZodPrefault",(e,t)=>{h$.init(e,t),$e.init(e,t),e.unwrap=()=>e._zod.def.innerType});function fW(e,t){return new hW({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():cP(t)}})}const MP=ut("ZodNonOptional",(e,t)=>{f$.init(e,t),$e.init(e,t),e.unwrap=()=>e._zod.def.innerType});function dW(e,t){return new MP({type:"nonoptional",innerType:e,...Et(t)})}const pW=ut("ZodCatch",(e,t)=>{d$.init(e,t),$e.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function mW(e,t){return new pW({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const gW=ut("ZodPipe",(e,t)=>{p$.init(e,t),$e.init(e,t),e.in=t.in,e.out=t.out});function L0(e,t){return new gW({type:"pipe",in:e,out:t})}const yW=ut("ZodReadonly",(e,t)=>{m$.init(e,t),$e.init(e,t),e.unwrap=()=>e._zod.def.innerType});function _W(e){return new yW({type:"readonly",innerType:e})}const vW=ut("ZodCustom",(e,t)=>{g$.init(e,t),$e.init(e,t)});function bW(e,t={}){return aG(vW,e,t)}function TW(e){return lG(e)}function SW(e,t){return L0(IP(e),t)}const oC=qa({uid:zn(),displayName:zn(),email:zn(),photoURL:zn().nullable()}),Qp=qb({reducerPath:"authApi",baseQuery:PD(),tagTypes:["User"],endpoints:e=>({getUser:e.query({queryFn:async()=>{try{const t=localStorage.getItem("user-storage-coinradar");return t?{data:oC.parse(JSON.parse(t))}:{data:null}}catch{return{data:null}}},providesTags:[{type:"User",id:"CURRENT"}]}),loginUser:e.mutation({async queryFn(){try{const n=(await sU(dH,fH)).user,i=oC.parse({uid:n.uid,displayName:n.displayName,email:n.email,photoURL:n.photoURL});return localStorage.setItem("user-storage-coinradar",JSON.stringify(i)),{data:i}}catch(t){return t instanceof Error?{error:{message:t.message}}:{error:{message:"Unknown error during sign-in"}}}},invalidatesTags:[{type:"User",id:"CURRENT"}]}),logoutUser:e.mutation({async queryFn(){try{return localStorage.removeItem("user-storage-coinradar"),{data:void 0}}catch{return{error:{message:"Logout failed"}}}},invalidatesTags:[{type:"User",id:"CURRENT"}]})})}),{useLoginUserMutation:wW,useLogoutUserMutation:EW,useGetUserQuery:FT}=Qp,AW=qa({id:zn(),symbol:zn(),name:zn(),image:zn(),current_price:so(),ath:so(),price_change_percentage_24h:SW(e=>typeof e=="number"?e:0,so()),sparkline_in_7d:qa({price:If(so())}),other:YG()}),xh=qb({reducerPath:"allCryptoApi",tagTypes:["Coin"],baseQuery:zL({baseUrl:"https://api.coingecko.com/api/v3/"}),refetchOnMountOrArgChange:!0,refetchOnReconnect:!0,endpoints:e=>({getAllCoins:e.query({query:()=>"coins/markets?vs_currency=usd&order=market_cap_desc&per_page=250&page=1&sparkline=true",transformResponse:t=>If(AW).parse(t),providesTags:[{type:"Coin",id:"LIST"}],extraOptions:{retry:t=>t<3}})})}),{useGetAllCoinsQuery:CX}=xh,lh=qa({id:zn(),coinInfo:qa({symbol:zn(),name:zn(),image:zn(),current_price:so().nonnegative(),price_change_percentage_24h:so()}),quantity:so().nonnegative(),price:so().nonnegative(),date:zn().refine(e=>!isNaN(Date.parse(e)),{message:"Invalid date format"}),buyOrSell:RP(["buy","sell"])}),xW=qa({id:zn(),transactions:If(lh)}),CW=qa({id:zn(),coins:If(xW)}),Yp=qb({reducerPath:"walletApi",baseQuery:PD(),tagTypes:["Wallet","WalletCoin","WalletTransaction"],endpoints:e=>({getWallet:e.query({queryFn:async t=>{try{const n=await ql(fa(qn,"Wallets",t,"Coins"));if(n.empty)return{data:{id:t,coins:[]}};const i=n.docs.map(async u=>{const h=u.id,y=(await ql(fa(qn,"Wallets",t,"Coins",h,"Transactions"))).docs.map(_=>({id:_.id,..._.data()})).map(_=>lh.parse(_));return{id:h,transactions:y}}),s=await Promise.all(i),o={id:t,coins:s};return{data:CW.parse(o)}}catch(n){return console.error(n),{error:n}}},providesTags:(t,n,i)=>i?[{type:"Wallet",id:i}]:[]}),deleteWallet:e.mutation({queryFn:async(t,n,i,s)=>{try{const o=fa(qn,"Wallets",t,"Coins"),l=await ql(o);for(const h of l.docs){const f=h.id,p=fa(qn,"Wallets",t,"Coins",f,"Transactions"),y=await ql(p);for(const _ of y.docs)await $l(Li(p,_.id));await $l(Li(o,f))}const u=Li(qn,"Wallets",t);return await $l(u),{data:void 0}}catch(o){return console.error("Error deleting wallet:",o),{error:o}}},invalidatesTags:(t,n,i)=>i?[{type:"Wallet",id:i}]:[]}),getWalletCoin:e.query({queryFn:async({coinId:t,walletId:n},i,s,o)=>{try{const l=Li(qn,"Wallets",n,"Coins",t);if(!(await _v(l)).exists())return{error:{status:404,data:"Coin not found"}};const h=fa(qn,"Wallets",n,"Coins",t,"Transactions"),p=(await ql(h)).docs.map(y=>y.data());return{data:{id:t,transactions:p}}}catch(l){return console.error("Error getting wallet coin:",l),{error:l}}},providesTags:(t,n,{coinId:i,walletId:s})=>[{type:"WalletCoin",id:`${s}-${i}`}]}),deleteWalletCoin:e.mutation({queryFn:async({coinId:t,walletId:n},i,s,o)=>{try{const l=fa(qn,"Wallets",n,"Coins",t,"Transactions"),u=await ql(l);for(const f of u.docs)await $l(Li(l,f.id));const h=Li(qn,"Wallets",n,"Coins",t);return await $l(h),console.log(`Coin ${t} deleted from wallet ${n}`),{data:void 0}}catch(l){return console.error("Error deleting wallet coin:",l),{error:l}}},invalidatesTags:(t,n,{coinId:i,walletId:s})=>s?[{type:"Wallet",id:s},{type:"WalletCoin",id:`${s}-${i}`}]:[]}),getWalletCoinTransaction:e.query({queryFn:async({transactionId:t,coinId:n,walletId:i},s,o,l)=>{try{const u=Li(qn,"Wallets",i,"Coins",n,"Transactions",t),h=await _v(u);return h.exists()?{data:lh.parse(h.data())}:{error:{status:404,data:"Transaction not found"}}}catch(u){return console.error("Error getting wallet coin transaction:",u),{error:u}}},providesTags:(t,n,{transactionId:i,coinId:s,walletId:o})=>o?[{type:"Wallet",id:o},{type:"WalletTransaction",id:`${o}-${s}-${i}`},{type:"WalletCoin",id:`${o}-${s}`}]:[]}),addWalletCoinTransaction:e.mutation({queryFn:async({transaction:t,coinId:n,walletId:i},s,o,l)=>{try{const u=Li(qn,"Wallets",i,"Coins",n);if(!(await _v(u)).exists()){//! if coin doesn't exist, create it with createdAt date (need cause Firebase doesn't allow empty documents)
await vv(u,{createdAt:new Date})}const f=fa(qn,"Wallets",i,"Coins",n,"Transactions"),p=Li(f),y={...t,id:p.id};return await vv(p,y),{data:lh.parse(y)}}catch(u){return console.error("Error adding wallet coin transaction:",u),{error:u}}},invalidatesTags:(t,n,{walletId:i,coinId:s,transaction:o})=>[{type:"Wallet",id:i},{type:"WalletCoin",id:`${i}-${s}`},{type:"WalletTransaction",id:`${i}-${s}-${o.id}`}]}),updateWalletCoinTransaction:e.mutation({queryFn:async({transaction:t,coinId:n,walletId:i},s,o,l)=>{try{const u=Li(qn,"Wallets",i,"Coins",n,"Transactions",t.id);return await vv(u,t),{data:lh.parse(t)}}catch(u){return console.error("Error updating wallet coin transaction:",u),{error:u}}},invalidatesTags:(t,n,{walletId:i,coinId:s,transaction:o})=>[{type:"Wallet",id:i},{type:"WalletCoin",id:`${i}-${s}`},{type:"WalletTransaction",id:`${i}-${s}-${o.id}`}]}),deleteWalletCoinTransaction:e.mutation({queryFn:async({transactionId:t,coinId:n,walletId:i},s,o,l)=>{try{const u=Li(qn,"Wallets",i,"Coins",n,"Transactions",t);return await $l(u),{data:void 0}}catch(u){return console.error("Error deleting wallet coin transaction:",u),{error:u}}},invalidatesTags:(t,n,{walletId:i,coinId:s,transactionId:o})=>[{type:"Wallet",id:i},{type:"WalletCoin",id:`${i}-${s}`},{type:"WalletTransaction",id:`${i}-${s}-${o}`}]})})}),{useGetWalletQuery:RX,useGetWalletCoinQuery:RW,useAddWalletCoinTransactionMutation:IW,useUpdateWalletCoinTransactionMutation:IX,useDeleteWalletCoinTransactionMutation:DX}=Yp;//! low coupling high cohesion (slicess + component)
const DW=Y9({reducer:{scroll:bL,theme:wL,popup:mL,allCrypto:AL,[Qp.reducerPath]:Qp.reducer,[xh.reducerPath]:xh.reducer,[Yp.reducerPath]:Yp.reducer},middleware:e=>e({serializableCheck:!1}).concat(Qp.middleware,xh.middleware,Yp.middleware)}),Ma=X0.withTypes(),Ms=DR.withTypes();Y0.withTypes();function MW(){const e=Ma(s=>s.popup.isOpen),t=Ma(s=>s.popup.title),n=Ma(s=>s.popup.children),i=Ms();return J.useEffect(()=>(e?(document.body.style.overflow="hidden",document.body.style.height="100vh"):(document.body.style.overflow="",document.body.style.height=""),()=>{document.body.style.overflow="",document.body.style.height=""}),[e]),MN.createPortal(Q.jsx(O5,{children:e&&Q.jsx(nc.section,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-[#0000008e] flex justify-center items-center !z-[99999]",children:Q.jsxs(nc.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3,ease:"easeOut"},className:"bg-white rounded-lg w-[90%] max-w-[700px] shadow-lg relative !z-[999999] max-md:mt-[5vh] max-h-[80vh] flex flex-col overflow-hidden",children:[Q.jsxs("div",{className:"bg-[#121212] flex justify-between items-center p-4 flex-shrink-0",children:[Q.jsx("h2",{className:"fontTitle text-2xl font-bold text-white",children:t}),Q.jsx("button",{onClick:()=>i(jb()),className:"text-2xl font-bold cursor-pointer",children:Q.jsx("img",{src:g9,alt:"Close"})})]}),Q.jsx("div",{className:"p-4 overflow-y-auto overflow-x-hidden flex-1",children:n})]},"popup-content")},"popup")}),document.body)}const Sv=Wm.memo(({src:e,angle:t})=>Q.jsx("img",{src:e,alt:"arrow",className:"absolute top-1/2 left-1/2",style:{width:600,height:600,transform:`translate(-50%, -50%) rotate(${t}deg)`,transformOrigin:"center center"}})),OP=(e,t=80,n=!1)=>{if(n&&window.innerWidth>=768)return;const i=document.getElementById(e);if(!i)return;const s=i.getBoundingClientRect().top+window.scrollY-t;window.scrollTo({top:s,behavior:"smooth"})},OW=e=>{const t=Math.random().toString(36).substring(2,9),n=Date.now().toString(36);return`${e.replace(/[^a-zA-Z0-9]/g,"")}_${n}_${t}`},MX=(e,t)=>{let n=0;for(const i of e.coins){let s=0;for(const l of i.transactions)l.buyOrSell==="buy"?s+=l.quantity:l.buyOrSell==="sell"&&(s-=l.quantity);const o=t.find(l=>l.id===i.id);o&&(n+=s*o.current_price)}return Number(n.toFixed(2))},OX=(e,t)=>{let n=0,i=0;for(const s of e.coins){let o=0,l=0;for(const h of s.transactions)if(h.buyOrSell==="buy")o+=h.quantity,l+=h.quantity*h.price;else if(h.buyOrSell==="sell"){const f=Math.min(h.quantity,o),p=o>0?l/o:0;l-=p*f,o-=f}const u=t.find(h=>h.id===s.id);u&&(i+=o*u.current_price,n+=l)}return Number((i-n).toFixed(2))};function PW(e){let t=0,n=0;for(const s of e)s.buyOrSell==="buy"&&(n+=s.price*s.quantity,t+=s.quantity);const i=t>0?n/t:0;return Number(i.toFixed(2))}const PX=(e,t)=>{let n=0,i=0;for(const o of e)if(o.buyOrSell==="buy")n+=o.quantity,i+=o.price*o.quantity;else if(o.buyOrSell==="sell"){const l=Math.min(o.quantity,n),u=n>0?i/n:0;i-=u*l,n-=l}if(n<=0)return 0;const s=n*t.current_price;return Number((s-i).toFixed(2))},kW=150;function NW(){const e=Ma(f=>f.scroll.scrollY),t=Ma(f=>f.scroll.currentSectionId),n=Ms(),i=J.useRef(null),[s,o]=J.useState(window.innerWidth<768);J.useEffect(()=>{const f=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const[l,u]=J.useState([]);J.useEffect(()=>{const p=Array.from(document.querySelectorAll('[id^="section"]')).map(y=>y.id);u(p)},[]),J.useEffect(()=>{const f=()=>{n(yL(window.scrollY)),n(vL(Date.now()))};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[n]);const h=J.useRef(!1);return J.useEffect(()=>{if(s)return i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{if(!h.current){h.current=!0,n(tx(!0));let f=null,p=1/0;for(const y of l){const _=document.getElementById(y);if(!_)continue;const b=_.offsetTop,S=Math.abs(b-e);S<p&&(p=S,f=y)}f&&f!==t&&(n(_L(f)),OP(f,80,!0)),setTimeout(()=>{h.current=!1,n(tx(!1))},500)}},kW),()=>{i.current&&clearTimeout(i.current)}},[e,l,t,n,s]),Q.jsxs("div",{className:"fixed top-0 left-0 w-screen h-screen z-[-1] pt-[80px]",children:[Q.jsx("img",{src:"./background.png",alt:"background",className:"w-full h-full object-cover"}),Q.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-black/50"}),Q.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[Q.jsx(Sv,{src:"./arrow3.png",angle:e/2}),Q.jsx(Sv,{src:"./arrow2.png",angle:e/1.2}),Q.jsx(Sv,{src:"./arrow1.png",angle:e*1.2}),Q.jsx("img",{src:"./center.png",alt:"center item",className:"absolute top-1/2 left-1/2 w-[700px] h-[700px] -translate-x-1/2 -translate-y-1/2 origin-center"})]})]})}function VW(){const e=Ms();return Q.jsx(Q.Fragment,{children:Q.jsxs("button",{onClick:()=>e(SL()),className:"bg-[#fceeff3b] dark:bg-[#391b3891] rounded-[40px] overflow-hidden transition-all duration-500 flex gap-x-7 items-center justify-center relative cursor-pointer",children:[Q.jsx("div",{className:"!py-[7px] !pl-[17px] relative z-3",children:Q.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"fill-current text-[#373737] dark:text-[#fbfbfb7c]  transition-all duration-500",children:Q.jsx("path",{d:"M14.8687 20.4445C13.39 20.4445 11.9717 19.8571 10.9261 18.8114C9.88041 17.7658 9.29297 16.3475 9.29297 14.8687C9.29297 13.39 9.88041 11.9717 10.9261 10.9261C11.9717 9.88041 13.39 9.29297 14.8687 9.29297C16.3475 9.29297 17.7658 9.88041 18.8114 10.9261C19.8571 11.9717 20.4445 13.39 20.4445 14.8687C20.4445 16.3475 19.8571 17.7658 18.8114 18.8114C17.7658 19.8571 16.3475 20.4445 14.8687 20.4445ZM14.8687 22.3031C16.8405 22.3031 18.7314 21.5199 20.1256 20.1256C21.5199 18.7314 22.3031 16.8405 22.3031 14.8687C22.3031 12.897 21.5199 11.0061 20.1256 9.61185C18.7314 8.21764 16.8405 7.43437 14.8687 7.43437C12.897 7.43437 11.0061 8.21764 9.61185 9.61185C8.21764 11.0061 7.43437 12.897 7.43437 14.8687C7.43437 16.8405 8.21764 18.7314 9.61185 20.1256C11.0061 21.5199 12.897 22.3031 14.8687 22.3031ZM14.8687 0C15.1152 0 15.3516 0.0979078 15.5259 0.272185C15.7001 0.446462 15.798 0.682832 15.798 0.929297V4.64648C15.798 4.89295 15.7001 5.12932 15.5259 5.3036C15.3516 5.47787 15.1152 5.57578 14.8687 5.57578C14.6223 5.57578 14.3859 5.47787 14.2116 5.3036C14.0374 5.12932 13.9395 4.89295 13.9395 4.64648V0.929297C13.9395 0.682832 14.0374 0.446462 14.2116 0.272185C14.3859 0.0979078 14.6223 0 14.8687 0V0ZM14.8687 24.1617C15.1152 24.1617 15.3516 24.2596 15.5259 24.4339C15.7001 24.6082 15.798 24.8445 15.798 25.091V28.8082C15.798 29.0547 15.7001 29.291 15.5259 29.4653C15.3516 29.6396 15.1152 29.7375 14.8687 29.7375C14.6223 29.7375 14.3859 29.6396 14.2116 29.4653C14.0374 29.291 13.9395 29.0547 13.9395 28.8082V25.091C13.9395 24.8445 14.0374 24.6082 14.2116 24.4339C14.3859 24.2596 14.6223 24.1617 14.8687 24.1617ZM29.7375 14.8687C29.7375 15.1152 29.6396 15.3516 29.4653 15.5259C29.291 15.7001 29.0547 15.798 28.8082 15.798H25.091C24.8445 15.798 24.6082 15.7001 24.4339 15.5259C24.2596 15.3516 24.1617 15.1152 24.1617 14.8687C24.1617 14.6223 24.2596 14.3859 24.4339 14.2116C24.6082 14.0374 24.8445 13.9395 25.091 13.9395H28.8082C29.0547 13.9395 29.291 14.0374 29.4653 14.2116C29.6396 14.3859 29.7375 14.6223 29.7375 14.8687ZM5.57578 14.8687C5.57578 15.1152 5.47787 15.3516 5.3036 15.5259C5.12932 15.7001 4.89295 15.798 4.64648 15.798H0.929297C0.682832 15.798 0.446462 15.7001 0.272185 15.5259C0.0979078 15.3516 0 15.1152 0 14.8687C0 14.6223 0.0979078 14.3859 0.272185 14.2116C0.446462 14.0374 0.682832 13.9395 0.929297 13.9395H4.64648C4.89295 13.9395 5.12932 14.0374 5.3036 14.2116C5.47787 14.3859 5.57578 14.6223 5.57578 14.8687ZM25.3828 4.35468C25.557 4.52895 25.6549 4.76528 25.6549 5.0117C25.6549 5.25811 25.557 5.49444 25.3828 5.66871L22.7548 8.29862C22.6684 8.3849 22.5658 8.45332 22.453 8.49997C22.3401 8.54661 22.2192 8.57058 22.0971 8.57049C21.8505 8.57032 21.6141 8.47219 21.4398 8.29769C21.3535 8.21129 21.2851 8.10874 21.2385 7.9959C21.1918 7.88305 21.1679 7.76213 21.1679 7.64002C21.1681 7.39342 21.2662 7.15699 21.4407 6.98274L24.0688 4.35468C24.2431 4.18047 24.4794 4.0826 24.7258 4.0826C24.9722 4.0826 25.2085 4.18047 25.3828 4.35468ZM8.29676 21.4407C8.47098 21.615 8.56885 21.8513 8.56885 22.0977C8.56885 22.3442 8.47098 22.5805 8.29676 22.7548L5.66871 25.3828C5.49344 25.5521 5.2587 25.6458 5.01504 25.6436C4.77138 25.6415 4.5383 25.5438 4.36601 25.3715C4.19371 25.1992 4.09597 24.9661 4.09386 24.7225C4.09174 24.4788 4.18541 24.2441 4.35468 24.0688L6.98274 21.4407C7.15701 21.2665 7.39333 21.1687 7.63975 21.1687C7.88617 21.1687 8.12249 21.2665 8.29676 21.4407ZM25.3828 25.3828C25.2085 25.557 24.9722 25.6549 24.7258 25.6549C24.4794 25.6549 24.2431 25.557 24.0688 25.3828L21.4407 22.7548C21.2715 22.5795 21.1778 22.3448 21.1799 22.1011C21.182 21.8574 21.2798 21.6244 21.4521 21.4521C21.6244 21.2798 21.8574 21.182 22.1011 21.1799C22.3448 21.1778 22.5795 21.2715 22.7548 21.4407L25.3828 24.0688C25.557 24.2431 25.6549 24.4794 25.6549 24.7258C25.6549 24.9722 25.557 25.2085 25.3828 25.3828ZM8.29676 8.29862C8.12249 8.47284 7.88617 8.57071 7.63975 8.57071C7.39333 8.57071 7.15701 8.47284 6.98274 8.29862L4.35468 5.66871C4.26593 5.58299 4.19513 5.48044 4.14643 5.36706C4.09772 5.25369 4.07209 5.13174 4.07102 5.00835C4.06994 4.88496 4.09346 4.76259 4.14018 4.64839C4.18691 4.53418 4.25591 4.43042 4.34317 4.34317C4.43042 4.25591 4.53418 4.18691 4.64839 4.14018C4.76259 4.09346 4.88496 4.06994 5.00835 4.07102C5.13174 4.07209 5.25369 4.09772 5.36706 4.14643C5.48044 4.19513 5.58299 4.26593 5.66871 4.35468L8.29676 6.98274C8.3833 7.06906 8.45197 7.17161 8.49881 7.28451C8.54566 7.39741 8.56978 7.51844 8.56978 7.64068C8.56978 7.76291 8.54566 7.88395 8.49881 7.99685C8.45197 8.10975 8.3833 8.2123 8.29676 8.29862Z"})})}),Q.jsx("div",{className:"!py-[7px] !pr-[17px] relative z-3",children:Q.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"fill-current text-[#37373766] dark:text-[#fbfbfbe0]  transition-all duration-500",children:Q.jsx("path",{d:"M25.1166 15.973C24.2769 16.196 23.4119 16.3088 22.5431 16.3088C19.8977 16.3088 17.4134 15.2803 15.5473 13.4143C14.322 12.1819 13.441 10.6498 12.9923 8.97077C12.5436 7.29175 12.5427 5.52445 12.9899 3.84502C13.0458 3.63504 13.0454 3.41407 12.9889 3.20427C12.9324 2.99447 12.8217 2.80322 12.6679 2.6497C12.5141 2.49619 12.3227 2.38581 12.1128 2.32963C11.9029 2.27346 11.6819 2.27346 11.4721 2.32965C9.36956 2.88993 7.45137 3.99325 5.90991 5.52891C1.08004 10.3588 1.08004 18.2206 5.90991 23.053C7.05793 24.2074 8.42351 25.1227 9.92761 25.7458C11.4317 26.369 13.0445 26.6877 14.6726 26.6834C16.3002 26.688 17.9126 26.3696 19.4163 25.7466C20.92 25.1236 22.2852 24.2085 23.4327 23.0542C24.9695 21.5124 26.0734 19.5932 26.6332 17.4896C26.6888 17.2797 26.6884 17.0589 26.6319 16.8492C26.5754 16.6396 26.4649 16.4484 26.3113 16.2949C26.1578 16.1413 25.9666 16.0308 25.757 15.9743C25.5473 15.9178 25.3265 15.9174 25.1166 15.973ZM21.6819 21.3022C20.7637 22.2254 19.6716 22.9573 18.4686 23.4557C17.2657 23.954 15.9759 24.2088 14.6738 24.2053C13.3713 24.2085 12.081 23.9535 10.8777 23.455C9.67437 22.9565 8.5818 22.2243 7.66318 21.3009C3.79978 17.4363 3.79978 11.1468 7.66318 7.28218C8.40972 6.53648 9.2716 5.91601 10.2156 5.44465C10.0775 7.22774 10.3259 9.01964 10.9439 10.6979C11.5619 12.3761 12.5349 13.9012 13.7965 15.1688C15.0614 16.4344 16.586 17.4101 18.2649 18.0286C19.9439 18.6471 21.7371 18.8935 23.5207 18.7509C23.0468 19.6934 22.4261 20.5545 21.6819 21.3022Z"})})}),Q.jsx("div",{className:"absolute h-full w-[65px] rounded-[40px] bg-[#D8EEFF] left-0 dark:bg-[#512157] dark:left-[47%] transition-all duration-500"})]})})}function LW(){return Q.jsx("footer",{className:"h-[80px] w-full bg-[image:var(--color-fixed)] ",children:Q.jsxs("div",{className:"myContainer h-full flex justify-between items-center",children:[Q.jsx("h3",{className:"text-white",children:"All rights reserved"}),Q.jsx(VW,{})]})})}const zW=[{name:"Home",link:"section1"},{name:"All Crypto",link:"section2"},{name:"Crypto Wallet",link:"section3"}],UW=()=>{const[e,t]=J.useState(!1),[n,i]=J.useState(window.innerWidth<=820);return J.useEffect(()=>{const o=()=>{const l=window.innerWidth<=820;i(l),l||t(!1)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),{isBurgerOpen:e,toggleBurger:()=>{n&&t(o=>!o)},isMobile:n}};function jW(){const{data:e,isLoading:t}=FT(),[n]=wW(),[i]=EW(),s=async()=>{await i(),await n()};return Q.jsx("button",{onClick:s,className:"flex justify-center items-center text-center px-9 py-2 bg-[var(--color-card)] cursor-pointer rounded transitioned hover:scale-105 text-[white] border-[white] border-2",children:t?"Loading...":e?(e==null?void 0:e.displayName)??"Authenticated":"Auth"})}function BW(){const{isBurgerOpen:e,toggleBurger:t,isMobile:n}=UW();J.useEffect(()=>(document.body.style.overflow=e&&n?"hidden":"",document.body.style.height=e&&n?"100vh":"",()=>{const s=document.getElementById("root");s&&(s.style.overflow="",s.style.height="")}),[e,n]);const i=(s=!1)=>Q.jsxs(Q.Fragment,{children:[zW.map((o,l)=>Q.jsx("button",{onClick:()=>{s&&t(),OP(o.link)},className:"text-white cursor-pointer hover:scale-105 transitioned",children:o.name},l)),Q.jsx(jW,{})]});return Q.jsx("header",{className:"relative z-[100]",children:Q.jsx("div",{className:"fixed w-full h-[80px] bg-[image:var(--color-fixed)]",children:Q.jsxs("div",{className:"myContainer flex justify-between gap-4 items-center h-full",children:[Q.jsxs("a",{href:"./",className:"logo transitioned hover:scale-105 flex items-center gap-2",children:[Q.jsx("img",{className:"w-[50px] h-[50px]",src:"./logo.png",alt:"logo"}),Q.jsx("h3",{className:"fontTitle text-2xl text-white font-black",children:"CoinRadar"})]}),n?Q.jsx("button",{onClick:t,className:"group w-[36px] rounded-lg border-0 cursor-pointer",children:Q.jsx("div",{className:"grid justify-items-center gap-1.5",children:["rotate-45 translate-y-2.5","scale-x-0","-rotate-45 -translate-y-2.5"].map((s,o)=>Q.jsx("span",{className:`h-1 w-9 bg-[var(--color-text)] rounded-full transition-all duration-500 ${e?s:""}`},o))})}):Q.jsx("div",{className:"flex gap-10 items-center",children:i()}),Q.jsx("div",{className:`fixed top-[80px] left-0 h-[calc(100vh-80px)] w-full z-50 transition-transform transitioned bg-black/75 text-white ${e?"translate-x-0":"-translate-x-full"}`,children:Q.jsx("div",{className:"flex flex-col items-center justify-center gap-20 py-15 text-3xl",children:i(!0)})})]})})})}const FW="/CoinRadar/assets/newsletter-BwEtLZeB.svg";function aC(e,t,n=0){const[i,s]=J.useState("");return J.useEffect(()=>{s("");const o=e.length,l=t/o;let u=0,h;const f=window.setTimeout(()=>{h=window.setInterval(()=>{u++,s(e.slice(0,u)),u===o&&clearInterval(h)},l)},n);return()=>{clearTimeout(f),clearInterval(h)}},[n,e,t]),i}const HW=[{text:"Welcome to CoinRadar"},{text:"This site was built primarily to explore Redux, Redux Toolkit, and RTK Query, including features like cache invalidation and query optimization. Alongside learning, it provides real-time crypto prices, detailed charts, and market analytics for top cryptocurrencies, all within a clean and intuitive interface."},{text:"On the site, you can track the market live, create your own wallets, and dive into full coin statistics. Its not just a price tracker  you can explore transactions, monitor your wallet, and get insights that help you make informed decisions."}],wv={short:"More info",title:"Chart info",children:"Note: The chart may not be fully accurate. The data is provided by CoinGecko API has limits for free users."},lC={hidden:{opacity:0,x:-200},visible:e=>({opacity:1,x:0,transition:{delay:e}})},qW={hidden:{opacity:0,x:200},visible:e=>({opacity:1,x:0,transition:{delay:e}})};function $W(){const e=Ms();function t(){e(Va({title:wv.title,children:wv.children}))}return Q.jsxs(nc.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},className:"myContainer min-h-[90vh] flex justify-between items-center gap-35 pt-[90px] max-lg:flex-col max-lg:items-center max-lg:text-center max-lg:justify-center max-lg:gap-5",children:[Q.jsxs("div",{className:"flex-3/5 max-lg:flex-1",children:[HW.map((n,i)=>Q.jsx(nc.div,{variants:lC,custom:i,className:`transitioned relative mb-3 p-4 rounded-2xl bg-[var(--color-card)] text-white 
                       first:font-black first:text-3xl
                       shadow-[0_10px_30px_rgba(0,0,0,0.3)] hover:shadow-[0_15px_35px_rgba(0,0,0,0.4)]
                       hover:scale-[1.02] transitioned
                       backdrop-blur-md border border-white/10`,children:aC(n.text,1e3,i*1e3)},i)),Q.jsx(nc.button,{onClick:t,custom:3,variants:lC,className:`transitioned relative p-4 rounded-2xl bg-[var-(--color-card)] text-white 
                       font-black text-2xl cursor-pointer border-3
                       shadow-[0_10px_30px_rgba(0,0,0,0.3)] hover:shadow-[0_15px_35px_rgba(0,0,0,0.4)]
                       hover:scale-[1.02] transitioned
                       backdrop-blur-md border-white/30`,children:aC(wv.short,500)})]}),Q.jsx(nc.div,{variants:qW,className:"w-full",children:Q.jsx("img",{className:"w-full",src:FW,alt:"NewsLetterSVG"})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Df(e){return e+.5|0}const ro=(e,t,n)=>Math.max(Math.min(e,n),t);function ch(e){return ro(Df(e*2.55),0,255)}function fo(e){return ro(Df(e*255),0,255)}function cr(e){return ro(Df(e/2.55)/100,0,1)}function cC(e){return ro(Df(e*100),0,100)}const Ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},z0=[..."0123456789ABCDEF"],GW=e=>z0[e&15],WW=e=>z0[(e&240)>>4]+z0[e&15],Tp=e=>(e&240)>>4===(e&15),KW=e=>Tp(e.r)&&Tp(e.g)&&Tp(e.b)&&Tp(e.a);function ZW(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Ti[e[1]]*17,g:255&Ti[e[2]]*17,b:255&Ti[e[3]]*17,a:t===5?Ti[e[4]]*17:255}:(t===7||t===9)&&(n={r:Ti[e[1]]<<4|Ti[e[2]],g:Ti[e[3]]<<4|Ti[e[4]],b:Ti[e[5]]<<4|Ti[e[6]],a:t===9?Ti[e[7]]<<4|Ti[e[8]]:255})),n}const QW=(e,t)=>e<255?t(e):"";function YW(e){var t=KW(e)?GW:WW;return e?"#"+t(e.r)+t(e.g)+t(e.b)+QW(e.a,t):void 0}const XW=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function PP(e,t,n){const i=t*Math.min(n,1-n),s=(o,l=(o+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function JW(e,t,n){const i=(s,o=(s+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function tK(e,t,n){const i=PP(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function eK(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function HT(e){const n=e.r/255,i=e.g/255,s=e.b/255,o=Math.max(n,i,s),l=Math.min(n,i,s),u=(o+l)/2;let h,f,p;return o!==l&&(p=o-l,f=u>.5?p/(2-o-l):p/(o+l),h=eK(n,i,s,p,o),h=h*60+.5),[h|0,f||0,u]}function qT(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(fo)}function $T(e,t,n){return qT(PP,e,t,n)}function nK(e,t,n){return qT(tK,e,t,n)}function iK(e,t,n){return qT(JW,e,t,n)}function kP(e){return(e%360+360)%360}function sK(e){const t=XW.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?ch(+t[5]):fo(+t[5]));const s=kP(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=nK(s,o,l):t[1]==="hsv"?i=iK(s,o,l):i=$T(s,o,l),{r:i[0],g:i[1],b:i[2],a:n}}function rK(e,t){var n=HT(e);n[0]=kP(n[0]+t),n=$T(n),e.r=n[0],e.g=n[1],e.b=n[2]}function oK(e){if(!e)return;const t=HT(e),n=t[0],i=cC(t[1]),s=cC(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${cr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const uC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function aK(){const e={},t=Object.keys(hC),n=Object.keys(uC);let i,s,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<n.length;s++)o=n[s],u=u.replace(o,uC[o]);o=parseInt(hC[l],16),e[u]=[o>>16&255,o>>8&255,o&255]}return e}let Sp;function lK(e){Sp||(Sp=aK(),Sp.transparent=[0,0,0,0]);const t=Sp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const cK=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uK(e){const t=cK.exec(e);let n=255,i,s,o;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?ch(l):ro(l*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?ch(i):ro(i,0,255)),s=255&(t[4]?ch(s):ro(s,0,255)),o=255&(t[6]?ch(o):ro(o,0,255)),{r:i,g:s,b:o,a:n}}}function hK(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${cr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Ev=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Gl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function fK(e,t,n){const i=Gl(cr(e.r)),s=Gl(cr(e.g)),o=Gl(cr(e.b));return{r:fo(Ev(i+n*(Gl(cr(t.r))-i))),g:fo(Ev(s+n*(Gl(cr(t.g))-s))),b:fo(Ev(o+n*(Gl(cr(t.b))-o))),a:e.a+n*(t.a-e.a)}}function wp(e,t,n){if(e){let i=HT(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=$T(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function NP(e,t){return e&&Object.assign(t||{},e)}function fC(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=fo(e[3]))):(t=NP(e,{r:0,g:0,b:0,a:1}),t.a=fo(t.a)),t}function dK(e){return e.charAt(0)==="r"?uK(e):sK(e)}class nf{constructor(t){if(t instanceof nf)return t;const n=typeof t;let i;n==="object"?i=fC(t):n==="string"&&(i=ZW(t)||lK(t)||dK(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=NP(this._rgb);return t&&(t.a=cr(t.a)),t}set rgb(t){this._rgb=fC(t)}rgbString(){return this._valid?hK(this._rgb):void 0}hexString(){return this._valid?YW(this._rgb):void 0}hslString(){return this._valid?oK(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let o;const l=n===o?.5:n,u=2*l-1,h=i.a-s.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-f,i.r=255&f*i.r+o*s.r+.5,i.g=255&f*i.g+o*s.g+.5,i.b=255&f*i.b+o*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=fK(this._rgb,t._rgb,n)),this}clone(){return new nf(this.rgb)}alpha(t){return this._rgb.a=fo(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Df(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return wp(this._rgb,2,t),this}darken(t){return wp(this._rgb,2,-t),this}saturate(t){return wp(this._rgb,1,t),this}desaturate(t){return wp(this._rgb,1,-t),this}rotate(t){return rK(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function or(){}const pK=(()=>{let e=0;return()=>e++})();function fe(e){return e==null}function Xe(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Qt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function On(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function fs(e,t){return On(e)?e:t}function $t(e,t){return typeof e>"u"?t:e}const mK=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function pe(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function re(e,t,n,i){let s,o,l;if(Xe(e))for(o=e.length,s=0;s<o;s++)t.call(n,e[s],s);else if(Qt(e))for(l=Object.keys(e),o=l.length,s=0;s<o;s++)t.call(n,e[l[s]],l[s])}function zm(e,t){let n,i,s,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],o=t[n],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Um(e){if(Xe(e))return e.map(Um);if(Qt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Um(e[n[s]]);return t}return e}function VP(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function gK(e,t,n,i){if(!VP(e))return;const s=t[e],o=n[e];Qt(s)&&Qt(o)?sf(s,o,i):t[e]=Um(o)}function sf(e,t,n){const i=Xe(t)?t:[t],s=i.length;if(!Qt(e))return e;n=n||{};const o=n.merger||gK;let l;for(let u=0;u<s;++u){if(l=i[u],!Qt(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)o(h[f],e,l,n)}return e}function Ch(e,t){return sf(e,t,{merger:yK})}function yK(e,t,n){if(!VP(e))return;const i=t[e],s=n[e];Qt(i)&&Qt(s)?Ch(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Um(s))}const dC={"":e=>e,x:e=>e.x,y:e=>e.y};function _K(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function vK(e){const t=_K(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function jm(e,t){return(dC[t]||(dC[t]=vK(t)))(e)}function GT(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Bm=e=>typeof e<"u",Co=e=>typeof e=="function",pC=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function bK(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const cn=Math.PI,Gi=2*cn,TK=Gi+cn,Fm=Number.POSITIVE_INFINITY,SK=cn/180,Hi=cn/2,da=cn/4,mC=cn*2/3,LP=Math.log10,wc=Math.sign;function Rh(e,t,n){return Math.abs(e-t)<n}function gC(e){const t=Math.round(e);e=Rh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(LP(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function wK(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,o)=>s-o).pop(),t}function EK(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function rf(e){return!EK(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function AK(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function xK(e,t,n){let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Aa(e){return e*(cn/180)}function CK(e){return e*(180/cn)}function yC(e){if(!On(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function RK(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*cn&&(o+=Gi),{angle:o,distance:s}}function U0(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function IK(e,t){return(e-t+TK)%Gi-cn}function gs(e){return(e%Gi+Gi)%Gi}function zP(e,t,n,i){const s=gs(e),o=gs(t),l=gs(n),u=gs(o-s),h=gs(l-s),f=gs(s-o),p=gs(s-l);return s===o||s===l||i&&o===l||u>h&&f<p}function Ai(e,t,n){return Math.max(t,Math.min(n,e))}function DK(e){return Ai(e,-32768,32767)}function sc(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function WT(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,n(o)?s=o:i=o;return{lo:s,hi:i}}const xa=(e,t,n,i)=>WT(e,n,i?s=>{const o=e[s][t];return o<n||o===n&&e[s+1][t]===n}:s=>e[s][t]<n),MK=(e,t,n)=>WT(e,n,i=>e[i][t]>=n);function OK(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const UP=["push","pop","shift","splice","unshift"];function PK(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),UP.forEach(n=>{const i="_onData"+GT(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const l=s.apply(this,o);return e._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function _C(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(UP.forEach(o=>{delete e[o]}),delete e._chartjs)}function kK(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const jP=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function BP(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,jP.call(window,()=>{i=!1,e.apply(t,n)}))}}function NK(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const KT=e=>e==="start"?"left":e==="end"?"right":"center",An=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,VK=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function LK(e,t,n){const i=t.length;let s=0,o=i;if(e._sorted){const{iScale:l,vScale:u,_parsed:h}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:b,maxDefined:S}=l.getUserBounds();if(b){if(s=Math.min(xa(h,p,y).lo,n?i:xa(t,p,l.getPixelForValue(y)).lo),f){const C=h.slice(0,s+1).reverse().findIndex(E=>!fe(E[u.axis]));s-=Math.max(0,C)}s=Ai(s,0,i-1)}if(S){let C=Math.max(xa(h,l.axis,_,!0).hi+1,n?0:xa(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const E=h.slice(C-1).findIndex(I=>!fe(I[u.axis]));C+=Math.max(0,E)}o=Ai(C,s,i)-s}else o=i-s}return{start:s,count:o}}function zK(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),o}const Ep=e=>e===0||e===1,vC=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Gi/n)),bC=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Gi/n)+1,Ih={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Hi)+1,easeOutSine:e=>Math.sin(e*Hi),easeInOutSine:e=>-.5*(Math.cos(cn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ep(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ep(e)?e:vC(e,.075,.3),easeOutElastic:e=>Ep(e)?e:bC(e,.075,.3),easeInOutElastic(e){return Ep(e)?e:e<.5?.5*vC(e*2,.1125,.45):.5+.5*bC(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ih.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ih.easeInBounce(e*2)*.5:Ih.easeOutBounce(e*2-1)*.5+.5};function ZT(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function TC(e){return ZT(e)?e:new nf(e)}function Av(e){return ZT(e)?e:new nf(e).saturate(.5).darken(.1).hexString()}const UK=["x","y","borderWidth","radius","tension"],jK=["color","borderColor","backgroundColor"];function BK(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:jK},numbers:{type:"number",properties:UK}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function FK(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const SC=new Map;function HK(e,t){t=t||{};const n=e+JSON.stringify(t);let i=SC.get(n);return i||(i=new Intl.NumberFormat(e,t),SC.set(n,i)),i}function FP(e,t,n){return HK(t,n).format(e)}const qK={values(e){return Xe(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,o=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),o=$K(e,n)}const l=LP(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),FP(e,i,h)}};function $K(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var HP={formatters:qK};function GK(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:HP.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const $a=Object.create(null),j0=Object.create(null);function Dh(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const o=n[i];e=e[o]||(e[o]=Object.create(null))}return e}function xv(e,t,n){return typeof t=="string"?sf(Dh(e,t),n):sf(Dh(e,""),t)}class WK{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Av(s.backgroundColor),this.hoverBorderColor=(i,s)=>Av(s.borderColor),this.hoverColor=(i,s)=>Av(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return xv(this,t,n)}get(t){return Dh(this,t)}describe(t,n){return xv(j0,t,n)}override(t,n){return xv($a,t,n)}route(t,n,i,s){const o=Dh(this,t),l=Dh(this,i),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[u],f=l[s];return Qt(h)?Object.assign({},f,h):$t(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(n=>n(this))}}var Ve=new WK({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BK,FK,GK]);function KK(e){return!e||fe(e.size)||fe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function wC(e,t,n,i,s){let o=t[s];return o||(o=t[s]=e.measureText(s).width,n.push(s)),o>i&&(i=o),i}function pa(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function EC(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function B0(e,t,n,i){qP(e,t,n,i,null)}function qP(e,t,n,i,s){let o,l,u,h,f,p,y,_;const b=t.pointStyle,S=t.rotation,C=t.radius;let E=(S||0)*SK;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(E),e.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),e.restore();return}if(!(isNaN(C)||C<=0)){switch(e.beginPath(),b){default:s?e.ellipse(n,i,s/2,C,0,0,Gi):e.arc(n,i,C,0,Gi),e.closePath();break;case"triangle":p=s?s/2:C,e.moveTo(n+Math.sin(E)*p,i-Math.cos(E)*C),E+=mC,e.lineTo(n+Math.sin(E)*p,i-Math.cos(E)*C),E+=mC,e.lineTo(n+Math.sin(E)*p,i-Math.cos(E)*C),e.closePath();break;case"rectRounded":f=C*.516,h=C-f,l=Math.cos(E+da)*h,y=Math.cos(E+da)*(s?s/2-f:h),u=Math.sin(E+da)*h,_=Math.sin(E+da)*(s?s/2-f:h),e.arc(n-y,i-u,f,E-cn,E-Hi),e.arc(n+_,i-l,f,E-Hi,E),e.arc(n+y,i+u,f,E,E+Hi),e.arc(n-_,i+l,f,E+Hi,E+cn),e.closePath();break;case"rect":if(!S){h=Math.SQRT1_2*C,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}E+=da;case"rectRot":y=Math.cos(E)*(s?s/2:C),l=Math.cos(E)*C,u=Math.sin(E)*C,_=Math.sin(E)*(s?s/2:C),e.moveTo(n-y,i-u),e.lineTo(n+_,i-l),e.lineTo(n+y,i+u),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":E+=da;case"cross":y=Math.cos(E)*(s?s/2:C),l=Math.cos(E)*C,u=Math.sin(E)*C,_=Math.sin(E)*(s?s/2:C),e.moveTo(n-y,i-u),e.lineTo(n+y,i+u),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(E)*(s?s/2:C),l=Math.cos(E)*C,u=Math.sin(E)*C,_=Math.sin(E)*(s?s/2:C),e.moveTo(n-y,i-u),e.lineTo(n+y,i+u),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),E+=da,y=Math.cos(E)*(s?s/2:C),l=Math.cos(E)*C,u=Math.sin(E)*C,_=Math.sin(E)*(s?s/2:C),e.moveTo(n-y,i-u),e.lineTo(n+y,i+u),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(E)*C,u=Math.sin(E)*C,e.moveTo(n-l,i-u),e.lineTo(n+l,i+u);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(E)*(s?s/2:C),i+Math.sin(E)*C);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function of(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function xg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Cg(e){e.restore()}function ZK(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function QK(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function YK(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),fe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function XK(e,t,n,i,s){if(s.strikethrough||s.underline){const o=e.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,h=n-o.actualBoundingBoxAscent,f=n+o.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(u,p),e.stroke()}}function JK(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function af(e,t,n,i,s,o={}){const l=Xe(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(e.save(),e.font=s.string,YK(e,o),h=0;h<l.length;++h)f=l[h],o.backdrop&&JK(e,o.backdrop),u&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),fe(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(f,n,i,o.maxWidth)),e.fillText(f,n,i,o.maxWidth),XK(e,n,i,f,o),i+=Number(s.lineHeight);e.restore()}function F0(e,t){const{x:n,y:i,w:s,h:o,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*cn,cn,!0),e.lineTo(n,i+o-l.bottomLeft),e.arc(n+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,cn,Hi,!0),e.lineTo(n+s-l.bottomRight,i+o),e.arc(n+s-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Hi,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-Hi,!0),e.lineTo(n+l.topLeft,i)}const tZ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eZ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nZ(e,t){const n=(""+e).match(tZ);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const iZ=e=>+e||0;function $P(e,t){const n={},i=Qt(t),s=i?Object.keys(t):t,o=Qt(e)?i?l=>$t(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=iZ(o(l));return n}function sZ(e){return $P(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Mh(e){return $P(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ii(e){const t=sZ(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Dn(e,t){e=e||{},t=t||Ve.font;let n=$t(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=$t(e.style,t.style);i&&!(""+i).match(eZ)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:$t(e.family,t.family),lineHeight:nZ($t(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:$t(e.weight,t.weight),string:""};return s.string=KK(s),s}function Ap(e,t,n,i){let s,o,l;for(s=0,o=e.length;s<o;++s)if(l=e[s],l!==void 0&&l!==void 0)return l}function rZ(e,t,n){const{min:i,max:s}=e,o=mK(t,(s-i)/2),l=(u,h)=>n&&u===0?0:u+h;return{min:l(i,-Math.abs(o)),max:l(s,o)}}function Qa(e,t){return Object.assign(Object.create(e),t)}function QT(e,t=[""],n,i,s=()=>e[0]){const o=n||e;typeof i>"u"&&(i=ZP("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:s,override:u=>QT([u,...e],t,o,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete e[0][h],!0},get(u,h){return WP(u,h,()=>dZ(h,t,e,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,h){return xC(u).includes(h)},ownKeys(u){return xC(u)},set(u,h,f){const p=u._storage||(u._storage=s());return u[h]=p[h]=f,delete u._keys,!0}})}function Ec(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:GP(e,i),setContext:o=>Ec(e,o,n,i),override:o=>Ec(e.override(o),t,n,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete e[l],!0},get(o,l,u){return WP(o,l,()=>aZ(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(o,l,u){return e[l]=u,delete o[l],!0}})}function GP(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Co(n)?n:()=>n,isIndexable:Co(i)?i:()=>i}}const oZ=(e,t)=>e?e+GT(t):t,YT=(e,t)=>Qt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function WP(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function aZ(e,t,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=e;let u=i[t];return Co(u)&&l.isScriptable(t)&&(u=lZ(t,u,e,n)),Xe(u)&&u.length&&(u=cZ(t,u,e,l.isIndexable)),YT(t,u)&&(u=Ec(u,s,o&&o[t],l)),u}function lZ(e,t,n,i){const{_proxy:s,_context:o,_subProxy:l,_stack:u}=n;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let h=t(o,l||i);return u.delete(e),YT(e,h)&&(h=XT(s._scopes,s,e,h)),h}function cZ(e,t,n,i){const{_proxy:s,_context:o,_subProxy:l,_descriptors:u}=n;if(typeof o.index<"u"&&i(e))return t[o.index%t.length];if(Qt(t[0])){const h=t,f=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=XT(f,s,e,p);t.push(Ec(y,o,l&&l[e],u))}}return t}function KP(e,t,n){return Co(e)?e(t,n):e}const uZ=(e,t)=>e===!0?t:typeof e=="string"?jm(t,e):void 0;function hZ(e,t,n,i,s){for(const o of t){const l=uZ(n,o);if(l){e.add(l);const u=KP(l._fallback,n,s);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function XT(e,t,n,i){const s=t._rootScopes,o=KP(t._fallback,n,i),l=[...e,...s],u=new Set;u.add(i);let h=AC(u,l,n,o||n,i);return h===null||typeof o<"u"&&o!==n&&(h=AC(u,l,o,h,i),h===null)?!1:QT(Array.from(u),[""],s,o,()=>fZ(t,n,i))}function AC(e,t,n,i,s){for(;n;)n=hZ(e,t,n,i,s);return n}function fZ(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Xe(s)&&Qt(n)?n:s||{}}function dZ(e,t,n,i){let s;for(const o of t)if(s=ZP(oZ(o,e),n),typeof s<"u")return YT(e,s)?XT(n,i,e,s):s}function ZP(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function xC(e){let t=e._keys;return t||(t=e._keys=pZ(e._scopes)),t}function pZ(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const mZ=Number.EPSILON||1e-14,Ac=(e,t)=>t<e.length&&!e[t].skip&&e[t],QP=e=>e==="x"?"y":"x";function gZ(e,t,n,i){const s=e.skip?t:e,o=t,l=n.skip?t:n,u=U0(o,s),h=U0(l,o);let f=u/(u+h),p=h/(u+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:o.x-y*(l.x-s.x),y:o.y-y*(l.y-s.y)},next:{x:o.x+_*(l.x-s.x),y:o.y+_*(l.y-s.y)}}}function yZ(e,t,n){const i=e.length;let s,o,l,u,h,f=Ac(e,0);for(let p=0;p<i-1;++p)if(h=f,f=Ac(e,p+1),!(!h||!f)){if(Rh(t[p],0,mZ)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],o=n[p+1]/t[p],u=Math.pow(s,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),n[p]=s*l*t[p],n[p+1]=o*l*t[p])}}function _Z(e,t,n="x"){const i=QP(n),s=e.length;let o,l,u,h=Ac(e,0);for(let f=0;f<s;++f){if(l=u,u=h,h=Ac(e,f+1),!u)continue;const p=u[n],y=u[i];l&&(o=(p-l[n])/3,u[`cp1${n}`]=p-o,u[`cp1${i}`]=y-o*t[f]),h&&(o=(h[n]-p)/3,u[`cp2${n}`]=p+o,u[`cp2${i}`]=y+o*t[f])}}function vZ(e,t="x"){const n=QP(t),i=e.length,s=Array(i).fill(0),o=Array(i);let l,u,h,f=Ac(e,0);for(l=0;l<i;++l)if(u=h,h=f,f=Ac(e,l+1),!!h){if(f){const p=f[t]-h[t];s[l]=p!==0?(f[n]-h[n])/p:0}o[l]=u?f?wc(s[l-1])!==wc(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}yZ(e,s,o),_Z(e,o,t)}function xp(e,t,n){return Math.max(Math.min(e,n),t)}function bZ(e,t){let n,i,s,o,l,u=of(e[0],t);for(n=0,i=e.length;n<i;++n)l=o,o=u,u=n<i-1&&of(e[n+1],t),o&&(s=e[n],l&&(s.cp1x=xp(s.cp1x,t.left,t.right),s.cp1y=xp(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=xp(s.cp2x,t.left,t.right),s.cp2y=xp(s.cp2y,t.top,t.bottom)))}function TZ(e,t,n,i,s){let o,l,u,h;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")vZ(e,s);else{let f=i?e[e.length-1]:e[0];for(o=0,l=e.length;o<l;++o)u=e[o],h=gZ(f,u,e[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}t.capBezierPoints&&bZ(e,n)}function JT(){return typeof window<"u"&&typeof document<"u"}function t1(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Hm(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Rg=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function SZ(e,t){return Rg(e).getPropertyValue(t)}const wZ=["top","right","bottom","left"];function Oa(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const o=wZ[s];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const EZ=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function AZ(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:o}=i;let l=!1,u,h;if(EZ(s,o,e.target))u=s,h=o;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function va(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Rg(n),o=s.boxSizing==="border-box",l=Oa(s,"padding"),u=Oa(s,"border","width"),{x:h,y:f,box:p}=AZ(e,n),y=l.left+(p&&u.left),_=l.top+(p&&u.top);let{width:b,height:S}=t;return o&&(b-=l.width+u.width,S-=l.height+u.height),{x:Math.round((h-y)/b*n.width/i),y:Math.round((f-_)/S*n.height/i)}}function xZ(e,t,n){let i,s;if(t===void 0||n===void 0){const o=e&&t1(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const l=o.getBoundingClientRect(),u=Rg(o),h=Oa(u,"border","width"),f=Oa(u,"padding");t=l.width-f.width-h.width,n=l.height-f.height-h.height,i=Hm(u.maxWidth,o,"clientWidth"),s=Hm(u.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:i||Fm,maxHeight:s||Fm}}const Cp=e=>Math.round(e*10)/10;function CZ(e,t,n,i){const s=Rg(e),o=Oa(s,"margin"),l=Hm(s.maxWidth,e,"clientWidth")||Fm,u=Hm(s.maxHeight,e,"clientHeight")||Fm,h=xZ(e,t,n);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const _=Oa(s,"border","width"),b=Oa(s,"padding");f-=b.width+_.width,p-=b.height+_.height}return f=Math.max(0,f-o.width),p=Math.max(0,i?f/i:p-o.height),f=Cp(Math.min(f,l,h.maxWidth)),p=Cp(Math.min(p,u,h.maxHeight)),f&&!p&&(p=Cp(f/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=Cp(Math.floor(p*i))),{width:f,height:p}}function CC(e,t,n){const i=t||1,s=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==o?(e.currentDevicePixelRatio=i,l.height=s,l.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const RZ=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};JT()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function RC(e,t){const n=SZ(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ba(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function IZ(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function DZ(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},l=ba(e,s,n),u=ba(s,o,n),h=ba(o,t,n),f=ba(l,u,n),p=ba(u,h,n);return ba(f,p,n)}const MZ=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},OZ=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function fc(e,t,n){return e?MZ(t,n):OZ()}function YP(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function XP(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function JP(e){return e==="angle"?{between:zP,compare:IK,normalize:gs}:{between:sc,compare:(t,n)=>t-n,normalize:t=>t}}function IC({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function PZ(e,t,n){const{property:i,start:s,end:o}=n,{between:l,normalize:u}=JP(i),h=t.length;let{start:f,end:p,loop:y}=e,_,b;if(y){for(f+=h,p+=h,_=0,b=h;_<b&&l(u(t[f%h][i]),s,o);++_)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:y,style:e.style}}function tk(e,t,n){if(!n)return[e];const{property:i,start:s,end:o}=n,l=t.length,{compare:u,between:h,normalize:f}=JP(i),{start:p,end:y,loop:_,style:b}=PZ(e,t,n),S=[];let C=!1,E=null,I,j,k;const N=()=>h(s,k,I)&&u(s,k)!==0,V=()=>u(o,I)===0||h(o,k,I),B=()=>C||N(),D=()=>!C||V();for(let A=p,R=p;A<=y;++A)j=t[A%l],!j.skip&&(I=f(j[i]),I!==k&&(C=h(I,s,o),E===null&&B()&&(E=u(I,s)===0?A:R),E!==null&&D()&&(S.push(IC({start:E,end:A,loop:_,count:l,style:b})),E=null),R=A,k=I));return E!==null&&S.push(IC({start:E,end:y,loop:_,count:l,style:b})),S}function ek(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const o=tk(i[s],e.points,t);o.length&&n.push(...o)}return n}function kZ(e,t,n,i){let s=0,o=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(o+=s);o>s&&e[o%t].skip;)o--;return o%=t,{start:s,end:o}}function NZ(e,t,n,i){const s=e.length,o=[];let l=t,u=e[t],h;for(h=t+1;h<=n;++h){const f=e[h%s];f.skip||f.stop?u.skip||(i=!1,o.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,u.skip&&(t=h)),u=f}return l!==null&&o.push({start:t%s,end:l%s,loop:i}),o}function VZ(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const o=!!e._loop,{start:l,end:u}=kZ(n,s,o,i);if(i===!0)return DC(e,[{start:l,end:u,loop:o}],n,t);const h=u<l?u+s:u,f=!!e._fullLoop&&l===0&&u===s-1;return DC(e,NZ(n,l,h,f),n,t)}function DC(e,t,n,i){return!i||!i.setContext||!n?t:LZ(e,t,n,i)}function LZ(e,t,n,i){const s=e._chart.getContext(),o=MC(e.options),{_datasetIndex:l,options:{spanGaps:u}}=e,h=n.length,f=[];let p=o,y=t[0].start,_=y;function b(S,C,E,I){const j=u?-1:1;if(S!==C){for(S+=h;n[S%h].skip;)S-=j;for(;n[C%h].skip;)C+=j;S%h!==C%h&&(f.push({start:S%h,end:C%h,loop:E,style:I}),p=I,y=C%h)}}for(const S of t){y=u?y:S.start;let C=n[y%h],E;for(_=y+1;_<=S.end;_++){const I=n[_%h];E=MC(i.setContext(Qa(s,{type:"segment",p0:C,p1:I,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),zZ(E,p)&&b(y,_-1,S.loop,p),C=I,p=E}y<_-1&&b(y,_-1,S.loop,p)}return f}function MC(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function zZ(e,t){if(!t)return!1;const n=[],i=function(s,o){return ZT(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Rp(e,t,n){return e.options.clip?e[n]:t[n]}function UZ(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Rp(n,t,"left"),right:Rp(n,t,"right"),top:Rp(i,t,"top"),bottom:Rp(i,t,"bottom")}:t}function nk(e,t){const n=t._clip;if(n.disabled)return!1;const i=UZ(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class jZ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const o=n.listeners[s],l=n.duration;o.forEach(u=>u({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=jP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ar=new jZ;const OC="transparent",BZ={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=TC(e||OC),s=i.valid&&TC(t||OC);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class FZ{constructor(t,n,i,s){const o=n[i];s=Ap([t.to,s,o,t.from]);const l=Ap([t.from,o,s]);this._active=!0,this._fn=t.fn||BZ[t.type||typeof l],this._easing=Ih[t.easing]||Ih.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Ap([t.to,n,s,t.from]),this._from=Ap([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,o=this._from,l=this._loop,u=this._to;let h;if(this._active=o!==u&&(l||n<i),!this._active){this._target[s]=u,this._notify(!0);return}if(n<0){this._target[s]=o;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(o,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class ik{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Qt(t))return;const n=Object.keys(Ve.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!Qt(o))return;const l={};for(const u of n)l[u]=o[u];(Xe(o.properties)&&o.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,n){const i=n.options,s=qZ(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&HZ(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,n){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),l=Object.keys(n),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[f];let y=o[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,u);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}o[f]=y=new FZ(_,t,f,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return ar.add(this._chart,i),!0}}function HZ(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=e[i[s]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function qZ(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function PC(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function $Z(e,t,n){if(n===!1)return!1;const i=PC(e,n),s=PC(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function GZ(e){let t,n,i,s;return Qt(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function sk(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)n.push(i[s].index);return n}function kC(e,t,n,i={}){const s=e.keys,o=i.mode==="single";let l,u,h,f;if(t===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}f=e.values[h],On(f)&&(o||t===0||wc(t)===wc(f))&&(t+=f)}return!p&&!i.all?0:t}function WZ(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(e),u=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],u[h]={[s]:p,[o]:e[p]};return u}function Cv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function KZ(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function ZZ(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function QZ(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function NC(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=e[s.index];if(n&&o>0||!n&&o<0)return s.index}return null}function VC(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:u}=i,h=o.axis,f=l.axis,p=KZ(o,l,i),y=t.length;let _;for(let b=0;b<y;++b){const S=t[b],{[h]:C,[f]:E}=S,I=S._stacks||(S._stacks={});_=I[f]=QZ(s,p,C),_[u]=E,_._top=NC(_,l,!0,i.type),_._bottom=NC(_,l,!1,i.type);const j=_._visualValues||(_._visualValues={});j[u]=E}}function Rv(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function YZ(e,t){return Qa(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function XZ(e,t,n){return Qa(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Yu(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Iv=e=>e==="reset"||e==="none",LC=(e,t)=>t?e:Object.assign({},e),JZ=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:sk(n,!0),values:null};class Oh{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Cv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Yu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,b,S)=>y==="x"?_:y==="r"?S:b,o=n.xAxisID=$t(i.xAxisID,Rv(t,"x")),l=n.yAxisID=$t(i.yAxisID,Rv(t,"y")),u=n.rAxisID=$t(i.rAxisID,Rv(t,"r")),h=n.indexAxis,f=n.iAxisID=s(h,o,l,u),p=n.vAxisID=s(h,l,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&_C(this._data,this),t._stacked&&Yu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(Qt(n)){const s=this._cachedMeta;this._data=WZ(n,s)}else if(i!==n){if(i){_C(i,this);const s=this._cachedMeta;Yu(s),s._parsed=[]}n&&Object.isExtensible(n)&&PK(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=Cv(n.vScale,n),n.stack!==i.stack&&(s=!0,Yu(n),n.stack=i.stack),this._resyncElements(t),(s||o!==n._stacked)&&(VC(this,n._parsed),n._stacked=Cv(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:l}=i,u=o.axis;let h=t===0&&n===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{Xe(s[t])?_=this.parseArrayData(i,s,t,n):Qt(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const b=()=>y[u]===null||f&&y[u]<f[u];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(b()&&(h=!1),f=y);i._sorted=h}l&&VC(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:o,vScale:l}=t,u=o.axis,h=l.axis,f=o.getLabels(),p=o===l,y=new Array(s);let _,b,S;for(_=0,b=s;_<b;++_)S=_+i,y[_]={[u]:p||o.parse(f[S],S),[h]:l.parse(n[S],S)};return y}parseArrayData(t,n,i,s){const{xScale:o,yScale:l}=t,u=new Array(s);let h,f,p,y;for(h=0,f=s;h<f;++h)p=h+i,y=n[p],u[h]={x:o.parse(y[0],p),y:l.parse(y[1],p)};return u}parseObjectData(t,n,i,s){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,y,_,b;for(p=0,y=s;p<y;++p)_=p+i,b=n[_],f[p]={x:o.parse(jm(b,u),_),y:l.parse(jm(b,h),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,o=this._cachedMeta,l=n[t.axis],u={keys:sk(s,!0),values:n._stacks[t.axis]._visualValues};return kC(u,l,o.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const o=i[n.axis];let l=o===null?NaN:o;const u=s&&i._stacks[n.axis];s&&u&&(s.values=u,l=kC(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),h=JZ(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=ZZ(u);let _,b;function S(){b=s[_];const C=b[u.axis];return!On(b[t.axis])||p>C||y<C}for(_=0;_<l&&!(!S()&&(this.updateRangeFromParsed(f,t,b,h),o));++_);if(o){for(_=l-1;_>=0;--_)if(!S()){this.updateRangeFromParsed(f,t,b,h);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,o,l;for(s=0,o=n.length;s<o;++s)l=n[s][t.axis],On(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=GZ($t(this.options.clip,$Z(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],o=n.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,h),p=u;p<u+h;++p){const y=s[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=XZ(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=YZ(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",o=this._cachedDataOpts,l=t+"-"+n,u=o[l],h=this.enableOptionSharing&&Bm(i);if(u)return LC(u,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),b=Object.keys(Ve.elements[t]),S=()=>this.getContext(i,s,n),C=f.resolveNamedOptions(_,b,S,y);return C.$shared&&(C.$shared=h,o[l]=Object.freeze(LC(C,h))),C}_resolveAnimations(t,n,i){const s=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,u=o[l];if(u)return u;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const f=new ik(s,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Iv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:l}}updateElement(t,n,i,s){Iv(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Iv(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const s=i.length,o=n.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,n,i=!0){const s=this._cachedMeta,o=s.data,l=t+n;let u;const h=f=>{for(f.length+=n,u=f.length-1;u>=l;u--)f[u]=f[u-n]};for(h(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(o,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Yu(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}kt(Oh,"defaults",{}),kt(Oh,"datasetElementType",null),kt(Oh,"dataElementType",null);class Xp extends Oh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=n,l=this.chart._animationsDisabled;let{start:u,count:h}=LK(n,s,l);this._drawStart=u,this._drawCount=h,zK(n)&&(u=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,u,h,t)}updateElements(t,n,i,s){const o=s==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,b=u.axis,{spanGaps:S,segment:C}=this.options,E=rf(S)?S:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||o||s==="none",j=n+i,k=t.length;let N=n>0&&this.getParsed(n-1);for(let V=0;V<k;++V){const B=t[V],D=I?B:{};if(V<n||V>=j){D.skip=!0;continue}const A=this.getParsed(V),R=fe(A[b]),M=D[_]=l.getPixelForValue(A[_],V),O=D[b]=o||R?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,A,h):A[b],V);D.skip=isNaN(M)||isNaN(O)||R,D.stop=V>0&&Math.abs(A[_]-N[_])>E,C&&(D.parsed=A,D.raw=f.data[V]),y&&(D.options=p||this.resolveDataElementOptions(V,B.active?"active":s)),I||this.updateElement(B,V,D,s),N=A}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}kt(Xp,"id","line"),kt(Xp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),kt(Xp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function ma(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class e1{constructor(t){kt(this,"options");this.options=t||{}}static override(t){Object.assign(e1.prototype,t)}init(){}formats(){return ma()}parse(){return ma()}format(){return ma()}add(){return ma()}diff(){return ma()}startOf(){return ma()}endOf(){return ma()}}var tQ={_date:e1};function eQ(e,t,n,i){const{controller:s,data:o,_sorted:l}=e,u=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const f=u._reversePixels?MK:xa;if(i){if(s._sharedOptions){const p=o[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(o,t,n-y),b=f(o,t,n+y);return{lo:_.lo,hi:b.hi}}}}else{const p=f(o,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,b=_.slice(0,p.lo+1).reverse().findIndex(C=>!fe(C[y.axis]));p.lo-=Math.max(0,b);const S=_.slice(p.hi).findIndex(C=>!fe(C[y.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:o.length-1}}function Ig(e,t,n,i,s){const o=e.getSortedVisibleDatasetMetas(),l=n[t];for(let u=0,h=o.length;u<h;++u){const{index:f,data:p}=o[u],{lo:y,hi:_}=eQ(o[u],t,l,s);for(let b=y;b<=_;++b){const S=p[b];S.skip||i(S,f,b)}}}function nQ(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Dv(e,t,n,i,s){const o=[];return!s&&!e.isPointInArea(t)||Ig(e,n,t,function(u,h,f){!s&&!of(u,e.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:h,index:f})},!0),o}function iQ(e,t,n,i){let s=[];function o(l,u,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=RK(l,{x:t.x,y:t.y});zP(y,f,p)&&s.push({element:l,datasetIndex:u,index:h})}return Ig(e,n,t,o),s}function sQ(e,t,n,i,s,o){let l=[];const u=nQ(n);let h=Number.POSITIVE_INFINITY;function f(p,y,_){const b=p.inRange(t.x,t.y,s);if(i&&!b)return;const S=p.getCenterPoint(s);if(!(!!o||e.isPointInArea(S))&&!b)return;const E=u(t,S);E<h?(l=[{element:p,datasetIndex:y,index:_}],h=E):E===h&&l.push({element:p,datasetIndex:y,index:_})}return Ig(e,n,t,f),l}function Mv(e,t,n,i,s,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!i?iQ(e,t,n,s):sQ(e,t,n,i,s,o)}function zC(e,t,n,i,s){const o=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return Ig(e,n,t,(h,f,p)=>{h[l]&&h[l](t[n],s)&&(o.push({element:h,datasetIndex:f,index:p}),u=u||h.inRange(t.x,t.y,s))}),i&&!u?[]:o}var rQ={modes:{index(e,t,n,i){const s=va(t,e),o=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?Dv(e,s,o,i,l):Mv(e,s,o,!1,i,l),h=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,y=f.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,n,i){const s=va(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?Dv(e,s,o,i,l):Mv(e,s,o,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=e.getDatasetMeta(h).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:h,index:p})}return u},point(e,t,n,i){const s=va(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Dv(e,s,o,i,l)},nearest(e,t,n,i){const s=va(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Mv(e,s,o,n.intersect,i,l)},x(e,t,n,i){const s=va(t,e);return zC(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=va(t,e);return zC(e,s,"y",n.intersect,i)}}};const rk=["left","top","right","bottom"];function Xu(e,t){return e.filter(n=>n.pos===t)}function UC(e,t){return e.filter(n=>rk.indexOf(n.pos)===-1&&n.box.axis===t)}function Ju(e,t){return e.sort((n,i)=>{const s=t?i:n,o=t?n:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function oQ(e){const t=[];let n,i,s,o,l,u;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:o,options:{stack:l,stackWeight:u=1}}=s,t.push({index:n,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&o+l,stackWeight:u});return t}function aQ(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:o}=n;if(!i||!rk.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function lQ(e,t){const n=aQ(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,l,u;for(o=0,l=e.length;o<l;++o){u=e[o];const{fullSize:h}=u.box,f=n[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:h&&t.availableWidth,u.height=s):(u.width=i,u.height=p?p*s:h&&t.availableHeight)}return n}function cQ(e){const t=oQ(e),n=Ju(t.filter(f=>f.box.fullSize),!0),i=Ju(Xu(t,"left"),!0),s=Ju(Xu(t,"right")),o=Ju(Xu(t,"top"),!0),l=Ju(Xu(t,"bottom")),u=UC(t,"x"),h=UC(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:Xu(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:o.concat(l).concat(u)}}function jC(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function ok(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function uQ(e,t,n,i){const{pos:s,box:o}=n,l=e.maxPadding;if(!Qt(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?o.height:o.width),n.size=y.size/y.count,e[s]+=n.size}o.getPadding&&ok(l,o.getPadding());const u=Math.max(0,t.outerWidth-jC(l,e,"left","right")),h=Math.max(0,t.outerHeight-jC(l,e,"top","bottom")),f=u!==e.w,p=h!==e.h;return e.w=u,e.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function hQ(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function fQ(e,t){const n=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{o[l]=Math.max(t[l],n[l])}),o}return i(e?["left","right"]:["top","bottom"])}function uh(e,t,n,i){const s=[];let o,l,u,h,f,p;for(o=0,l=e.length,f=0;o<l;++o){u=e[o],h=u.box,h.update(u.width||t.w,u.height||t.h,fQ(u.horizontal,t));const{same:y,other:_}=uQ(t,n,u,i);f|=y&&s.length,p=p||_,h.fullSize||s.push(u)}return f&&uh(s,t,n,i)||p}function Ip(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function BC(e,t,n,i){const s=n.padding;let{x:o,y:l}=t;for(const u of e){const h=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const y=t.w*p,_=f.size||h.height;Bm(f.start)&&(l=f.start),h.fullSize?Ip(h,s.left,l,n.outerWidth-s.right-s.left,_):Ip(h,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=h.bottom}else{const y=t.h*p,_=f.size||h.width;Bm(f.start)&&(o=f.start),h.fullSize?Ip(h,o,s.top,_,n.outerHeight-s.bottom-s.top):Ip(h,o,t.top+f.placed,_,y),f.start=o,f.placed+=y,o=h.right}}t.x=o,t.y=l}var xi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Ii(e.options.layout.padding),o=Math.max(t-s.width,0),l=Math.max(n-s.height,0),u=cQ(e.boxes),h=u.vertical,f=u.horizontal;re(e.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const p=h.reduce((C,E)=>E.box.options&&E.box.options.display===!1?C:C+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);ok(_,Ii(i));const b=Object.assign({maxPadding:_,w:o,h:l,x:s.left,y:s.top},s),S=lQ(h.concat(f),y);uh(u.fullSize,b,y,S),uh(h,b,y,S),uh(f,b,y,S)&&uh(h,b,y,S),hQ(b),BC(u.leftAndTop,b,y,S),b.x+=b.w,b.y+=b.h,BC(u.rightAndBottom,b,y,S),e.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},re(u.chartArea,C=>{const E=C.box;Object.assign(E,e.chartArea),E.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class ak{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class dQ extends ak{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Jp="$chartjs",pQ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},FC=e=>e===null||e==="";function mQ(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Jp]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",FC(s)){const o=RC(e,"width");o!==void 0&&(e.width=o)}if(FC(i))if(e.style.height==="")e.height=e.width/(t||2);else{const o=RC(e,"height");o!==void 0&&(e.height=o)}return e}const lk=RZ?{passive:!0}:!1;function gQ(e,t,n){e&&e.addEventListener(t,n,lk)}function yQ(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,lk)}function _Q(e,t){const n=pQ[e.type]||e.type,{x:i,y:s}=va(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function qm(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function vQ(e,t,n){const i=e.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||qm(u.addedNodes,i),l=l&&!qm(u.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function bQ(e,t,n){const i=e.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||qm(u.removedNodes,i),l=l&&!qm(u.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const lf=new Map;let HC=0;function ck(){const e=window.devicePixelRatio;e!==HC&&(HC=e,lf.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function TQ(e,t){lf.size||window.addEventListener("resize",ck),lf.set(e,t)}function SQ(e){lf.delete(e),lf.size||window.removeEventListener("resize",ck)}function wQ(e,t,n){const i=e.canvas,s=i&&t1(i);if(!s)return;const o=BP((u,h)=>{const f=s.clientWidth;n(u,h),f<s.clientWidth&&n()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(s),TQ(e,o),l}function Ov(e,t,n){n&&n.disconnect(),t==="resize"&&SQ(e)}function EQ(e,t,n){const i=e.canvas,s=BP(o=>{e.ctx!==null&&n(_Q(o,e))},e);return gQ(i,t,s),s}class AQ extends ak{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(mQ(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Jp])return!1;const i=n[Jp].initial;["height","width"].forEach(o=>{const l=i[o];fe(l)?n.removeAttribute(o):n.setAttribute(o,l)});const s=i.style||{};return Object.keys(s).forEach(o=>{n.style[o]=s[o]}),n.width=n.width,delete n[Jp],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:vQ,detach:bQ,resize:wQ}[n]||EQ;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Ov,detach:Ov,resize:Ov}[n]||yQ)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return CZ(t,n,i,s)}isAttached(t){const n=t&&t1(t);return!!(n&&n.isConnected)}}function xQ(e){return!JT()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?dQ:AQ}var Np;let Ya=(Np=class{constructor(){kt(this,"x");kt(this,"y");kt(this,"active",!1);kt(this,"options");kt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return rf(this.x)&&rf(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},kt(Np,"defaults",{}),kt(Np,"defaultRoutes"),Np);function CQ(e,t){const n=e.options.ticks,i=RQ(e),s=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?DQ(t):[],l=o.length,u=o[0],h=o[l-1],f=[];if(l>s)return MQ(t,f,o,l/s),f;const p=IQ(o,t,s);if(l>0){let y,_;const b=l>1?Math.round((h-u)/(l-1)):null;for(Dp(t,f,p,fe(b)?0:u-b,u),y=0,_=l-1;y<_;y++)Dp(t,f,p,o[y],o[y+1]);return Dp(t,f,p,h,fe(b)?t.length:h+b),f}return Dp(t,f,p),f}function RQ(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function IQ(e,t,n){const i=OQ(e),s=t.length/n;if(!i)return Math.max(s,1);const o=wK(i);for(let l=0,u=o.length-1;l<u;l++){const h=o[l];if(h>s)return h}return Math.max(s,1)}function DQ(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function MQ(e,t,n,i){let s=0,o=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===o&&(t.push(e[l]),s++,o=n[s*i])}function Dp(e,t,n,i,s){const o=$t(i,0),l=Math.min($t(s,e.length),e.length);let u=0,h,f,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=o;p<0;)u++,p=Math.round(o+u*n);for(f=Math.max(o,0);f<l;f++)f===p&&(t.push(e[f]),u++,p=Math.round(o+u*n))}function OQ(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const PQ=e=>e==="left"?"right":e==="right"?"left":e,qC=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,$C=(e,t)=>Math.min(t||e,e);function GC(e,t){const n=[],i=e.length/t,s=e.length;let o=0;for(;o<s;o+=i)n.push(e[Math.floor(o)]);return n}function kQ(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),o=e._startPixel,l=e._endPixel,u=1e-6;let h=e.getPixelForTick(s),f;if(!(n&&(i===1?f=Math.max(h-o,l-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<o-u||h>l+u)))return h}function NQ(e,t){re(e,n=>{const i=n.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete n.data[i[o]];i.splice(0,s)}})}function th(e){return e.drawTicks?e.tickLength:0}function WC(e,t){if(!e.display)return 0;const n=Dn(e.font,t),i=Ii(e.padding);return(Xe(e.text)?e.text.length:1)*n.lineHeight+i.height}function VQ(e,t){return Qa(e,{scale:t,type:"scale"})}function LQ(e,t,n){return Qa(e,{tick:n,index:t,type:"tick"})}function zQ(e,t,n){let i=KT(e);return(n&&t!=="right"||!n&&t==="right")&&(i=PQ(i)),i}function UQ(e,t,n,i){const{top:s,left:o,bottom:l,right:u,chart:h}=e,{chartArea:f,scales:p}=h;let y=0,_,b,S;const C=l-s,E=u-o;if(e.isHorizontal()){if(b=An(i,o,u),Qt(n)){const I=Object.keys(n)[0],j=n[I];S=p[I].getPixelForValue(j)+C-t}else n==="center"?S=(f.bottom+f.top)/2+C-t:S=qC(e,n,t);_=u-o}else{if(Qt(n)){const I=Object.keys(n)[0],j=n[I];b=p[I].getPixelForValue(j)-E+t}else n==="center"?b=(f.left+f.right)/2-E+t:b=qC(e,n,t);S=An(i,l,s),y=n==="left"?-Hi:Hi}return{titleX:b,titleY:S,maxWidth:_,rotation:y}}class Lc extends Ya{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=fs(t,Number.POSITIVE_INFINITY),n=fs(n,Number.NEGATIVE_INFINITY),i=fs(i,Number.POSITIVE_INFINITY),s=fs(s,Number.NEGATIVE_INFINITY),{min:fs(t,i),max:fs(n,s),minDefined:On(t),maxDefined:On(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),l;if(s&&o)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),o||(i=Math.max(i,l.max));return n=o&&n>i?i:n,i=s&&n>i?n:i,{min:fs(n,fs(i,n)),max:fs(i,fs(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pe(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rZ(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?GC(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=CQ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pe(this.options.afterUpdate,[this])}beforeSetDimensions(){pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),pe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=pe(n.callback,[o.value,i,t],this)}afterTickToLabelConversion(){pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=$C(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation;let l=s,u,h,f;if(!this._isVisible()||!n.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,b=Ai(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/i:b/(i-1),y+6>u&&(u=b/(i-(t.offset?.5:1)),h=this.maxHeight-th(t.grid)-n.padding-WC(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=CK(Math.min(Math.asin(Ai((p.highest.height+6)/u,-1,1)),Math.asin(Ai(h/f,-1,1))-Math.asin(Ai(_/f,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=WC(s,n.options.font);if(u?(t.width=this.maxWidth,t.height=th(o)+h):(t.height=this.maxHeight,t.width=th(o)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),b=i.padding*2,S=Aa(this.labelRotation),C=Math.cos(S),E=Math.sin(S);if(u){const I=i.mirror?0:E*y.width+C*_.height;t.height=Math.min(this.maxHeight,t.height+I+b)}else{const I=i.mirror?0:C*y.width+E*_.height;t.width=Math.min(this.maxWidth,t.width+I+b)}this._calculatePadding(f,p,E,C)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:o,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?f?(_=s*t.width,b=i*n.height):(_=i*t.height,b=s*n.width):o==="start"?b=n.width:o==="end"?_=t.width:o!=="inner"&&(_=t.width/2,b=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;o==="start"?(p=0,y=t.height):o==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)fe(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=GC(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:o}=this,l=[],u=[],h=Math.floor(n/$C(n,i));let f=0,p=0,y,_,b,S,C,E,I,j,k,N,V;for(y=0;y<n;y+=h){if(S=t[y].label,C=this._resolveTickFontOptions(y),s.font=E=C.string,I=o[E]=o[E]||{data:{},gc:[]},j=C.lineHeight,k=N=0,!fe(S)&&!Xe(S))k=wC(s,I.data,I.gc,k,S),N=j;else if(Xe(S))for(_=0,b=S.length;_<b;++_)V=S[_],!fe(V)&&!Xe(V)&&(k=wC(s,I.data,I.gc,k,V),N+=j);l.push(k),u.push(N),f=Math.max(k,f),p=Math.max(N,p)}NQ(o,n);const B=l.indexOf(f),D=u.indexOf(p),A=R=>({width:l[R]||0,height:u[R]||0});return{first:A(0),last:A(n-1),widest:A(B),highest:A(D),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return DK(this._alignToPixels?pa(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=LQ(this.getContext(),t,i))}return this.$context||(this.$context=VQ(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Aa(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:o,position:l,border:u}=s,h=o.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=th(o),b=[],S=u.setContext(this.getContext()),C=S.display?S.width:0,E=C/2,I=function(q){return pa(i,q,C)};let j,k,N,V,B,D,A,R,M,O,L,P;if(l==="top")j=I(this.bottom),D=this.bottom-_,R=j-E,O=I(t.top)+E,P=t.bottom;else if(l==="bottom")j=I(this.top),O=t.top,P=I(t.bottom)-E,D=j+E,R=this.top+_;else if(l==="left")j=I(this.right),B=this.right-_,A=j-E,M=I(t.left)+E,L=t.right;else if(l==="right")j=I(this.left),M=t.left,L=I(t.right)-E,B=j+E,A=this.left+_;else if(n==="x"){if(l==="center")j=I((t.top+t.bottom)/2+.5);else if(Qt(l)){const q=Object.keys(l)[0],W=l[q];j=I(this.chart.scales[q].getPixelForValue(W))}O=t.top,P=t.bottom,D=j+E,R=D+_}else if(n==="y"){if(l==="center")j=I((t.left+t.right)/2);else if(Qt(l)){const q=Object.keys(l)[0],W=l[q];j=I(this.chart.scales[q].getPixelForValue(W))}B=j-E,A=B-_,M=t.left,L=t.right}const Z=$t(s.ticks.maxTicksLimit,y),rt=Math.max(1,Math.ceil(y/Z));for(k=0;k<y;k+=rt){const q=this.getContext(k),W=o.setContext(q),st=u.setContext(q),dt=W.lineWidth,F=W.color,et=st.dash||[],ct=st.dashOffset,at=W.tickWidth,gt=W.tickColor,mt=W.tickBorderDash||[],_t=W.tickBorderDashOffset;N=kQ(this,k,h),N!==void 0&&(V=pa(i,N,dt),f?B=A=M=L=V:D=R=O=P=V,b.push({tx1:B,ty1:D,tx2:A,ty2:R,x1:M,y1:O,x2:L,y2:P,width:dt,color:F,borderDash:et,borderDashOffset:ct,tickWidth:at,tickColor:gt,tickBorderDash:mt,tickBorderDashOffset:_t}))}return this._ticksLength=y,this._borderValue=j,b}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:p,mirror:y}=o,_=th(i.grid),b=_+p,S=y?-p:b,C=-Aa(this.labelRotation),E=[];let I,j,k,N,V,B,D,A,R,M,O,L,P="middle";if(s==="top")B=this.bottom-S,D=this._getXAxisLabelAlignment();else if(s==="bottom")B=this.top+S,D=this._getXAxisLabelAlignment();else if(s==="left"){const rt=this._getYAxisLabelAlignment(_);D=rt.textAlign,V=rt.x}else if(s==="right"){const rt=this._getYAxisLabelAlignment(_);D=rt.textAlign,V=rt.x}else if(n==="x"){if(s==="center")B=(t.top+t.bottom)/2+b;else if(Qt(s)){const rt=Object.keys(s)[0],q=s[rt];B=this.chart.scales[rt].getPixelForValue(q)+b}D=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")V=(t.left+t.right)/2-b;else if(Qt(s)){const rt=Object.keys(s)[0],q=s[rt];V=this.chart.scales[rt].getPixelForValue(q)}D=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?P="top":h==="end"&&(P="bottom"));const Z=this._getLabelSizes();for(I=0,j=u.length;I<j;++I){k=u[I],N=k.label;const rt=o.setContext(this.getContext(I));A=this.getPixelForTick(I)+o.labelOffset,R=this._resolveTickFontOptions(I),M=R.lineHeight,O=Xe(N)?N.length:1;const q=O/2,W=rt.color,st=rt.textStrokeColor,dt=rt.textStrokeWidth;let F=D;l?(V=A,D==="inner"&&(I===j-1?F=this.options.reverse?"left":"right":I===0?F=this.options.reverse?"right":"left":F="center"),s==="top"?f==="near"||C!==0?L=-O*M+M/2:f==="center"?L=-Z.highest.height/2-q*M+M:L=-Z.highest.height+M/2:f==="near"||C!==0?L=M/2:f==="center"?L=Z.highest.height/2-q*M:L=Z.highest.height-O*M,y&&(L*=-1),C!==0&&!rt.showLabelBackdrop&&(V+=M/2*Math.sin(C))):(B=A,L=(1-O)*M/2);let et;if(rt.showLabelBackdrop){const ct=Ii(rt.backdropPadding),at=Z.heights[I],gt=Z.widths[I];let mt=L-ct.top,_t=0-ct.left;switch(P){case"middle":mt-=at/2;break;case"bottom":mt-=at;break}switch(D){case"center":_t-=gt/2;break;case"right":_t-=gt;break;case"inner":I===j-1?_t-=gt:I>0&&(_t-=gt/2);break}et={left:_t,top:mt,width:gt+ct.width,height:at+ct.height,color:rt.backdropColor}}E.push({label:N,font:R,textOffset:L,options:{rotation:C,color:W,strokeColor:st,strokeWidth:dt,textAlign:F,textBaseline:P,translation:[V,B],backdrop:et}})}return E}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Aa(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,h=l.widest.width;let f,p;return n==="left"?s?(p=this.right+o,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+o,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:o,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,o,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(o=0,l=s.length;o<l;++o){const h=s[o];n.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=pa(t,this.left,l)-l/2,p=pa(t,this.right,u)+u/2,y=_=h):(y=pa(t,this.top,l)-l/2,_=pa(t,this.bottom,u)+u/2,f=p=h),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(f,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&xg(i,s);const o=this.getLabelItems(t);for(const l of o){const u=l.options,h=l.font,f=l.label,p=l.textOffset;af(i,f,0,p,h,u)}s&&Cg(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const o=Dn(i.font),l=Ii(i.padding),u=i.align;let h=o.lineHeight/2;n==="bottom"||n==="center"||Qt(n)?(h+=l.bottom,Xe(i.text)&&(h+=o.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=UQ(this,h,n,u);af(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:_,textAlign:zQ(u,n,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=$t(t.grid&&t.grid.z,-1),s=$t(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Lc.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,l;for(o=0,l=n.length;o<l;++o){const u=n[o];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Dn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Mp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;FQ(n)&&(i=this.register(n));const s=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,jQ(t,l,i),this.override&&Ve.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Ve[s]&&(delete Ve[s][i],this.override&&delete $a[i])}}function jQ(e,t,n){const i=sf(Object.create(null),[n?Ve.get(n):{},Ve.get(t),e.defaults]);Ve.set(t,i),e.defaultRoutes&&BQ(t,e.defaultRoutes),e.descriptors&&Ve.describe(t,e.descriptors)}function BQ(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),o=[e].concat(i).join("."),l=t[n].split("."),u=l.pop(),h=l.join(".");Ve.route(o,s,h,u)})}function FQ(e){return"id"in e&&"defaults"in e}class HQ{constructor(){this.controllers=new Mp(Oh,"datasets",!0),this.elements=new Mp(Ya,"elements"),this.plugins=new Mp(Object,"plugins"),this.scales=new Mp(Lc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):re(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,n,i){const s=GT(t);pe(i["before"+s],[],i),n[t](i),pe(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var ps=new HQ;class qQ{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(o,t,n,i);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const o of t){const l=o.plugin,u=l[i],h=[n,s,o.options];if(pe(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){fe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=$t(i.options&&i.options.plugins,{}),o=$Q(i);return s===!1&&!n?[]:WQ(t,o,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(o,l)=>o.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function $Q(e){const t={},n=[],i=Object.keys(ps.plugins.items);for(let o=0;o<i.length;o++)n.push(ps.getPlugin(i[o]));const s=e.plugins||[];for(let o=0;o<s.length;o++){const l=s[o];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function GQ(e,t){return!t&&e===!1?null:e===!0?{}:e}function WQ(e,{plugins:t,localIds:n},i,s){const o=[],l=e.getContext();for(const u of t){const h=u.id,f=GQ(i[h],s);f!==null&&o.push({plugin:u,options:KQ(e.config,{plugin:u,local:n[h]},f,l)})}return o}function KQ(e,{plugin:t,local:n},i,s){const o=e.pluginScopeKeys(t),l=e.getOptionScopes(i,o);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function H0(e,t){const n=Ve.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function ZQ(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function QQ(e,t){return e===t?"_index_":"_value_"}function KC(e){if(e==="x"||e==="y"||e==="r")return e}function YQ(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function q0(e,...t){if(KC(e))return e;for(const n of t){const i=n.axis||YQ(n.position)||e.length>1&&KC(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ZC(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function XQ(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return ZC(e,"x",n[0])||ZC(e,"y",n[0])}return{}}function JQ(e,t){const n=$a[e.type]||{scales:{}},i=t.scales||{},s=H0(e.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Qt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=q0(l,u,XQ(l,e),Ve.scales[u.type]),f=QQ(h,s),p=n.scales||{};o[l]=Ch(Object.create(null),[{axis:h},u,p[h],p[f]])}),e.data.datasets.forEach(l=>{const u=l.type||e.type,h=l.indexAxis||H0(u,t),p=($a[u]||{}).scales||{};Object.keys(p).forEach(y=>{const _=ZQ(y,h),b=l[_+"AxisID"]||_;o[b]=o[b]||Object.create(null),Ch(o[b],[{axis:_},i[b],p[y]])})}),Object.keys(o).forEach(l=>{const u=o[l];Ch(u,[Ve.scales[u.type],Ve.scale])}),o}function uk(e){const t=e.options||(e.options={});t.plugins=$t(t.plugins,{}),t.scales=JQ(e,t)}function hk(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function tY(e){return e=e||{},e.data=hk(e.data),uk(e),e}const QC=new Map,fk=new Set;function Op(e,t){let n=QC.get(e);return n||(n=t(),QC.set(e,n),fk.add(n)),n}const eh=(e,t,n)=>{const i=jm(t,n);i!==void 0&&e.add(i)};class eY{constructor(t){this._config=tY(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=hk(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),uk(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Op(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Op(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Op(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Op(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:o}=this,l=this._cachedScopes(t,i),u=l.get(n);if(u)return u;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>eh(h,t,y))),p.forEach(y=>eh(h,s,y)),p.forEach(y=>eh(h,$a[o]||{},y)),p.forEach(y=>eh(h,Ve,y)),p.forEach(y=>eh(h,j0,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),fk.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,$a[n]||{},Ve.datasets[n]||{},{type:n},Ve,j0]}resolveNamedOptions(t,n,i,s=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=YC(this._resolverCache,t,s);let h=l;if(iY(l,n)){o.$shared=!1,i=Co(i)?i():i;const f=this.createResolver(t,i,u);h=Ec(l,i,f)}for(const f of n)o[f]=h[f];return o}createResolver(t,n,i=[""],s){const{resolver:o}=YC(this._resolverCache,t,i);return Qt(n)?Ec(o,n,void 0,s):o}}function YC(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let o=i.get(s);return o||(o={resolver:QT(t,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,o)),o}const nY=e=>Qt(e)&&Object.getOwnPropertyNames(e).some(t=>Co(e[t]));function iY(e,t){const{isScriptable:n,isIndexable:i}=GP(e);for(const s of t){const o=n(s),l=i(s),u=(l||o)&&e[s];if(o&&(Co(u)||nY(u))||l&&Xe(u))return!0}return!1}var sY="4.4.9";const rY=["top","bottom","left","right","chartArea"];function XC(e,t){return e==="top"||e==="bottom"||rY.indexOf(e)===-1&&t==="x"}function JC(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function tR(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),pe(n&&n.onComplete,[e],t)}function oY(e){const t=e.chart,n=t.options.animation;pe(n&&n.onProgress,[e],t)}function dk(e){return JT()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const tm={},eR=e=>{const t=dk(e);return Object.values(tm).filter(n=>n.canvas===t).pop()};function aY(e,t,n){const i=Object.keys(e);for(const s of i){const o=+s;if(o>=t){const l=e[s];delete e[s],(n>0||o>t)&&(e[o+n]=l)}}}function lY(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}var Xr;let Dg=(Xr=class{static register(...t){ps.add(...t),nR()}static unregister(...t){ps.remove(...t),nR()}constructor(t,n){const i=this.config=new eY(n),s=dk(t),o=eR(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||xQ(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,p=h&&h.width;if(this.id=pK(),this.ctx=u,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qQ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=NK(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],tm[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ar.listen(this,"complete",tR),ar.listen(this,"progress",oY),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:o}=this;return fe(t)?n&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ps}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():CC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return EC(this.canvas,this.ctx),this}stop(){return ar.stop(this),this}resize(t,n){ar.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,CC(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),pe(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};re(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const u=n[l],h=q0(l,u),f=h==="r",p=h==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),re(o,l=>{const u=l.options,h=u.id,f=q0(h,u),p=$t(u.type,l.dtype);(u.position===void 0||XC(u.position,f)!==XC(l.dposition))&&(u.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=ps.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,t)}),re(s,(l,u)=>{l||delete i[u]}),re(i,l=>{xi.configure(this,l,l.options),xi.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(JC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const o=n[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||H0(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=ps.getController(u),{datasetElementType:f,dataElementType:p}=Ve.datasets[u];Object.assign(h,{dataElementType:ps.getElement(p),datasetElementType:f&&ps.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){re(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!s&&o.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||re(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(JC("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){re(this.scales,t=>{xi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!pC(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of n){const l=i==="_removeElements"?-o:o;aY(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let o=1;o<n;o++)if(!pC(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xi.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],re(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Co(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ar.has(this)?this.attached&&!ar.running(this)&&ar.start(this):(this.draw(),tR({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=nk(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&xg(n,s),t.controller.draw(),s&&Cg(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return of(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const o=rQ.modes[n];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Qa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);Bm(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),ar.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),EC(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete tm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},s=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};re(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,f)=>{n.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(n.removeEventListener(this,h,f),delete t[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){re(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},re(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let o,l,u,h;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!zm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,o=(h,f)=>h.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=o(n,t),u=i?t:o(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:o}=this,l=n,u=this._getActiveElements(t,s,i,l),h=bK(t),f=lY(t,this._lastEvent,i,h);i&&(this._lastEvent=null,pe(o.onHover,[t,u,this],this),h&&pe(o.onClick,[t,u,this],this));const p=!zm(u,s);return(p||n)&&(this._active=u,this._updateHoverStyles(u,s,n)),this._lastEvent=f,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}},kt(Xr,"defaults",Ve),kt(Xr,"instances",tm),kt(Xr,"overrides",$a),kt(Xr,"registry",ps),kt(Xr,"version",sY),kt(Xr,"getChart",eR),Xr);function nR(){return re(Dg.instances,e=>e._plugins.invalidate())}function pk(e,t,n=t){e.lineCap=$t(n.borderCapStyle,t.borderCapStyle),e.setLineDash($t(n.borderDash,t.borderDash)),e.lineDashOffset=$t(n.borderDashOffset,t.borderDashOffset),e.lineJoin=$t(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=$t(n.borderWidth,t.borderWidth),e.strokeStyle=$t(n.borderColor,t.borderColor)}function cY(e,t,n){e.lineTo(n.x,n.y)}function uY(e){return e.stepped?ZK:e.tension||e.cubicInterpolationMode==="monotone"?QK:cY}function mk(e,t,n={}){const i=e.length,{start:s=0,end:o=i-1}=n,{start:l,end:u}=t,h=Math.max(s,l),f=Math.min(o,u),p=s<l&&o<l||s>u&&o>u;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function hY(e,t,n,i){const{points:s,options:o}=t,{count:l,start:u,loop:h,ilen:f}=mk(s,n,i),p=uY(o);let{move:y=!0,reverse:_}=i||{},b,S,C;for(b=0;b<=f;++b)S=s[(u+(_?f-b:b))%l],!S.skip&&(y?(e.moveTo(S.x,S.y),y=!1):p(e,C,S,_,o.stepped),C=S);return h&&(S=s[(u+(_?f:0))%l],p(e,C,S,_,o.stepped)),!!h}function fY(e,t,n,i){const s=t.points,{count:o,start:l,ilen:u}=mk(s,n,i),{move:h=!0,reverse:f}=i||{};let p=0,y=0,_,b,S,C,E,I;const j=N=>(l+(f?u-N:N))%o,k=()=>{C!==E&&(e.lineTo(p,E),e.lineTo(p,C),e.lineTo(p,I))};for(h&&(b=s[j(0)],e.moveTo(b.x,b.y)),_=0;_<=u;++_){if(b=s[j(_)],b.skip)continue;const N=b.x,V=b.y,B=N|0;B===S?(V<C?C=V:V>E&&(E=V),p=(y*p+N)/++y):(k(),e.lineTo(N,V),S=B,y=0,C=E=V),I=V}k()}function $0(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?fY:hY}function dY(e){return e.stepped?IZ:e.tension||e.cubicInterpolationMode==="monotone"?DZ:ba}function pY(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),pk(e,t.options),e.stroke(s)}function mY(e,t,n,i){const{segments:s,options:o}=t,l=$0(t);for(const u of s)pk(e,o,u.style),e.beginPath(),l(e,t,u,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const gY=typeof Path2D=="function";function yY(e,t,n,i){gY&&!t.options.segment?pY(e,t,n,i):mY(e,t,n,i)}class oo extends Ya{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;TZ(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=VZ(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],o=this.points,l=ek(this,{property:n,start:s,end:s});if(!l.length)return;const u=[],h=dY(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],b=o[y],S=o[_];if(b===S){u.push(b);continue}const C=Math.abs((s-b[n])/(S[n]-b[n])),E=h(b,S,C,i.stepped);E[n]=t[n],u.push(E)}return u.length===1?u[0]:u}pathSegment(t,n,i){return $0(this)(t,this,n,i)}path(t,n,i){const s=this.segments,o=$0(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const u of s)l&=o(t,this,u,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),yY(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}kt(oo,"id","line"),kt(oo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),kt(oo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),kt(oo,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function iR(e,t,n,i){const s=e.options,{[n]:o}=e.getProps([n],i);return Math.abs(t-o)<s.radius+s.hitRadius}class em extends Ya{constructor(n){super();kt(this,"parsed");kt(this,"skip");kt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.options,{x:l,y:u}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return iR(this,n,"x",i)}inYRange(n,i){return iR(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!of(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,B0(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}kt(em,"id","point"),kt(em,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),kt(em,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _Y(e,t,n){const i=e.segments,s=e.points,o=t.points,l=[];for(const u of i){let{start:h,end:f}=u;f=n1(h,f,s);const p=G0(n,s[h],s[f],u.loop);if(!t.segments){l.push({source:u,target:p,start:s[h],end:s[f]});continue}const y=ek(t,p);for(const _ of y){const b=G0(n,o[_.start],o[_.end],_.loop),S=tk(u,s,b);for(const C of S)l.push({source:C,target:_,start:{[n]:sR(p,b,"start",Math.max)},end:{[n]:sR(p,b,"end",Math.min)}})}}return l}function G0(e,t,n,i){if(i)return;let s=t[e],o=n[e];return e==="angle"&&(s=gs(s),o=gs(o)),{property:e,start:s,end:o}}function vY(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=n1(l,u,s);const h=s[l],f=s[u];i!==null?(o.push({x:h.x,y:i}),o.push({x:f.x,y:i})):n!==null&&(o.push({x:n,y:h.y}),o.push({x:n,y:f.y}))}),o}function n1(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function sR(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function gk(e,t){let n=[],i=!1;return Xe(e)?(i=!0,n=e):n=vY(e,t),n.length?new oo({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function rR(e){return e&&e.fill!==!1}function bY(e,t,n){let s=e[t].fill;const o=[t];let l;if(!n)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!On(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;o.push(s),s=l.fill}return!1}function TY(e,t,n){const i=AY(e);if(Qt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return On(s)&&Math.floor(s)===s?SY(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function SY(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function wY(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Qt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function EY(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:Qt(e)?i=e.value:i=t.getBaseValue(),i}function AY(e){const t=e.options,n=t.fill;let i=$t(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function xY(e){const{scale:t,index:n,line:i}=e,s=[],o=i.segments,l=i.points,u=CY(t,n);u.push(gk({x:null,y:t.bottom},i));for(let h=0;h<o.length;h++){const f=o[h];for(let p=f.start;p<=f.end;p++)RY(s,l[p],u)}return new oo({points:s,options:{}})}function CY(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}function RY(e,t,n){const i=[];for(let s=0;s<n.length;s++){const o=n[s],{first:l,last:u,point:h}=IY(o,t,"x");if(!(!h||l&&u)){if(l)i.unshift(h);else if(e.push(h),!u)break}}e.push(...i)}function IY(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],o=e.segments,l=e.points;let u=!1,h=!1;for(let f=0;f<o.length;f++){const p=o[f],y=l[p.start][n],_=l[p.end][n];if(sc(s,y,_)){u=s===y,h=s===_;break}}return{first:u,last:h,point:i}}class yk{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:o,radius:l}=this;return n=n||{start:0,end:Gi},t.arc(s,o,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,o=t.angle;return{x:n+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function DY(e){const{chart:t,fill:n,line:i}=e;if(On(n))return MY(t,n);if(n==="stack")return xY(e);if(n==="shape")return!0;const s=OY(e);return s instanceof yk?s:gk(s,i)}function MY(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function OY(e){return(e.scale||{}).getPointPositionForValue?kY(e):PY(e)}function PY(e){const{scale:t={},fill:n}=e,i=wY(n,t);if(On(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function kY(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,o=i.reverse?t.max:t.min,l=EY(n,t,o),u=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,o);return new yk({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)u.push(t.getPointPositionForValue(h,l));return u}function Pv(e,t,n){const i=DY(t),{chart:s,index:o,line:l,scale:u,axis:h}=t,f=l.options,p=f.fill,y=f.backgroundColor,{above:_=y,below:b=y}=p||{},S=s.getDatasetMeta(o),C=nk(s,S);i&&l.points.length&&(xg(e,n),NY(e,{line:l,target:i,above:_,below:b,area:n,scale:u,axis:h,clip:C}),Cg(e))}function NY(e,t){const{line:n,target:i,above:s,below:o,area:l,scale:u,clip:h}=t,f=n._loop?"angle":t.axis;e.save(),f==="x"&&o!==s&&(oR(e,i,l.top),aR(e,{line:n,target:i,color:s,scale:u,property:f,clip:h}),e.restore(),e.save(),oR(e,i,l.bottom)),aR(e,{line:n,target:i,color:o,scale:u,property:f,clip:h}),e.restore()}function oR(e,t,n){const{segments:i,points:s}=t;let o=!0,l=!1;e.beginPath();for(const u of i){const{start:h,end:f}=u,p=s[h],y=s[n1(h,f,s)];o?(e.moveTo(p.x,p.y),o=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,u,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function aR(e,t){const{line:n,target:i,property:s,color:o,scale:l,clip:u}=t,h=_Y(n,i,s);for(const{source:f,target:p,start:y,end:_}of h){const{style:{backgroundColor:b=o}={}}=f,S=i!==!0;e.save(),e.fillStyle=b,VY(e,l,u,S&&G0(s,y,_)),e.beginPath();const C=!!n.pathSegment(e,f);let E;if(S){C?e.closePath():lR(e,i,_,s);const I=!!i.pathSegment(e,p,{move:C,reverse:!0});E=C&&I,E||lR(e,i,y,s)}e.closePath(),e.fill(E?"evenodd":"nonzero"),e.restore()}}function VY(e,t,n,i){const s=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let h,f,p,y;o==="x"?(h=l,f=s.top,p=u,y=s.bottom):(h=s.left,f=l,p=s.right,y=u),e.beginPath(),n&&(h=Math.max(h,n.left),p=Math.min(p,n.right),f=Math.max(f,n.top),y=Math.min(y,n.bottom)),e.rect(h,f,p-h,y-f),e.clip()}}function lR(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var LY={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let o,l,u,h;for(l=0;l<i;++l)o=e.getDatasetMeta(l),u=o.dataset,h=null,u&&u.options&&u instanceof oo&&(h={visible:e.isDatasetVisible(l),index:l,fill:TY(u,l,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=bY(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let l=s.length-1;l>=0;--l){const u=s[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Pv(e.ctx,u,o))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;rR(o)&&Pv(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!rR(i)||n.drawTime!=="beforeDatasetDraw"||Pv(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const cR=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},zY=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class uR extends Ya{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=pe(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Dn(i.font),o=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=cR(i,o);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,u,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+u;let y=t;o.textAlign="left",o.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((S,C)=>{const E=i+n/2+o.measureText(S.text).width;(C===0||f[f.length-1]+E+2*u>l)&&(y+=p,f[f.length-(C>0?0:1)]=0,b+=p,_++),h[C]={left:0,top:b,row:_,width:E,height:s},f[f.length-1]+=E+u}),y}_fitCols(t,n,i,s){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=u,_=0,b=0,S=0,C=0;return this.legendItems.forEach((E,I)=>{const{itemWidth:j,itemHeight:k}=UY(i,n,o,E,s);I>0&&b+k+2*u>p&&(y+=_+u,f.push({width:_,height:b}),S+=_+u,C++,_=b=0),h[I]={left:S,top:b,col:C,width:j,height:k},_=Math.max(_,j),b+=k+u}),y+=_,f.push({width:_,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:o}}=this,l=fc(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=An(i,this.left+s,this.right-this.lineWidths[u]);for(const f of n)u!==f.row&&(u=f.row,h=An(i,this.left+s,this.right-this.lineWidths[u])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let u=0,h=An(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const f of n)f.col!==u&&(u=f.col,h=An(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;xg(t,this),this._draw(),Cg(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:o,labels:l}=t,u=Ve.color,h=fc(t.rtl,this.left,this.width),f=Dn(l.font),{padding:p}=l,y=f.size,_=y/2;let b;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:S,boxHeight:C,itemHeight:E}=cR(l,y),I=function(B,D,A){if(isNaN(S)||S<=0||isNaN(C)||C<0)return;s.save();const R=$t(A.lineWidth,1);if(s.fillStyle=$t(A.fillStyle,u),s.lineCap=$t(A.lineCap,"butt"),s.lineDashOffset=$t(A.lineDashOffset,0),s.lineJoin=$t(A.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=$t(A.strokeStyle,u),s.setLineDash($t(A.lineDash,[])),l.usePointStyle){const M={radius:C*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:R},O=h.xPlus(B,S/2),L=D+_;qP(s,M,O,L,l.pointStyleWidth&&S)}else{const M=D+Math.max((y-C)/2,0),O=h.leftForLtr(B,S),L=Mh(A.borderRadius);s.beginPath(),Object.values(L).some(P=>P!==0)?F0(s,{x:O,y:M,w:S,h:C,radius:L}):s.rect(O,M,S,C),s.fill(),R!==0&&s.stroke()}s.restore()},j=function(B,D,A){af(s,A.text,B,D+E/2,f,{strikethrough:A.hidden,textAlign:h.textAlign(A.textAlign)})},k=this.isHorizontal(),N=this._computeTitleHeight();k?b={x:An(o,this.left+p,this.right-i[0]),y:this.top+p+N,line:0}:b={x:this.left+p,y:An(o,this.top+N+p,this.bottom-n[0].height),line:0},YP(this.ctx,t.textDirection);const V=E+p;this.legendItems.forEach((B,D)=>{s.strokeStyle=B.fontColor,s.fillStyle=B.fontColor;const A=s.measureText(B.text).width,R=h.textAlign(B.textAlign||(B.textAlign=l.textAlign)),M=S+_+A;let O=b.x,L=b.y;h.setWidth(this.width),k?D>0&&O+M+p>this.right&&(L=b.y+=V,b.line++,O=b.x=An(o,this.left+p,this.right-i[b.line])):D>0&&L+V>this.bottom&&(O=b.x=O+n[b.line].width+p,b.line++,L=b.y=An(o,this.top+N+p,this.bottom-n[b.line].height));const P=h.x(O);if(I(P,L,B),O=VK(R,O+S+_,k?O+M:this.right,t.rtl),j(h.x(O),L,B),k)b.x+=M+p;else if(typeof B.text!="string"){const Z=f.lineHeight;b.y+=_k(B,Z)+p}else b.y+=V}),XP(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=Dn(n.font),s=Ii(n.padding);if(!n.display)return;const o=fc(t.rtl,this.left,this.width),l=this.ctx,u=n.position,h=i.size/2,f=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=An(t.align,y,this.right-_);else{const S=this.columnSizes.reduce((C,E)=>Math.max(C,E.height),0);p=f+An(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const b=An(u,y,y+_);l.textAlign=o.textAlign(KT(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,af(l,n.text,b,p,i)}_computeTitleHeight(){const t=this.options.title,n=Dn(t.font),i=Ii(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,o;if(sc(t,this.left,this.right)&&sc(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],sc(t,s.left,s.left+s.width)&&sc(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!FY(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=zY(s,i);s&&!o&&pe(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&pe(n.onHover,[t,i,this],this)}else i&&pe(n.onClick,[t,i,this],this)}}function UY(e,t,n,i,s){const o=jY(i,e,t,n),l=BY(s,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function jY(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((o,l)=>o.length>l.length?o:l)),t+n.size/2+i.measureText(s).width}function BY(e,t,n){let i=e;return typeof t.text!="string"&&(i=_k(t,n)),i}function _k(e,t){const n=e.text?e.text.length:0;return t*n}function FY(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var VX={id:"legend",_element:uR,start(e,t,n){const i=e.legend=new uR({ctx:e.ctx,options:n,chart:e});xi.configure(e,i,n),xi.addBox(e,i)},stop(e){xi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;xi.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=Ii(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class vk extends Ya{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Xe(i.text)?i.text.length:1;this._padding=Ii(i.padding);const o=s*Dn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:o,options:l}=this,u=l.align;let h=0,f,p,y;return this.isHorizontal()?(p=An(u,i,o),y=n+t,f=o-i):(l.position==="left"?(p=i+t,y=An(u,s,n),h=cn*-.5):(p=o-t,y=An(u,n,s),h=cn*.5),f=s-n),{titleX:p,titleY:y,maxWidth:f,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=Dn(n.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(o);af(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:KT(n.align),textBaseline:"middle",translation:[l,u]})}}function HY(e,t){const n=new vk({ctx:e.ctx,options:t,chart:e});xi.configure(e,n,t),xi.addBox(e,n),e.titleBlock=n}var qY={id:"title",_element:vk,start(e,t,n){HY(e,n)},stop(e){const t=e.titleBlock;xi.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;xi.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,o=0;for(t=0,n=e.length;t<n;++t){const u=e[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=e.length;o<l;++o){const h=e[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=U0(t,f);p<s&&(s=p,u=h)}}if(u){const h=u.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function ds(e,t){return t&&(Xe(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function lr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function $Y(e,t){const{element:n,datasetIndex:i,index:s}=t,o=e.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(s);return{chart:e,label:l,parsed:o.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:u,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function hR(e,t){const n=e.chart.ctx,{body:i,footer:s,title:o}=e,{boxWidth:l,boxHeight:u}=t,h=Dn(t.bodyFont),f=Dn(t.titleFont),p=Dn(t.footerFont),y=o.length,_=s.length,b=i.length,S=Ii(t.padding);let C=S.height,E=0,I=i.reduce((N,V)=>N+V.before.length+V.lines.length+V.after.length,0);if(I+=e.beforeBody.length+e.afterBody.length,y&&(C+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),I){const N=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;C+=b*N+(I-b)*h.lineHeight+(I-1)*t.bodySpacing}_&&(C+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let j=0;const k=function(N){E=Math.max(E,n.measureText(N).width+j)};return n.save(),n.font=f.string,re(e.title,k),n.font=h.string,re(e.beforeBody.concat(e.afterBody),k),j=t.displayColors?l+2+t.boxPadding:0,re(i,N=>{re(N.before,k),re(N.lines,k),re(N.after,k)}),j=0,n.font=p.string,re(e.footer,k),n.restore(),E+=S.width,{width:E,height:C}}function GY(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function WY(e,t,n,i){const{x:s,width:o}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+o+l>t.width||e==="right"&&s-o-l<0)return!0}function KY(e,t,n,i){const{x:s,width:o}=n,{width:l,chartArea:{left:u,right:h}}=e;let f="center";return i==="center"?f=s<=(u+h)/2?"left":"right":s<=o/2?f="left":s>=l-o/2&&(f="right"),WY(f,e,t,n)&&(f="center"),f}function fR(e,t,n){const i=n.yAlign||t.yAlign||GY(e,n);return{xAlign:n.xAlign||t.xAlign||KY(e,t,n,i),yAlign:i}}function ZY(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function QY(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function dR(e,t,n,i){const{caretSize:s,caretPadding:o,cornerRadius:l}=e,{xAlign:u,yAlign:h}=n,f=s+o,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:b}=Mh(l);let S=ZY(t,u);const C=QY(t,h,f);return h==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,_)+s:u==="right"&&(S+=Math.max(y,b)+s),{x:Ai(S,0,i.width-t.width),y:Ai(C,0,i.height-t.height)}}function Pp(e,t,n){const i=Ii(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function pR(e){return ds([],lr(e))}function YY(e,t,n){return Qa(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function mR(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const bk={beforeTitle:or,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:or,beforeBody:or,beforeLabel:or,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return fe(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:or,afterBody:or,beforeFooter:or,footer:or,afterFooter:or};function $n(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?bk[t].call(n,i):s}class W0 extends Ya{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,o=new ik(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=YY(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=$n(i,"beforeTitle",this,t),o=$n(i,"title",this,t),l=$n(i,"afterTitle",this,t);let u=[];return u=ds(u,lr(s)),u=ds(u,lr(o)),u=ds(u,lr(l)),u}getBeforeBody(t,n){return pR($n(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return re(t,o=>{const l={before:[],lines:[],after:[]},u=mR(i,o);ds(l.before,lr($n(u,"beforeLabel",this,o))),ds(l.lines,$n(u,"label",this,o)),ds(l.after,lr($n(u,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,n){return pR($n(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=$n(i,"beforeFooter",this,t),o=$n(i,"footer",this,t),l=$n(i,"afterFooter",this,t);let u=[];return u=ds(u,lr(s)),u=ds(u,lr(o)),u=ds(u,lr(l)),u}_createItems(t){const n=this._active,i=this.chart.data,s=[],o=[],l=[];let u=[],h,f;for(h=0,f=n.length;h<f;++h)u.push($Y(this.chart,n[h]));return t.filter&&(u=u.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(u=u.sort((p,y)=>t.itemSort(p,y,i))),re(u,p=>{const y=mR(t.callbacks,p);s.push($n(y,"labelColor",this,p)),o.push($n(y,"labelPointStyle",this,p)),l.push($n(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const u=hh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=hR(this,i),f=Object.assign({},u,h),p=fR(this.chart,i,f),y=dR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const o=this.getCaretPosition(t,i,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=Mh(u),{x:_,y:b}=t,{width:S,height:C}=n;let E,I,j,k,N,V;return o==="center"?(N=b+C/2,s==="left"?(E=_,I=E-l,k=N+l,V=N-l):(E=_+S,I=E+l,k=N-l,V=N+l),j=E):(s==="left"?I=_+Math.max(h,p)+l:s==="right"?I=_+S-Math.max(f,y)-l:I=this.caretX,o==="top"?(k=b,N=k-l,E=I-l,j=I+l):(k=b+C,N=k+l,E=I+l,j=I-l),V=k),{x1:E,x2:I,x3:j,y1:k,y2:N,y3:V}}drawTitle(t,n,i){const s=this.title,o=s.length;let l,u,h;if(o){const f=fc(i.rtl,this.x,this.width);for(t.x=Pp(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",l=Dn(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<o;++h)n.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,h+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,n,i,s,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=o,p=Dn(o.bodyFont),y=Pp(this,"left",o),_=s.x(y),b=h<p.lineHeight?(p.lineHeight-h)/2:0,S=n.y+b;if(o.usePointStyle){const C={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},E=s.leftForLtr(_,f)+f/2,I=S+h/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,B0(t,C,E,I),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,B0(t,C,E,I)}else{t.lineWidth=Qt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const C=s.leftForLtr(_,f),E=s.leftForLtr(s.xPlus(_,1),f-2),I=Mh(l.borderRadius);Object.values(I).some(j=>j!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,F0(t,{x:C,y:S,w:f,h,radius:I}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),F0(t,{x:E,y:S+1,w:f-2,h:h-2,radius:I}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,S,f,h),t.strokeRect(C,S,f,h),t.fillStyle=l.backgroundColor,t.fillRect(E,S+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:p}=i,y=Dn(i.bodyFont);let _=y.lineHeight,b=0;const S=fc(i.rtl,this.x,this.width),C=function(A){n.fillText(A,S.x(t.x+b),t.y+_/2),t.y+=_+o},E=S.textAlign(l);let I,j,k,N,V,B,D;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=Pp(this,E,i),n.fillStyle=i.bodyColor,re(this.beforeBody,C),b=u&&E!=="right"?l==="center"?f/2+p:f+2+p:0,N=0,B=s.length;N<B;++N){for(I=s[N],j=this.labelTextColors[N],n.fillStyle=j,re(I.before,C),k=I.lines,u&&k.length&&(this._drawColorBox(n,t,N,S,i),_=Math.max(y.lineHeight,h)),V=0,D=k.length;V<D;++V)C(k[V]),_=y.lineHeight;re(I.after,C)}b=0,_=y.lineHeight,re(this.afterBody,C),t.y-=o}drawFooter(t,n,i){const s=this.footer,o=s.length;let l,u;if(o){const h=fc(i.rtl,this.x,this.width);for(t.x=Pp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=Dn(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,u=0;u<o;++u)n.fillText(s[u],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:o,yAlign:l}=this,{x:u,y:h}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:S}=Mh(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(u+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(u+f-_,h),n.quadraticCurveTo(u+f,h,u+f,h+_),l==="center"&&o==="right"&&this.drawCaret(t,n,i,s),n.lineTo(u+f,h+p-S),n.quadraticCurveTo(u+f,h+p,u+f-S,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(u+b,h+p),n.quadraticCurveTo(u,h+p,u,h+p-b),l==="center"&&o==="left"&&this.drawCaret(t,n,i,s),n.lineTo(u,h+y),n.quadraticCurveTo(u,h,u+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const l=hh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=hR(this,t),h=Object.assign({},l,this._size),f=fR(n,t,h),p=dR(t,h,f,n);(s._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ii(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,n),YP(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),XP(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),o=!zm(i,s),l=this._positionChanged(s,n);(o||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,i),u=this._positionChanged(l,t),h=n||!zm(l,o)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:o}=this,l=hh[o.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}kt(W0,"positioners",hh);var XY={id:"tooltip",_element:W0,positioners:hh,afterInit(e,t,n){n&&(e.tooltip=new W0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const JY=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function tX(e,t,n,i){const s=e.indexOf(t);if(s===-1)return JY(e,t,n,i);const o=e.lastIndexOf(t);return s!==o?n:s}const eX=(e,t)=>e===null?null:Ai(Math.round(e),0,t);function gR(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class K0 extends Lc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:o}of n)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(fe(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:tX(i,t,$t(n,t),this._addedLabels),eX(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return gR.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}kt(K0,"id","category"),kt(K0,"defaults",{ticks:{callback:gR}});function nX(e,t){const n=[],{bounds:s,step:o,min:l,max:u,precision:h,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=e,b=o||1,S=p-1,{min:C,max:E}=t,I=!fe(l),j=!fe(u),k=!fe(f),N=(E-C)/(y+1);let V=gC((E-C)/S/b)*b,B,D,A,R;if(V<1e-14&&!I&&!j)return[{value:C},{value:E}];R=Math.ceil(E/V)-Math.floor(C/V),R>S&&(V=gC(R*V/S/b)*b),fe(h)||(B=Math.pow(10,h),V=Math.ceil(V*B)/B),s==="ticks"?(D=Math.floor(C/V)*V,A=Math.ceil(E/V)*V):(D=C,A=E),I&&j&&o&&AK((u-l)/o,V/1e3)?(R=Math.round(Math.min((u-l)/V,p)),V=(u-l)/R,D=l,A=u):k?(D=I?l:D,A=j?u:A,R=f-1,V=(A-D)/R):(R=(A-D)/V,Rh(R,Math.round(R),V/1e3)?R=Math.round(R):R=Math.ceil(R));const M=Math.max(yC(V),yC(D));B=Math.pow(10,fe(h)?M:h),D=Math.round(D*B)/B,A=Math.round(A*B)/B;let O=0;for(I&&(_&&D!==l?(n.push({value:l}),D<l&&O++,Rh(Math.round((D+O*V)*B)/B,l,yR(l,N,e))&&O++):D<l&&O++);O<R;++O){const L=Math.round((D+O*V)*B)/B;if(j&&L>u)break;n.push({value:L})}return j&&_&&A!==u?n.length&&Rh(n[n.length-1].value,u,yR(u,N,e))?n[n.length-1].value=u:n.push({value:u}):(!j||A===u)&&n.push({value:A}),n}function yR(e,t,{horizontal:n,minRotation:i}){const s=Aa(i),o=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/o,l)}class iX extends Lc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return fe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const l=h=>s=n?s:h,u=h=>o=i?o:h;if(t){const h=wc(s),f=wc(o);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(s===o){let h=o===0?1:Math.abs(o*.05);u(o+h),t||l(s-h)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=nX(s,o);return t.bounds==="ticks"&&xK(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return FP(t,this.chart.options.locale,this.options.ticks.format)}}class Z0 extends iX{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=On(t)?t:0,this.max=On(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Aa(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}kt(Z0,"id","linear"),kt(Z0,"defaults",{ticks:{callback:HP.formatters.numeric}});const Mg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wn=Object.keys(Mg);function _R(e,t){return e-t}function vR(e,t){if(fe(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:o}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),On(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(rf(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,s)),+l)}function bR(e,t,n,i){const s=Wn.length;for(let o=Wn.indexOf(e);o<s-1;++o){const l=Mg[Wn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(u*l.size))<=i)return Wn[o]}return Wn[s-1]}function sX(e,t,n,i,s){for(let o=Wn.length-1;o>=Wn.indexOf(n);o--){const l=Wn[o];if(Mg[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return Wn[n?Wn.indexOf(n):0]}function rX(e){for(let t=Wn.indexOf(e)+1,n=Wn.length;t<n;++t)if(Mg[Wn[t]].common)return Wn[t]}function TR(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=WT(n,t),o=n[i]>=t?n[i]:n[s];e[o]=!0}}function oX(e,t,n,i){const s=e._adapter,o=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,h;for(u=o;u<=l;u=+s.add(u,1,i))h=n[u],h>=0&&(t[h].major=!0);return t}function SR(e,t,n){const i=[],s={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return o===0||!n?i:oX(e,i,s,n)}class $m extends Lc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new tQ._date(t.adapters.date);s.init(n),Ch(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:vR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=On(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),o=On(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=this.max,u=OK(s,o,l);return this._unit=n.unit||(i.autoSkip?bR(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):sX(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:rX(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),SR(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Ai(n,0,l),i=Ai(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,o=s.time,l=o.unit||bR(o.minUnit,n,i,this._getLabelCapacity(n)),u=$t(s.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,f=rf(h)||h===!0,p={};let y=n,_,b;if(f&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,f?"day":l),t.diff(i,n,l)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,b=0;_<i;_=+t.add(_,u,l),b++)TR(p,_,S);return(_===i||s.bounds==="ticks"||b===1)&&TR(p,_,S),Object.keys(p).sort(_R).map(C=>+C)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,o=this._unit,l=n||s[o];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const o=this.options,l=o.ticks.callback;if(l)return pe(l,[t,n,i],this);const u=o.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&u[h],y=f&&u[f],_=i[n],b=f&&y&&_&&_.major;return this._adapter.format(t,s||(b?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Aa(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,o=this._tickFormatFunction(t,0,SR(this,[t],this._majorUnit),s),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(vR(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return kK(t.sort(_R))}}kt($m,"id","time"),kt($m,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function kp(e,t,n){let i=0,s=e.length-1,o,l,u,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=xa(e,"pos",t)),{pos:o,time:u}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=xa(e,"time",t)),{time:o,pos:u}=e[i],{time:l,pos:h}=e[s]);const f=l-o;return f?u+(h-u)*(t-o)/f:u}class wR extends $m{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=kp(n,this.min),this._tableRange=kp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],o=[];let l,u,h,f,p;for(l=0,u=t.length;l<u;++l)f=t[l],f>=n&&f<=i&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(kp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return kp(this._table,i*this._tableRange+this._minPos,!0)}}kt(wR,"id","timeseries"),kt(wR,"defaults",$m.defaults);const Tk="label";function ER(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function aX(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Sk(e,t){e.labels=t}function wk(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tk;const i=[];e.datasets=t.map(s=>{const o=e.datasets.find(l=>l[n]===s[n]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function lX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tk;const n={labels:[],datasets:[]};return Sk(n,e.labels),wk(n,e.datasets,t),n}function cX(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:l,data:u,options:h,plugins:f=[],fallbackContent:p,updateMode:y,..._}=e,b=J.useRef(null),S=J.useRef(null),C=()=>{b.current&&(S.current=new Dg(b.current,{type:l,data:lX(u,o),options:h&&{...h},plugins:f}),ER(t,S.current))},E=()=>{ER(t,null),S.current&&(S.current.destroy(),S.current=null)};return J.useEffect(()=>{!s&&S.current&&h&&aX(S.current,h)},[s,h]),J.useEffect(()=>{!s&&S.current&&Sk(S.current.config.data,u.labels)},[s,u.labels]),J.useEffect(()=>{!s&&S.current&&u.datasets&&wk(S.current.config.data,u.datasets,o)},[s,u.datasets]),J.useEffect(()=>{S.current&&(s?(E(),setTimeout(C)):S.current.update(y))},[s,h,u.labels,u.datasets,y]),J.useEffect(()=>{S.current&&(E(),setTimeout(C))},[l]),J.useEffect(()=>(C(),()=>E()),[]),Wm.createElement("canvas",{ref:b,role:"img",height:n,width:i,..._},p)}const uX=J.forwardRef(cX);function hX(e,t){return Dg.register(t),J.forwardRef((n,i)=>Wm.createElement(uX,{...n,ref:i,type:e}))}const fX=hX("line",Xp);Dg.register(oo,K0,Z0,em,XY,LY,qY);function Ek({sparkline_in_7d:e,height:t=40}){const n=t!==40,i=e.price,s=i[i.length-1]>=i[0],o=s?"#22c55e":"#ef4444",l=s?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",u={labels:i.map((f,p,y)=>""),datasets:[{label:n?"Price (USD)":void 0,data:i.map(f=>f.toFixed(5)),borderColor:o,backgroundColor:l,fill:!0,tension:.3,pointRadius:0}]},h={responsive:!0,maintainAspectRatio:!1,plugins:n?{legend:{display:!1},tooltip:{enabled:!0},title:{display:!0,text:"Last 7 days",font:{size:14},color:"#fff"}}:{legend:{display:!1},tooltip:{enabled:!1},title:{display:!1}},scales:{x:{display:n,grid:{color:"rgba(255,255,255,0.1)"},ticks:{color:"#aaa"},title:{display:n,text:"Time",color:"#ddd"}},y:{display:n,grid:{color:"rgba(255,255,255,0.1)"},ticks:{color:"#aaa",callback:f=>`$${f}`},title:{display:n,text:"Price (USD)",color:"#ddd"}}}};return Q.jsx("div",{className:"w-full",style:{height:`${t}px`},children:Q.jsx(fX,{data:u,options:h})})}const dX="data:image/svg+xml,%3csvg%20width='17'%20height='17'%20viewBox='0%200%2017%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.42833%2013.8568C10.9786%2013.8568%2013.8567%2010.9787%2013.8567%207.42841C13.8567%203.8781%2010.9786%201%207.42833%201C3.87806%201%201%203.8781%201%207.42841C1%2010.9787%203.87806%2013.8568%207.42833%2013.8568Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.4287%2012.4277L16.0001%2015.9992'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function pX({coin:e}){const t=Ms(),{data:n}=FT(),{data:i}=RW({walletId:n==null?void 0:n.uid,coinId:e.id},{skip:!(n!=null&&n.uid)}),[s]=IW(),[o,l]=J.useState({quantity:"0",price:e.current_price.toString(),total_price:"0"}),[u,h]=J.useState({id:OW(e.name),coinInfo:{symbol:e.symbol,name:e.name,image:e.image,current_price:e.current_price,price_change_percentage_24h:e.price_change_percentage_24h},quantity:Number(o.quantity),price:Number(o.price),date:new Date().toISOString().split("T")[0],buyOrSell:"buy"});J.useEffect(()=>{h({...u,quantity:Number(o.quantity),price:Number(o.price)})},[o]);const[f,p]=J.useState({quantity:"",date:"",buyOrSell:""});J.useEffect(()=>{f.quantity!==""&&setTimeout(()=>{p({...f,quantity:""})},2e3),f.date!==""&&setTimeout(()=>{p({...f,date:""})},2e3),f.buyOrSell!==""&&setTimeout(()=>{p({...f,buyOrSell:""})},2e3)},[f]);const y=/^\d*\.?\d*$/,_=async()=>{if(n!=null&&n.uid)try{await s({walletId:(n==null?void 0:n.uid)??"",transaction:u,coinId:e.id}),t(jb()),await new Promise(I=>setTimeout(I,300)),t(Va({title:"Success",children:"Transaction added!"}))}catch(I){t(Va({title:"Failure",children:I.toString()}))}},b=I=>{const j=I.target.value,k=new Date().toISOString().split("T")[0],N=j<=k;p(N?{...f,date:""}:{...f,date:"Date must be less than or equal to today's date."}),h({...u,date:j<=k?j:u.date})},S=(i==null?void 0:i.transactions.reduce((I,j)=>j.buyOrSell==="buy"?I+j.quantity:I-j.quantity,0))||0,C=I=>{const j=I.target.value;if(u.buyOrSell==="sell")if(Number(j)>S){p({...f,quantity:"You don't have enough coins in your wallet."});return}else p({...f,quantity:""});y.test(j)&&l({...o,quantity:j,total_price:(Number(j)*Number(o.price)).toString()})},E=I=>{const j=S>=u.quantity,k=I.target.value;if(k==="sell"&&!j){p({...f,buyOrSell:"You don't have enough coins in your wallet."});return}else p({...f,buyOrSell:""});h({...u,buyOrSell:k})};return Q.jsxs("div",{className:"flex flex-col gap-5",children:[Q.jsxs("div",{className:"flex justify-between gap-5 items-center mx-auto max-md:flex-col",children:[Q.jsx("img",{className:"w-12 h-12",src:e.image,alt:e.name}),Q.jsx("h2",{className:"font-bold text-xl",children:e.name}),Q.jsxs("div",{className:"",children:[Q.jsxs("h3",{children:["Already in your wallet: ",S]}),Q.jsxs("h3",{children:["Quantity: ",i?i==null?void 0:i.transactions.reduce((I,j)=>j.buyOrSell==="buy"?I+j.quantity:I-j.quantity,0):0]}),Q.jsxs("h3",{children:["Current price: ",e.current_price]}),Q.jsxs("h3",{children:["Your average buying price: ",i?PW(i.transactions):0]})]})]}),Q.jsxs("form",{className:"flex flex-col gap-5 ",onSubmit:I=>{I.preventDefault(),_()},children:[Q.jsxs("div",{className:"px-2 border-2 border-black rounded fontTitle",children:[Q.jsx("label",{htmlFor:"quantity",children:"Quantity: "}),Q.jsx("input",{className:"p-2 focus:outline-none focus:ring-0",type:"string",placeholder:"quantity...",name:"quantity",id:"quantity",value:o.quantity,onChange:I=>{C(I)}}),f.quantity&&Q.jsx("p",{className:"text-red-500",children:f.quantity})]}),Q.jsxs("div",{className:"px-2 border-2 border-black rounded fontTitle",children:[Q.jsxs("label",{htmlFor:"buying_price",children:[u.buyOrSell.slice(0,1).toUpperCase()+u.buyOrSell.slice(1)," price: "]}),Q.jsx("input",{className:"p-2 focus:outline-none focus:ring-0",type:"string",placeholder:"buying price...",name:"buying_price",id:"buying_price",value:o.price,onChange:I=>{const j=I.target.value;y.test(j)&&l({...o,price:j,total_price:(Number(j)*Number(o.quantity)).toString()})}})]}),Q.jsxs("div",{className:"px-2 border-2 border-black rounded fontTitle",children:[Q.jsx("label",{htmlFor:"total_price",children:"Total price: "}),Q.jsx("input",{className:"p-2 focus:outline-none focus:ring-0",type:"string",placeholder:"total price...",name:"total_price",id:"total_price",value:o.total_price,onChange:I=>{const j=I.target.value;y.test(j)&&l({...o,total_price:j,quantity:(Number(j)/Number(o.price)).toString()})}})]}),Q.jsxs("div",{className:"px-2 border-2 border-black rounded fontTitle",children:[Q.jsx("label",{htmlFor:"date",children:"Date: "}),Q.jsx("input",{className:"p-2 focus:outline-none focus:ring-0",type:"date",placeholder:"date...",name:"date",id:"date",value:u.date,onChange:I=>{b(I)}}),f.date&&Q.jsx("p",{className:"text-red-500",children:f.date})]}),Q.jsxs("select",{value:u.buyOrSell,onChange:I=>E(I),className:`px-2 border-2 border-black rounded fontTitle p-2 ${u.buyOrSell==="buy"?"bg-green-500":"bg-red-500"}`,children:[Q.jsx("option",{value:"buy",className:"bg-green-500",children:"Buy"}),Q.jsx("option",{value:"sell",className:"bg-red-500",children:"Sell"})]}),f.buyOrSell&&Q.jsx("p",{className:"text-red-500",children:f.buyOrSell}),Q.jsx("button",{type:"submit",disabled:!u.quantity,className:"px-2 border-2 border-black rounded fontTitle p-2 bg-[var(--color-card)] cursor-pointer transitioned hover:scale-101 text-[var:--color-text]",children:u.quantity?"Add transaction":"To add transaction you need to enter quantity"})]})]})}function Ak({coin:e}){const t=Ms(),n=async i=>{t(jb()),await new Promise(s=>setTimeout(s,300)),t(Va({title:"Add transaction",children:Q.jsx(pX,{coin:i})}))};return Q.jsxs("div",{className:"flex gap-5 flex-col",children:[Q.jsxs("div",{className:"flex max-md:flex-col justify-between items-center p-2 rounded bg-[var(--color-card)] transitioned text-[var(--color-text)]",children:[Q.jsxs("div",{className:"flex gap-3 items-center",children:[Q.jsx("img",{src:e.image,alt:e.name,className:"w-12 h-12"}),Q.jsx("span",{className:"font-bold text-xl",children:e.name})]}),Q.jsxs("div",{className:"",children:["Prise: ",e.current_price]}),Q.jsxs("div",{className:"",children:["ATH: ",e.ath]}),Q.jsxs("div",{className:"",children:["Percentage 24h: ",e.price_change_percentage_24h.toFixed(2),"%"]})]}),Q.jsx("h3",{className:"font-bold text-lg",children:"Last 7 days:"}),Q.jsx(Ek,{sparkline_in_7d:e.sparkline_in_7d,height:200}),Q.jsx("button",{onClick:()=>n(e),className:"flex justify-center items-center text-center px-9 py-2 bg-[var(--color-card)] cursor-pointer rounded transitioned hover:scale-101 text-[var(--color-text)]",children:"Add transaction"})]})}function mX(){const e=Ms(),{page:t,filteredCoins:n,allCoins:i,perPage:s}=Ma(h=>h.allCrypto),[o,l]=J.useState("");J.useEffect(()=>{i.length!==0&&e(xL(o))},[o,i,e]);const u=h=>{o&&(e(Va({title:`${h.name} about`,children:Q.jsx(Ak,{coin:h})})),l(""))};return Q.jsxs("div",{className:"bg-[image:var(--color-background)] rounded-2xl flex gap-5 justify-between items-center p-2 flex-wrap max-[804px]:justify-center",children:[Q.jsx("h2",{className:"fontTitle text-2xl text-center",children:"Watch all crypto"}),Q.jsx("div",{className:"flex gap-5 items-center flex-wrap",children:Q.jsxs("div",{className:"max-[500px]:w-full flex items-center gap-2 bg-[var(--color-card)] px-3 py-2 rounded border border-white/20",children:[Q.jsx("input",{id:"search-input",value:o,onChange:h=>l(h.target.value),type:"text",placeholder:"Search...",className:"bg-transparent outline-none text-[var:--color-text] border-[var:--color-text] placeholder-white/50 max-[500px]:w-full w-40 sm:w-60"}),Q.jsx("button",{onClick:()=>u(n[0]),className:"w-8 h-8 opacity-80 cursor-pointer transitioned bg-[var(--color-card)] rounded-[50%] p-2 hover:scale-90",children:Q.jsx("img",{src:dX,alt:"Search"})})]})}),Q.jsxs("div",{className:"flex gap-1 items-center",children:[Q.jsx("button",{onClick:()=>e(ex(t-1)),disabled:t===1,className:"cursor-pointer px-4 py-2 bg-[var(--color-card)] text-[var:(--color-text)] border-[white] rounded border hover:scale-105 transitioned disabled:opacity-50 disabled:cursor-not-allowed",children:""}),Q.jsx("button",{onClick:()=>e(ex(t+1)),disabled:t>=Math.ceil(n.length/s),className:"cursor-pointer px-4 py-2 bg-[var(--color-card)] text-[var:(--color-text)] border-[white] rounded border hover:scale-105 transitioned disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})}function gX(){const e=Ms(),{data:t}=FT(),{page:n,perPage:i,coinsPerPage:s,isAPILoading:o,allCoins:l,filteredCoins:u}=Ma(y=>y.allCrypto),h=Array.from({length:i}),f=Ms(),p=y=>{if(!t){e(Va({title:"Failure",children:"You need to be logged in to add a transaction"}));return}f(Va({title:`${y.name} about`,children:Q.jsx(Ak,{coin:y})}))};return Q.jsxs("div",{className:"py-5",children:[Q.jsx(mX,{}),!!l.length&&!o&&!!u.length&&Q.jsxs("div",{className:"mt-3 bg-[image:var(--color-background)] rounded-2xl py-2",children:[Q.jsxs("div",{className:"grid grid-cols-7 max-md:grid-cols-6 max-[600px]:!grid-cols-5 max-[450px]:!grid-cols-4 max-[370px]:!grid-cols-3 gap-5 px-4 my-3 items-center",children:[Q.jsx("h3",{className:"text-xl font-black text-left max-[450px]:hidden",children:"#"}),Q.jsx("h3",{className:"text-xl font-black text-left",children:"Name"}),Q.jsx("h3",{className:"text-xl font-black text-left max-[600px]:hidden",children:"Image"}),Q.jsx("h3",{className:"text-xl font-black text-left",children:"Price"}),Q.jsx("h3",{className:"text-xl font-black text-left max-[370px]:hidden",children:"24h"}),Q.jsx("h3",{className:"text-xl font-black text-left col-span-2 max-md:col-span-1",children:"Last 7 days"})]}),Q.jsx("div",{className:"flex flex-col px-4",children:(s&&s.length>0?s:h).map((y,_)=>{const b=!y;return Q.jsxs("div",{className:"grid grid-cols-7 max-md:grid-cols-6 max-[600px]:!grid-cols-5 max-[450px]:!grid-cols-4 max-[370px]:!grid-cols-3 gap-5 items-center py-3 border-b border-white/10 text-sm",children:[Q.jsx("h3",{className:"max-[450px]:hidden",children:b?Q.jsx("div",{className:"h-4 bg-white/20 rounded w-6 animate-pulse"}):n===1?_+1:(n-1)*i+_+1}),Q.jsx("button",{onClick:y?()=>p(y):void 0,className:"text-left hover:underline cursor-pointer",children:b?Q.jsx("div",{className:"h-4 bg-white/20 rounded w-24 animate-pulse"}):y.name}),Q.jsx("div",{className:"max-[600px]:hidden",children:b?Q.jsx("div",{className:"h-8 w-8 bg-white/20 rounded-full animate-pulse"}):Q.jsx("img",{src:y.image,alt:"img",className:"w-8"})}),Q.jsx("h3",{children:b?Q.jsx("div",{className:"h-4 bg-white/20 rounded w-16 animate-pulse"}):`$${y.current_price.toLocaleString()}`}),Q.jsx("h3",{className:`max-[370px]:hidden ${b?"":y.price_change_percentage_24h>0?"text-green-500":"text-red-500"}`,children:b?Q.jsx("div",{className:"h-4 bg-white/20 rounded w-10 animate-pulse"}):`${y.price_change_percentage_24h.toFixed(2)}%`}),Q.jsx("div",{className:"col-span-2 max-md:col-span-1",children:b?Q.jsx("div",{className:"h-10 bg-white/20 rounded animate-pulse"}):Q.jsx(Ek,{sparkline_in_7d:y.sparkline_in_7d})})]},(y==null?void 0:y.id)??_)})})]}),!!l.length&&!o&&!u.length&&Q.jsx("div",{className:"font-bold fontTitle text-2xl text-center mt-3 bg-[image:var(--color-background)] rounded-2xl py-2",children:"No coins found with this name"}),!l.length&&!o&&Q.jsx("div",{className:"font-bold fontTitle text-2xl text-center mt-3 bg-[image:var(--color-background)] rounded-2xl py-2",children:"Plese wait a minute to load data. CoinGecko API is limited"}),!l.length&&o&&Q.jsx("div",{className:"font-bold fontTitle text-2xl text-center mt-3 bg-[image:var(--color-background)] rounded-2xl py-2",children:"Loading..."})]})}const yX=()=>async e=>{try{e(nx(!0));const t=await e(xh.endpoints.getAllCoins.initiate(void 0,{forceRefetch:!0,subscriptionOptions:{pollingInterval:6e4}})).unwrap();e(CL(t))}catch(t){console.error("error fetching coins",t)}finally{e(nx(!1))}};function _X(e="0px"){const t=J.useRef(null),[n,i]=J.useState(!1);return J.useEffect(()=>{if(!t.current)return;const s=new IntersectionObserver(([o])=>{o.isIntersecting&&(i(!0),s.disconnect())},{rootMargin:e});return s.observe(t.current),()=>s.disconnect()},[t,e]),[t,n]}const vX=J.lazy(()=>uN(()=>import("./Wallet-BSlnypbL.js"),[]).then(e=>({default:e.Wallet})));function bX(){IN();const e=Ms();J.useEffect(()=>{e(yX())},[e]);const[t,n]=_X("200px");return Q.jsxs("div",{className:"relative",children:[Q.jsxs("div",{className:"fontText relative transitioned flex flex-col justify-between max-w-full overflow-hidden",children:[Q.jsx(BW,{}),Q.jsxs("main",{className:"myContainer text-[var(--color-text)] transitioned",children:[Q.jsx("section",{id:"section1",children:Q.jsx($W,{})}),Q.jsx("section",{id:"section2",children:Q.jsx(gX,{})}),Q.jsx("section",{id:"section3",ref:t,children:n&&Q.jsx(J.Suspense,{fallback:Q.jsx("div",{children:"Loading..."}),children:Q.jsx(vX,{})})})]}),Q.jsx(LW,{})]}),Q.jsx(MW,{}),Q.jsx(NW,{})]})}aN.createRoot(document.getElementById("root")).render(Q.jsx(J.StrictMode,{children:Q.jsx(EN,{store:DW,children:Q.jsx(bX,{})})}));export{pX as A,Dg as C,g9 as D,fX as L,em as P,SX as R,$m as T,Ms as a,FT as b,jb as c,RW as d,IX as e,PW as f,RX as g,DX as h,OX as i,Q as j,MX as k,DN as l,CX as m,PX as n,Va as o,tQ as p,oo as q,J as r,K0 as s,Z0 as t,Ma as u,XY as v,VX as w,LY as x};
